!function(t){var e={};function i(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(o,a,function(e){return t[e]}.bind(null,a));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){(function(e){
/*!
 * Vue.js v1.0.26
 * (c) 2016 Evan You
 * Released under the MIT License.
 */
t.exports=function(){"use strict";function t(e,i,a){if(o(e,i))e[i]=a;else if(e._isVue)t(e._data,i,a);else{var r=e.__ob__;if(r){if(r.convert(i,a),r.dep.notify(),r.vms)for(var n=r.vms.length;n--;){var s=r.vms[n];s._proxy(i),s._digest()}return a}e[i]=a}}function i(t,e){if(o(t,e)){delete t[e];var i=t.__ob__;if(!i)return void(t._isVue&&(delete t._data[e],t._digest()));if(i.dep.notify(),i.vms)for(var a=i.vms.length;a--;){var r=i.vms[a];r._unproxy(e),r._digest()}}}function o(t,e){return De.call(t,e)}function a(t){return We.test(t)}function r(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function n(t){return null==t?"":t.toString()}function s(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e}function l(t){return"true"===t||"false"!==t&&t}function d(t){var e=t.charCodeAt(0),i=t.charCodeAt(t.length-1);return e!==i||34!==e&&39!==e?t:t.slice(1,-1)}function p(t){return t.replace(Le,c)}function c(t,e){return e?e.toUpperCase():""}function h(t){return t.replace(Ge,"$1-$2").toLowerCase()}function u(t){return t.replace(Me,c)}function m(t,e){return function(i){var o=arguments.length;return o?o>1?t.apply(e,arguments):t.call(e,i):t.call(e)}}function f(t,e){e=e||0;for(var i=t.length-e,o=new Array(i);i--;)o[i]=t[i+e];return o}function v(t,e){for(var i=Object.keys(e),o=i.length;o--;)t[i[o]]=e[i[o]];return t}function _(t){return null!==t&&"object"==typeof t}function b(t){return Be.call(t)===Je}function y(t,e,i,o){Object.defineProperty(t,e,{value:i,enumerable:!!o,writable:!0,configurable:!0})}function g(t,e){var i,o,a,r,n,s=function s(){var l=Date.now()-r;e>l&&l>=0?i=setTimeout(s,e-l):(i=null,n=t.apply(a,o),i||(a=o=null))};return function(){return a=this,o=arguments,r=Date.now(),i||(i=setTimeout(s,e)),n}}function x(t,e){for(var i=t.length;i--;)if(t[i]===e)return i;return-1}function w(t){var e=function e(){return e.cancelled?void 0:t.apply(this,arguments)};return e.cancel=function(){e.cancelled=!0},e}function $(t,e){return t==e||!(!_(t)||!_(e))&&JSON.stringify(t)===JSON.stringify(e)}function S(t){this.size=0,this.limit=t,this.head=this.tail=void 0,this._keymap=Object.create(null)}function k(){var t,e=ui.slice(yi,_i).trim();if(e){t={};var i=e.match($i);t.name=i[0],i.length>1&&(t.args=i.slice(1).map(N))}t&&(mi.filters=mi.filters||[]).push(t),yi=_i+1}function N(t){if(Si.test(t))return{value:s(t),dynamic:!1};var e=d(t),i=e===t;return{value:i?t:e,dynamic:i}}function I(t){var e=wi.get(t);if(e)return e;for(gi=xi=!1,yi=0,mi={},_i=0,bi=(ui=t).length;bi>_i;_i++)if(vi=fi,fi=ui.charCodeAt(_i),gi)39===fi&&92!==vi&&(gi=!gi);else if(xi)34===fi&&92!==vi&&(xi=!xi);else if(124===fi&&124!==ui.charCodeAt(_i+1)&&124!==ui.charCodeAt(_i-1))null==mi.expression?(yi=_i+1,mi.expression=ui.slice(0,_i).trim()):k();else switch(fi){case 34:xi=!0;break;case 39:gi=!0}return null==mi.expression?mi.expression=ui.slice(0,_i).trim():0!==yi&&k(),wi.put(t,mi),mi}function T(t){return t.replace(Ni,"\\$&")}function O(){var t=T(Pi.delimiters[0]),e=T(Pi.delimiters[1]),i=T(Pi.unsafeDelimiters[0]),o=T(Pi.unsafeDelimiters[1]);Ti=new RegExp(i+"((?:.|\\n)+?)"+o+"|"+t+"((?:.|\\n)+?)"+e,"g"),Oi=new RegExp("^"+i+"((?:.|\\n)+?)"+o+"$"),Ii=new S(1e3)}function A(t){Ii||O();var e=Ii.get(t);if(e)return e;if(!Ti.test(t))return null;for(var i,o,a,r,n,s,l=[],d=Ti.lastIndex=0;i=Ti.exec(t);)(o=i.index)>d&&l.push({value:t.slice(d,o)}),a=Oi.test(i[0]),r=a?i[1]:i[2],n=r.charCodeAt(0),r=(s=42===n)?r.slice(1):r,l.push({tag:!0,value:r.trim(),html:a,oneTime:s}),d=o+i[0].length;return d<t.length&&l.push({value:t.slice(d)}),Ii.put(t,l),l}function F(t,e){return t.length>1?t.map(function(t){return C(t,e)}).join("+"):C(t[0],e,!0)}function C(t,e,i){return t.tag?t.oneTime&&e?'"'+e.$eval(t.value)+'"':function(t,e){if(Ai.test(t)){var i=I(t);return i.filters?"this._applyFilters("+i.expression+",null,"+JSON.stringify(i.filters)+",false)":"("+t+")"}return e?t:"("+t+")"}(t.value,i):'"'+t.value+'"'}function j(t,e,i,o){q(t,1,function(){e.appendChild(t)},i,o)}function P(t,e,i,o){q(t,1,function(){G(t,e)},i,o)}function z(t,e,i){q(t,-1,function(){B(t)},e,i)}function q(t,e,i,o,a){var r=t.__v_trans;if(!r||!r.hooks&&!ri||!o._isCompiled||o.$parent&&!o.$parent._isCompiled)return i(),void(a&&a());var n=e>0?"enter":"leave";r[n](i,a)}function R(t){return"string"==typeof t&&(t=document.querySelector(t)),t}function E(t){if(!t)return!1;var e=t.ownerDocument.documentElement,i=t.parentNode;return e===t||e===i||!(!i||1!==i.nodeType||!e.contains(i))}function D(t,e){var i=t.getAttribute(e);return null!==i&&t.removeAttribute(e),i}function W(t,e){var i=D(t,":"+e);return null===i&&(i=D(t,"v-bind:"+e)),i}function L(t,e){return t.hasAttribute(e)||t.hasAttribute(":"+e)||t.hasAttribute("v-bind:"+e)}function G(t,e){e.parentNode.insertBefore(t,e)}function M(t,e){e.nextSibling?G(t,e.nextSibling):e.parentNode.appendChild(t)}function B(t){t.parentNode.removeChild(t)}function J(t,e){e.firstChild?G(t,e.firstChild):e.appendChild(t)}function H(t,e){var i=t.parentNode;i&&i.replaceChild(e,t)}function U(t,e,i,o){t.addEventListener(e,i,o)}function V(t,e,i){t.removeEventListener(e,i)}function Q(t){var e=t.className;return"object"==typeof e&&(e=e.baseVal||""),e}function Y(t,e){Xe&&!/svg$/.test(t.namespaceURI)?t.className=e:t.setAttribute("class",e)}function Z(t,e){if(t.classList)t.classList.add(e);else{var i=" "+Q(t)+" ";i.indexOf(" "+e+" ")<0&&Y(t,(i+e).trim())}}function X(t,e){if(t.classList)t.classList.remove(e);else{for(var i=" "+Q(t)+" ",o=" "+e+" ";i.indexOf(o)>=0;)i=i.replace(o," ");Y(t,i.trim())}t.className||t.removeAttribute("class")}function K(t,e){var i,o;if(it(t)&&st(t.content)&&(t=t.content),t.hasChildNodes())for(tt(t),o=e?document.createDocumentFragment():document.createElement("div");i=t.firstChild;)o.appendChild(i);return o}function tt(t){for(var e;et(e=t.firstChild);)t.removeChild(e);for(;et(e=t.lastChild);)t.removeChild(e)}function et(t){return t&&(3===t.nodeType&&!t.data.trim()||8===t.nodeType)}function it(t){return t.tagName&&"template"===t.tagName.toLowerCase()}function ot(t,e){var i=Pi.debug?document.createComment(t):document.createTextNode(e?" ":"");return i.__v_anchor=!0,i}function at(t){if(t.hasAttributes())for(var e=t.attributes,i=0,o=e.length;o>i;i++){var a=e[i].name;if(qi.test(a))return p(a.replace(qi,""))}}function rt(t,e,i){for(var o;t!==e;)o=t.nextSibling,i(t),t=o;i(e)}function nt(t,e,i,o,a){function r(){if(s++,n&&s>=l.length){for(var t=0;t<l.length;t++)o.appendChild(l[t]);a&&a()}}var n=!1,s=0,l=[];rt(t,e,function(t){t===e&&(n=!0),l.push(t),z(t,i,r)})}function st(t){return t&&11===t.nodeType}function lt(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function dt(t,e){var i=t.tagName.toLowerCase(),o=t.hasAttributes();if(Ri.test(i)||Ei.test(i)){if(o)return pt(t,e)}else{if(ft(e,"components",i))return{id:i};var a=o&&pt(t,e);if(a)return a}}function pt(t,e){var i=t.getAttribute("is");if(null!=i){if(ft(e,"components",i))return t.removeAttribute("is"),{id:i}}else if(null!=(i=W(t,"is")))return{id:i,dynamic:!0}}function ct(e,i){var a,r,n;for(a in i)r=e[a],n=i[a],o(e,a)?_(r)&&_(n)&&ct(r,n):t(e,a,n);return e}function ht(t,e){var i=Object.create(t||null);return e?v(i,ut(e)):i}function ut(t){if(He(t)){for(var e,i={},o=t.length;o--;){var a="function"==typeof(e=t[o])?e.options&&e.options.name||e.id:e.name||e.id;a&&(i[a]=e)}return i}return t}function mt(t,e,i){function a(o){var a=Di[o]||Wi;n[o]=a(t[o],e[o],i,o)}(function(t){if(t.components)for(var e,i=t.components=ut(t.components),o=Object.keys(i),a=0,r=o.length;r>a;a++){var n=o[a];Ri.test(n)||Ei.test(n)||b(e=i[n])&&(i[n]=Re.extend(e))}})(e),function(t){var e,i,o=t.props;if(He(o))for(t.props={},e=o.length;e--;)"string"==typeof(i=o[e])?t.props[i]=null:i.name&&(t.props[i.name]=i);else if(b(o)){var a=Object.keys(o);for(e=a.length;e--;)"function"==typeof(i=o[a[e]])&&(o[a[e]]={type:i})}}(e);var r,n={};if(e.extends&&(t="function"==typeof e.extends?mt(t,e.extends.options,i):mt(t,e.extends,i)),e.mixins)for(var s=0,l=e.mixins.length;l>s;s++){var d=e.mixins[s],p=d.prototype instanceof Re?d.options:d;t=mt(t,p,i)}for(r in t)a(r);for(r in e)o(t,r)||a(r);return n}function ft(t,e,i,o){if("string"==typeof i){var a,r=t[e],n=r[i]||r[a=p(i)]||r[a.charAt(0).toUpperCase()+a.slice(1)];return n}}function vt(){this.id=Li++,this.subs=[]}function _t(t){Ji=!1,t(),Ji=!0}function bt(t){if(this.value=t,this.dep=new vt,y(t,"__ob__",this),He(t)){var e=Ue?yt:gt;e(t,Mi,Bi),this.observeArray(t)}else this.walk(t)}function yt(t,e){t.__proto__=e}function gt(t,e,i){for(var o=0,a=i.length;a>o;o++){var r=i[o];y(t,r,e[r])}}function xt(t,e){var i;if(t&&"object"==typeof t)return o(t,"__ob__")&&t.__ob__ instanceof bt?i=t.__ob__:Ji&&(He(t)||b(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new bt(t)),i&&e&&i.addVm(e),i}function wt(t,e,i){var o=new vt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var r=a&&a.get,n=a&&a.set,s=xt(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=r?r.call(t):i;if(vt.target&&(o.depend(),s&&s.dep.depend(),He(e)))for(var a,n=0,l=e.length;l>n;n++)(a=e[n])&&a.__ob__&&a.__ob__.dep.depend();return e},set:function(e){var a=r?r.call(t):i;e!==a&&(n?n.call(t,e):i=e,s=xt(e),o.notify())}})}}function $t(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&122>=e||e>=65&&90>=e?"ident":e>=49&&57>=e?"number":"else"}function St(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(a(e)?d(e):"*"+e)}function kt(t){function e(){var e=t[p+1];return c===eo&&"'"===e||c===io&&'"'===e?(p++,o="\\"+e,u[Qi](),!0):void 0}var i,o,a,r,n,s,l,d=[],p=-1,c=Ki,h=0,u=[];for(u[Yi]=function(){void 0!==a&&(d.push(a),a=void 0)},u[Qi]=function(){void 0===a?a=o:a+=o},u[Zi]=function(){u[Qi](),h++},u[Xi]=function(){if(h>0)h--,c=to,u[Qi]();else{if(h=0,!1===(a=St(a)))return!1;u[Yi]()}};null!=c;)if("\\"!==(i=t[++p])||!e()){if(r=$t(i),l=ro[c],(n=l[r]||l.else||ao)===ao)return;if(c=n[0],(s=u[n[1]])&&(o=void 0===(o=n[2])?i:o,!1===s()))return;if(c===oo)return d.raw=t,d}}function Nt(t){var e=Vi.get(t);return e||(e=kt(t))&&Vi.put(t,e),e}function It(t,e){return zt(e).get(t)}function Tt(e,i,o){var a=e;if("string"==typeof i&&(i=kt(i)),!i||!_(e))return!1;for(var r,n,s=0,l=i.length;l>s;s++)r=e,"*"===(n=i[s]).charAt(0)&&(n=zt(n.slice(1)).get.call(a,a)),l-1>s?_(e=e[n])||t(r,n,e={}):He(e)?e.$set(n,o):n in e?e[n]=o:t(e,n,o);return!0}function Ot(){}function At(t,e){var i=bo.length;return bo[i]=e?t.replace(ho,"\\n"):t,'"'+i+'"'}function Ft(t){var e=t.charAt(0),i=t.slice(1);return lo.test(i)?t:(i=i.indexOf('"')>-1?i.replace(mo,Ct):i,e+"scope."+i)}function Ct(t,e){return bo[e]}function jt(t){try{return new Function("scope","return "+t+";")}catch(t){return Ot}}function Pt(t){var e=Nt(t);return e?function(t,i){Tt(t,e,i)}:void 0}function zt(t,e){t=t.trim();var i=so.get(t);if(i)return e&&!i.set&&(i.set=Pt(i.exp)),i;var o={exp:t};return o.get=qt(t)&&t.indexOf("[")<0?jt("scope."+t):function(t){po.test(t),bo.length=0;var e=t.replace(uo,At).replace(co,"");return jt(e=(" "+e).replace(vo,Ft).replace(mo,Ct))}(t),e&&(o.set=Pt(t)),so.put(t,o),o}function qt(t){return fo.test(t)&&!_o.test(t)&&"Math."!==t.slice(0,5)}function Rt(){for(var t=!0;t;)t=!1,Et(go),Et(xo),go.length?t=!0:(Qe&&Pi.devtools&&Qe.emit("flush"),go.length=0,xo.length=0,wo={},$o=!1)}function Et(t){for(var e=0;e<t.length;e++){var i=t[e],o=i.id;wo[o]=null,i.run()}t.length=0}function Dt(t,e,i,o){o&&v(this,o);var a="function"==typeof e;if(this.vm=t,t._watchers.push(this),this.expression=e,this.cb=i,this.id=++So,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ci,this.newDepIds=new ci,this.prevError=null,a)this.getter=e,this.setter=void 0;else{var r=zt(e,this.twoWay);this.getter=r.get,this.setter=r.set}this.value=this.lazy?void 0:this.get(),this.queued=this.shallow=!1}function Wt(t){return it(t)&&st(t.content)}function Lt(t,e){var i=e?t:t.trim(),o=Io.get(i);if(o)return o;var a=document.createDocumentFragment(),r=t.match(Ao),n=Fo.test(t),s=Co.test(t);if(r||n||s){var l,d=r&&r[1],p=Oo[d]||Oo.efault,c=p[0],h=p[1],u=p[2],m=document.createElement("div");for(m.innerHTML=h+t+u;c--;)m=m.lastChild;for(;l=m.firstChild;)a.appendChild(l)}else a.appendChild(document.createTextNode(t));return e||tt(a),Io.put(i,a),a}function Gt(t){if(Wt(t))return Lt(t.innerHTML);if("SCRIPT"===t.tagName)return Lt(t.textContent);for(var e,i=Mt(t),o=document.createDocumentFragment();e=i.firstChild;)o.appendChild(e);return tt(o),o}function Mt(t){if(!t.querySelectorAll)return t.cloneNode();var e,i,o,a=t.cloneNode(!0);if(jo){var r=a;if(Wt(t)&&(t=t.content,r=a.content),(i=t.querySelectorAll("template")).length)for(o=r.querySelectorAll("template"),e=o.length;e--;)o[e].parentNode.replaceChild(Mt(i[e]),o[e])}if(Po)if("TEXTAREA"===t.tagName)a.value=t.value;else if((i=t.querySelectorAll("textarea")).length)for(o=a.querySelectorAll("textarea"),e=o.length;e--;)o[e].value=i[e].value;return a}function Bt(t,e,i){var o,a;return st(t)?(tt(t),e?Mt(t):t):("string"==typeof t?i||"#"!==t.charAt(0)?a=Lt(t,i):(a=To.get(t))||(o=document.getElementById(t.slice(1)))&&(a=Gt(o),To.put(t,a)):t.nodeType&&(a=Gt(t)),a&&e?Mt(a):a)}function Jt(t,e,i,o,a,r){this.children=[],this.childFrags=[],this.vm=e,this.scope=a,this.inserted=!1,this.parentFrag=r,r&&r.childFrags.push(this),this.unlink=t(e,i,o,a,this);var n=this.single=1===i.childNodes.length&&!i.childNodes[0].__v_anchor;n?(this.node=i.childNodes[0],this.before=Ht,this.remove=Ut):(this.node=ot("fragment-start"),this.end=ot("fragment-end"),this.frag=i,J(this.node,i),i.appendChild(this.end),this.before=Vt,this.remove=Qt),this.node.__v_frag=this}function Ht(t,e){this.inserted=!0;var i=!1!==e?P:G;i(this.node,t,this.vm),E(this.node)&&this.callHook(Yt)}function Ut(){this.inserted=!1;var t=E(this.node),e=this;this.beforeRemove(),z(this.node,this.vm,function(){t&&e.callHook(Zt),e.destroy()})}function Vt(t,e){this.inserted=!0;var i=this.vm,o=!1!==e?P:G;rt(this.node,this.end,function(e){o(e,t,i)}),E(this.node)&&this.callHook(Yt)}function Qt(){this.inserted=!1;var t=this,e=E(this.node);this.beforeRemove(),nt(this.node,this.end,this.vm,this.frag,function(){e&&t.callHook(Zt),t.destroy()})}function Yt(t){!t._isAttached&&E(t.$el)&&t._callHook("attached")}function Zt(t){t._isAttached&&!E(t.$el)&&t._callHook("detached")}function Xt(t,e){this.vm=t;var i,o="string"==typeof e;o||it(e)&&!e.hasAttribute("v-if")?i=Bt(e,!0):(i=document.createDocumentFragment()).appendChild(e),this.template=i;var a,r=t.constructor.cid;if(r>0){var n=r+(o?e:lt(e));(a=Ro.get(n))||(a=fe(i,t.$options,!0),Ro.put(n,a))}else a=fe(i,t.$options,!0);this.linker=a}function Kt(t,e,i){var o=t.node.previousSibling;if(o){for(t=o.__v_frag;!(t&&t.forId===i&&t.inserted||o===e);){if(!(o=o.previousSibling))return;t=o.__v_frag}return t}}function te(t){var e=t.node;if(t.end)for(;!e.__vue__&&e!==t.end&&e.nextSibling;)e=e.nextSibling;return e.__vue__}function ee(t,e,i,o){return o?"$index"===o?t:o.charAt(0).match(/\w/)?It(i,o):i[o]:e||i}function ie(t,e,i){for(var o,a,r=e?[]:null,n=0,s=t.options.length;s>n;n++)if(o=t.options[n],i?o.hasAttribute("selected"):o.selected){if(a=o.hasOwnProperty("_value")?o._value:o.value,!e)return a;r.push(a)}return r}function oe(t,e){for(var i=t.length;i--;)if($(t[i],e))return i;return-1}function ae(t){if(Qo[t])return Qo[t];var e=function(t){var e=p(t=h(t)),i=e.charAt(0).toUpperCase()+e.slice(1);Yo||(Yo=document.createElement("div"));var o,a=Ho.length;if("filter"!==e&&e in Yo.style)return{kebab:t,camel:e};for(;a--;)if((o=Uo[a]+i)in Yo.style)return{kebab:Ho[a]+t,camel:o}}(t);return Qo[t]=Qo[e]=e,e}function re(t,e,i){if(-1!==(e=e.trim()).indexOf(" "))for(var o=e.split(/\s+/),a=0,r=o.length;r>a;a++)i(t,o[a]);else i(t,e)}function ne(t,e,i){for(var o,r,n,s,l,d,c,u=[],m=Object.keys(e),f=m.length;f--;)r=m[f],o=e[r]||sa,l=p(r),la.test(l)&&(c={name:r,path:l,options:o,mode:na.ONE_WAY,raw:null},n=h(r),null===(s=W(t,n))&&(null!==(s=W(t,n+".sync"))?c.mode=na.TWO_WAY:null!==(s=W(t,n+".once"))&&(c.mode=na.ONE_TIME)),null!==s?(c.raw=s,d=I(s),s=d.expression,c.filters=d.filters,a(s)&&!d.filters?c.optimizedLiteral=!0:c.dynamic=!0,c.parentPath=s):null!==(s=D(t,n))&&(c.raw=s),u.push(c));return se(u)}function se(t){return function(e,i){e._props={};for(var a,r,n,p,c,u=e.$options.propsData,m=t.length;m--;)if(a=t[m],c=a.raw,r=a.path,n=a.options,e._props[r]=a,u&&o(u,r)&&de(e,a,u[r]),null===c)de(e,a,void 0);else if(a.dynamic)a.mode===na.ONE_TIME?(p=(i||e._context||e).$get(a.parentPath),de(e,a,p)):e._context?e._bindDir({name:"prop",def:pa,prop:a},null,null,i):de(e,a,e.$get(a.parentPath));else if(a.optimizedLiteral){var f=d(c);p=f===c?l(s(c)):f,de(e,a,p)}else p=n.type===Boolean&&(""===c||c===h(a.name))||c,de(e,a,p)}}function le(t,e,i,o){var a=e.dynamic&&qt(e.parentPath),r=i;void 0===r&&(r=pe(t,e));var n=(r=function(t,e,i){var o=t.options.coerce;return o&&"function"==typeof o?o(e):e}(e,r))!==i;(function(t,e,i){if(!t.options.required&&(null===t.raw||null==e))return!0;var o=t.options,a=o.type,r=!a,n=[];if(a){He(a)||(a=[a]);for(var s=0;s<a.length&&!r;s++){var l=ce(e,a[s]);n.push(l.expectedType),r=l.valid}}if(!r)return!1;var d=o.validator;return!d||d(e)})(e,r)||(r=void 0),a&&!n?_t(function(){o(r)}):o(r)}function de(t,e,i){le(t,e,i,function(i){wt(t,e.path,i)})}function pe(t,e){var i=e.options;if(!o(i,"default"))return i.type!==Boolean&&void 0;var a=i.default;return _(a),"function"==typeof a&&i.type!==Function?a.call(t):a}function ce(t,e){var i,o;return e===String?i=typeof t==(o="string"):e===Number?i=typeof t==(o="number"):e===Boolean?i=typeof t==(o="boolean"):e===Function?i=typeof t==(o="function"):e===Object?(o="object",i=b(t)):e===Array?(o="array",i=He(t)):i=t instanceof e,{valid:i,expectedType:o}}function he(t){ca.push(t),ha||(ha=!0,pi(ue))}function ue(){for(var t=document.documentElement.offsetHeight,e=0;e<ca.length;e++)ca[e]();return ca=[],ha=!1,t}function me(t,e,i,o){this.id=e,this.el=t,this.enterClass=i&&i.enterClass||e+"-enter",this.leaveClass=i&&i.leaveClass||e+"-leave",this.hooks=i,this.vm=o,this.pendingCssEvent=this.pendingCssCb=this.cancel=this.pendingJsCb=this.op=this.cb=null,this.justEntered=!1,this.entered=this.left=!1,this.typeCache={},this.type=i&&i.type;var a=this;["enterNextTick","enterDone","leaveNextTick","leaveDone"].forEach(function(t){a[t]=m(a[t],a)})}function fe(t,e,i){var o=i||!e._asComponent?we(t,e):null,a=o&&o.terminal||Ae(t)||!t.hasChildNodes()?null:function t(e,i){for(var o,a,r,n=[],s=0,l=e.length;l>s;s++)r=e[s],o=we(r,i),a=o&&o.terminal||"SCRIPT"===r.tagName||!r.hasChildNodes()?null:t(r.childNodes,i),n.push(o,a);return n.length?function(t){return function(e,i,o,a,r){for(var n,s,l,d=0,p=0,c=t.length;c>d;p++){n=i[p],s=t[d++],l=t[d++];var h=f(n.childNodes);s&&s(e,n,o,a,r),l&&l(e,h,o,a,r)}}}(n):null}(t.childNodes,e);return function(t,e,i,r,n){var s=f(e.childNodes),l=ve(function(){o&&o(t,e,i,r,n),a&&a(t,s,i,r,n)},t);return be(t,l)}}function ve(t,e){e._directives=[];var i=e._directives.length;t();var o=e._directives.slice(i);o.sort(_e);for(var a=0,r=o.length;r>a;a++)o[a]._bind();return o}function _e(t,e){return t=t.descriptor.def.priority||Na,e=e.descriptor.def.priority||Na,t>e?-1:t===e?0:1}function be(t,e,i,o){function a(t){ye(0,e),i&&o&&ye(0,o)}return a.dirs=e,a}function ye(t,e,i){for(var o=e.length;o--;)e[o]._teardown()}function ge(t,e,i,o){var a=ne(e,i),r=ve(function(){a(t,o)},t);return be(t,r)}function xe(t,e,i){var o,a,r=e._containerAttrs,n=e._replacerAttrs;return 11!==t.nodeType&&(e._asComponent?(r&&i&&(o=Te(r,i)),n&&(a=Te(n,e))):a=Te(t.attributes,e)),e._containerAttrs=e._replacerAttrs=null,function(t,e,i){var r,n=t._context;n&&o&&(r=ve(function(){o(n,e,null,i)},n));var s=ve(function(){a&&a(t,e)},t);return be(t,s,n,r)}}function we(t,e){var i=t.nodeType;return 1!==i||Ae(t)?3===i&&t.data.trim()?function(t,e){if(t._skip)return $e;var i=A(t.wholeText);if(!i)return null;for(var o=t.nextSibling;o&&3===o.nodeType;)o._skip=!0,o=o.nextSibling;for(var a,r,n=document.createDocumentFragment(),s=0,l=i.length;l>s;s++)r=i[s],a=r.tag?Se(r):document.createTextNode(r.value),n.appendChild(a);return ke(i,n)}(t):null:function(t,e){if("TEXTAREA"===t.tagName){var i=A(t.value);i&&(t.setAttribute(":value",F(i)),t.value="")}var o,a=t.hasAttributes(),r=a&&f(t.attributes);return a&&(o=function(t,e,i){if(null!==D(t,"v-pre"))return Ne;if(t.hasAttribute("v-else")){var o=t.previousElementSibling;if(o&&o.hasAttribute("v-if"))return Ne}for(var a,r,n,s,l,d,p,c,h,u,m=0,f=e.length;f>m;m++)a=e[m],r=a.name.replace(Sa,""),(l=r.match($a))&&(h=ft(i,"directives",l[1]))&&h.terminal&&(!u||(h.priority||Ia)>u.priority)&&(u=h,p=a.name,s=Oe(a.name),n=a.value,d=l[1],c=l[2]);return u?Ie(t,d,n,0,u,p,c,s):void 0}(t,r,e)),o||(o=function(t,e){var i=t.tagName.toLowerCase();if(!Ri.test(i)){var o=ft(e,"elementDirectives",i);return o?Ie(t,i,"",0,o):void 0}}(t,e)),o||(o=function(t,e){var i=dt(t,e);if(i){var o=at(t),a={name:"component",ref:o,expression:i.id,def:ga.component,modifiers:{literal:!i.dynamic}},r=function(t,e,i,r,n){o&&wt((r||t).$refs,o,null),t._bindDir(a,e,i,r,n)};return r.terminal=!0,r}}(t,e)),!o&&a&&(o=Te(r,e)),o}(t,e)}function $e(t,e){B(e)}function Se(t,e){function i(e){if(!t.descriptor){var i=I(t.value);t.descriptor={name:e,def:oa[e],expression:i.expression,filters:i.filters}}}var o;return t.oneTime?o=document.createTextNode(t.value):t.html?(o=document.createComment("v-html"),i("html")):(o=document.createTextNode(" "),i("text")),o}function ke(t,e){return function(i,o,a,r){for(var s,l,d,p=e.cloneNode(!0),c=f(p.childNodes),h=0,u=t.length;u>h;h++)s=t[h],l=s.value,s.tag&&(d=c[h],s.oneTime?(l=(r||i).$eval(l),s.html?H(d,Bt(l,!0)):d.data=n(l)):i._bindDir(s.descriptor,d,a,r));H(o,p)}}function Ne(){}function Ie(t,e,i,o,a,r,n,s){var l=I(i),d={name:e,arg:n,expression:l.expression,filters:l.filters,raw:i,attr:r,modifiers:s,def:a};"for"!==e&&"router-view"!==e||(d.ref=at(t));var p=function(t,e,i,o,a){d.ref&&wt((o||t).$refs,d.ref,null),t._bindDir(d,e,i,o,a)};return p.terminal=!0,p}function Te(t,e){function i(t,e,i){var o=i&&function(t){for(var e=t.length;e--;)if(t[e].oneTime)return!0}(i),a=!o&&I(r);f.push({name:t,attr:n,raw:s,def:e,arg:d,modifiers:p,expression:a&&a.expression,filters:a&&a.filters,interp:i,hasOneTime:o})}for(var o,a,r,n,s,l,d,p,c,h,u,m=t.length,f=[];m--;)if(o=t[m],a=n=o.name,r=s=o.value,h=A(r),d=null,p=Oe(a),a=a.replace(Sa,""),h)r=F(h),d=a,i("bind",oa.bind,h);else if(ka.test(a))p.literal=!xa.test(a),i("transition",ga.transition);else if(wa.test(a))d=a.replace(wa,""),i("on",oa.on);else if(xa.test(a))"style"===(l=a.replace(xa,""))||"class"===l?i(l,ga[l]):(d=l,i("bind",oa.bind));else if(u=a.match($a)){if(l=u[1],d=u[2],"else"===l)continue;(c=ft(e,"directives",l))&&i(l,c)}return f.length?function(t){return function(e,i,o,a,r){for(var n=t.length;n--;)e._bindDir(t[n],i,o,a,r)}}(f):void 0}function Oe(t){var e=Object.create(null),i=t.match(Sa);if(i)for(var o=i.length;o--;)e[i[o].slice(1)]=!0;return e}function Ae(t){return"SCRIPT"===t.tagName&&(!t.hasAttribute("type")||"text/javascript"===t.getAttribute("type"))}function Fe(t,e){return e&&(e._containerAttrs=Ce(t)),it(t)&&(t=Bt(t)),e&&(e._asComponent&&!e.template&&(e.template="<slot></slot>"),e.template&&(e._content=K(t),t=function(t,e){var i=Bt(e.template,!0);if(i){var o=i.firstChild,a=o.tagName&&o.tagName.toLowerCase();return e.replace?(document.body,i.childNodes.length>1||1!==o.nodeType||"component"===a||ft(e,"components",a)||L(o,"is")||ft(e,"elementDirectives",a)||o.hasAttribute("v-for")||o.hasAttribute("v-if")?i:(e._replacerAttrs=Ce(o),function(t,e){for(var i,o,a=t.attributes,r=a.length;r--;)i=a[r].name,o=a[r].value,e.hasAttribute(i)||Ta.test(i)?"class"===i&&!A(o)&&(o=o.trim())&&o.split(/\s+/).forEach(function(t){Z(e,t)}):e.setAttribute(i,o)}(t,o),o)):(t.appendChild(i),t)}}(t,e))),st(t)&&(J(ot("v-start",!0),t),t.appendChild(ot("v-end",!0))),t}function Ce(t){return 1===t.nodeType&&t.hasAttributes()?f(t.attributes):void 0}function je(t,e){if(e){for(var i,o,a=t._slotContents=Object.create(null),r=0,n=e.children.length;n>r;r++)i=e.children[r],(o=i.getAttribute("slot"))&&(a[o]||(a[o]=[])).push(i);for(o in a)a[o]=Pe(a[o],e);if(e.hasChildNodes()){var s=e.childNodes;if(1===s.length&&3===s[0].nodeType&&!s[0].data.trim())return;a.default=Pe(e.childNodes,e)}}}function Pe(t,e){var i=document.createDocumentFragment();t=f(t);for(var o=0,a=t.length;a>o;o++){var r=t[o];!it(r)||r.hasAttribute("v-if")||r.hasAttribute("v-for")||(e.removeChild(r),r=Bt(r,!0)),i.appendChild(r)}return i}function ze(){}function qe(t,e,i,o,a,r){this.vm=e,this.el=i,this.descriptor=t,this.name=t.name,this.expression=t.expression,this.arg=t.arg,this.modifiers=t.modifiers,this.filters=t.filters,this.literal=this.modifiers&&this.modifiers.literal,this._locked=!1,this._bound=!1,this._listeners=null,this._host=o,this._scope=a,this._frag=r}function Re(t){this._init(t)}function Ee(t,e){var i;if(b(t)){var o=Object.keys(t);for(i=o.length;i--;)if(Ee(t[o[i]],e))return!0}else if(He(t)){for(i=t.length;i--;)if(Ee(t[i],e))return!0}else if(null!=t)return t.toString().toLowerCase().indexOf(e)>-1}var De=Object.prototype.hasOwnProperty,We=/^\s?(true|false|-?[\d\.]+|'[^']*'|"[^"]*")\s?$/,Le=/-(\w)/g,Ge=/([a-z\d])([A-Z])/g,Me=/(?:^|[-_\/])(\w)/g,Be=Object.prototype.toString,Je="[object Object]",He=Array.isArray,Ue="__proto__"in{},Ve="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),Qe=Ve&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Ye=Ve&&window.navigator.userAgent.toLowerCase(),Ze=Ye&&Ye.indexOf("trident")>0,Xe=Ye&&Ye.indexOf("msie 9.0")>0,Ke=Ye&&Ye.indexOf("android")>0,ti=Ye&&/(iphone|ipad|ipod|ios)/i.test(Ye),ei=ti&&Ye.match(/os ([\d_]+)/),ii=ei&&ei[1].split("_"),oi=ii&&Number(ii[0])>=9&&Number(ii[1])>=3&&!window.indexedDB,ai=void 0,ri=void 0,ni=void 0,si=void 0;if(Ve&&!Xe){var li=void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend,di=void 0===window.onanimationend&&void 0!==window.onwebkitanimationend;ai=li?"WebkitTransition":"transition",ri=li?"webkitTransitionEnd":"transitionend",ni=di?"WebkitAnimation":"animation",si=di?"webkitAnimationEnd":"animationend"}var pi=function(){function t(){a=!1;var t=o.slice(0);o=[];for(var e=0;e<t.length;e++)t[e]()}var i,o=[],a=!1;if("undefined"==typeof MutationObserver||oi){var r=Ve?window:void 0!==e?e:{};i=r.setImmediate||setTimeout}else{var n=1,s=new MutationObserver(t),l=document.createTextNode(n);s.observe(l,{characterData:!0}),i=function(){n=(n+1)%2,l.data=n}}return function(e,r){var n=r?function(){e.call(r)}:e;o.push(n),a||(a=!0,i(t,0))}}(),ci=void 0;"undefined"!=typeof Set&&Set.toString().match(/native code/)?ci=Set:((ci=function(){this.set=Object.create(null)}).prototype.has=function(t){return void 0!==this.set[t]},ci.prototype.add=function(t){this.set[t]=1},ci.prototype.clear=function(){this.set=Object.create(null)});var hi=S.prototype;hi.put=function(t,e){var i,o=this.get(t,!0);return o||(this.size===this.limit&&(i=this.shift()),o={key:t},this._keymap[t]=o,this.tail?(this.tail.newer=o,o.older=this.tail):this.head=o,this.tail=o,this.size++),o.value=e,i},hi.shift=function(){var t=this.head;return t&&(this.head=this.head.newer,this.head.older=void 0,t.newer=t.older=void 0,this._keymap[t.key]=void 0,this.size--),t},hi.get=function(t,e){var i=this._keymap[t];if(void 0!==i)return i===this.tail?e?i:i.value:(i.newer&&(i===this.head&&(this.head=i.newer),i.newer.older=i.older),i.older&&(i.older.newer=i.newer),i.newer=void 0,i.older=this.tail,this.tail&&(this.tail.newer=i),this.tail=i,e?i:i.value)};var ui,mi,fi,vi,_i,bi,yi,gi,xi,wi=new S(1e3),$i=/[^\s'"]+|'[^']*'|"[^"]*"/g,Si=/^in$|^-?\d+/,ki=Object.freeze({parseDirective:I}),Ni=/[-.*+?^${}()|[\]\/\\]/g,Ii=void 0,Ti=void 0,Oi=void 0,Ai=/[^|]\|[^|]/,Fi=Object.freeze({compileRegex:O,parseText:A,tokensToExp:F}),Ci=["{{","}}"],ji=["{{{","}}}"],Pi=Object.defineProperties({debug:!1,silent:!1,async:!0,warnExpressionErrors:!0,devtools:!1,_delimitersChanged:!0,_assetTypes:["component","directive","elementDirective","filter","transition","partial"],_propBindingModes:{ONE_WAY:0,TWO_WAY:1,ONE_TIME:2},_maxUpdateCount:100},{delimiters:{get:function(){return Ci},set:function(t){Ci=t,O()},configurable:!0,enumerable:!0},unsafeDelimiters:{get:function(){return ji},set:function(t){ji=t,O()},configurable:!0,enumerable:!0}}),zi=Object.freeze({appendWithTransition:j,beforeWithTransition:P,removeWithTransition:z,applyTransition:q}),qi=/^v-ref:/,Ri=/^(div|p|span|img|a|b|i|br|ul|ol|li|h1|h2|h3|h4|h5|h6|code|pre|table|th|td|tr|form|label|input|select|option|nav|article|section|header|footer)$/i,Ei=/^(slot|partial|component)$/i,Di=Pi.optionMergeStrategies=Object.create(null);Di.data=function(t,e,i){return i?t||e?function(){var o="function"==typeof e?e.call(i):e,a="function"==typeof t?t.call(i):void 0;return o?ct(o,a):a}:void 0:e?"function"!=typeof e?t:t?function(){return ct(e.call(this),t.call(this))}:e:t},Di.el=function(t,e,i){if(i||!e||"function"==typeof e){var o=e||t;return i&&"function"==typeof o?o.call(i):o}},Di.init=Di.created=Di.ready=Di.attached=Di.detached=Di.beforeCompile=Di.compiled=Di.beforeDestroy=Di.destroyed=Di.activate=function(t,e){return e?t?t.concat(e):He(e)?e:[e]:t},Pi._assetTypes.forEach(function(t){Di[t+"s"]=ht}),Di.watch=Di.events=function(t,e){if(!e)return t;if(!t)return e;var i={};for(var o in v(i,t),e){var a=i[o],r=e[o];a&&!He(a)&&(a=[a]),i[o]=a?a.concat(r):[r]}return i},Di.props=Di.methods=Di.computed=function(t,e){if(!e)return t;if(!t)return e;var i=Object.create(null);return v(i,t),v(i,e),i};var Wi=function(t,e){return void 0===e?t:e},Li=0;vt.target=null,vt.prototype.addSub=function(t){this.subs.push(t)},vt.prototype.removeSub=function(t){this.subs.$remove(t)},vt.prototype.depend=function(){vt.target.addDep(this)},vt.prototype.notify=function(){for(var t=f(this.subs),e=0,i=t.length;i>e;e++)t[e].update()};var Gi=Array.prototype,Mi=Object.create(Gi);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Gi[t];y(Mi,t,function(){for(var i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];var a,r=e.apply(this,o),n=this.__ob__;switch(t){case"push":case"unshift":a=o;break;case"splice":a=o.slice(2)}return a&&n.observeArray(a),n.dep.notify(),r})}),y(Gi,"$set",function(t,e){return t>=this.length&&(this.length=Number(t)+1),this.splice(t,1,e)[0]}),y(Gi,"$remove",function(t){if(this.length){var e=x(this,t);return e>-1?this.splice(e,1):void 0}});var Bi=Object.getOwnPropertyNames(Mi),Ji=!0;bt.prototype.walk=function(t){for(var e=Object.keys(t),i=0,o=e.length;o>i;i++)this.convert(e[i],t[e[i]])},bt.prototype.observeArray=function(t){for(var e=0,i=t.length;i>e;e++)xt(t[e])},bt.prototype.convert=function(t,e){wt(this.value,t,e)},bt.prototype.addVm=function(t){(this.vms||(this.vms=[])).push(t)},bt.prototype.removeVm=function(t){this.vms.$remove(t)};var Hi=Object.freeze({defineReactive:wt,set:t,del:i,hasOwn:o,isLiteral:a,isReserved:r,_toString:n,toNumber:s,toBoolean:l,stripQuotes:d,camelize:p,hyphenate:h,classify:u,bind:m,toArray:f,extend:v,isObject:_,isPlainObject:b,def:y,debounce:g,indexOf:x,cancellable:w,looseEqual:$,isArray:He,hasProto:Ue,inBrowser:Ve,devtools:Qe,isIE:Ze,isIE9:Xe,isAndroid:Ke,isIos:ti,iosVersionMatch:ei,iosVersion:ii,hasMutationObserverBug:oi,get transitionProp(){return ai},get transitionEndEvent(){return ri},get animationProp(){return ni},get animationEndEvent(){return si},nextTick:pi,get _Set(){return ci},query:R,inDoc:E,getAttr:D,getBindAttr:W,hasBindAttr:L,before:G,after:M,remove:B,prepend:J,replace:H,on:U,off:V,setClass:Y,addClass:Z,removeClass:X,extractContent:K,trimNode:tt,isTemplate:it,createAnchor:ot,findRef:at,mapNodeRange:rt,removeNodeRange:nt,isFragment:st,getOuterHTML:lt,mergeOptions:mt,resolveAsset:ft,checkComponentAttr:dt,commonTagRE:Ri,reservedTagRE:Ei,warn:void 0}),Ui=0,Vi=new S(1e3),Qi=0,Yi=1,Zi=2,Xi=3,Ki=0,to=4,eo=5,io=6,oo=7,ao=8,ro=[];ro[Ki]={ws:[Ki],ident:[3,Qi],"[":[to],eof:[oo]},ro[1]={ws:[1],".":[2],"[":[to],eof:[oo]},ro[2]={ws:[2],ident:[3,Qi]},ro[3]={ident:[3,Qi],0:[3,Qi],number:[3,Qi],ws:[1,Yi],".":[2,Yi],"[":[to,Yi],eof:[oo,Yi]},ro[to]={"'":[eo,Qi],'"':[io,Qi],"[":[to,Zi],"]":[1,Xi],eof:ao,else:[to,Qi]},ro[eo]={"'":[to,Qi],eof:ao,else:[eo,Qi]},ro[io]={'"':[to,Qi],eof:ao,else:[io,Qi]};var no=Object.freeze({parsePath:Nt,getPath:It,setPath:Tt}),so=new S(1e3),lo=new RegExp("^("+"Math,Date,this,true,false,null,undefined,Infinity,NaN,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,parseInt,parseFloat".replace(/,/g,"\\b|")+"\\b)"),po=new RegExp("^("+"break,case,class,catch,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,let,return,super,switch,throw,try,var,while,with,yield,enum,await,implements,package,protected,static,interface,private,public".replace(/,/g,"\\b|")+"\\b)"),co=/\s/g,ho=/\n/g,uo=/[\{,]\s*[\w\$_]+\s*:|('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`)|new |typeof |void /g,mo=/"(\d+)"/g,fo=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?'\]|\[".*?"\]|\[\d+\]|\[[A-Za-z_$][\w$]*\])*$/,vo=/[^\w$\.](?:[A-Za-z_$][\w$]*)/g,_o=/^(?:true|false|null|undefined|Infinity|NaN)$/,bo=[],yo=Object.freeze({parseExpression:zt,isSimplePath:qt}),go=[],xo=[],wo={},$o=!1,So=0;Dt.prototype.get=function(){this.beforeGet();var t,e=this.scope||this.vm;try{t=this.getter.call(e,e)}catch(t){}return this.deep&&function t(e,i){var o=void 0,a=void 0;i||(i=ko).clear();var r=He(e),n=_(e);if((r||n)&&Object.isExtensible(e)){if(e.__ob__){var s=e.__ob__.dep.id;if(i.has(s))return;i.add(s)}if(r)for(o=e.length;o--;)t(e[o],i);else if(n)for(a=Object.keys(e),o=a.length;o--;)t(e[a[o]],i)}}(t),this.preProcess&&(t=this.preProcess(t)),this.filters&&(t=e._applyFilters(t,null,this.filters,!1)),this.postProcess&&(t=this.postProcess(t)),this.afterGet(),t},Dt.prototype.set=function(t){var e=this.scope||this.vm;this.filters&&(t=e._applyFilters(t,this.value,this.filters,!0));try{this.setter.call(e,e,t)}catch(t){}var i=e.$forContext;if(i&&i.alias===this.expression){if(i.filters)return;i._withLock(function(){e.$key?i.rawValue[e.$key]=t:i.rawValue.$set(e.$index,t)})}},Dt.prototype.beforeGet=function(){vt.target=this},Dt.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Dt.prototype.afterGet=function(){vt.target=null;for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Dt.prototype.update=function(t){this.lazy?this.dirty=!0:this.sync||!Pi.async?this.run():(this.shallow=this.queued?!!t&&this.shallow:!!t,this.queued=!0,function(t){var e=t.id;if(null==wo[e]){var i=t.user?xo:go;wo[e]=i.length,i.push(t),$o||($o=!0,pi(Rt))}}(this))},Dt.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||(_(t)||this.deep)&&!this.shallow){var e=this.value;this.value=t,this.prevError,this.cb.call(this.vm,t,e)}this.queued=this.shallow=!1}},Dt.prototype.evaluate=function(){var t=vt.target;this.value=this.get(),this.dirty=!1,vt.target=t},Dt.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Dt.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||this.vm._watchers.$remove(this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.vm=this.cb=this.value=null}};var ko=new ci,No={bind:function(){this.attr=3===this.el.nodeType?"data":"textContent"},update:function(t){this.el[this.attr]=n(t)}},Io=new S(1e3),To=new S(1e3),Oo={efault:[0,"",""],legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]};Oo.td=Oo.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Oo.option=Oo.optgroup=[1,'<select multiple="multiple">',"</select>"],Oo.thead=Oo.tbody=Oo.colgroup=Oo.caption=Oo.tfoot=[1,"<table>","</table>"],Oo.g=Oo.defs=Oo.symbol=Oo.use=Oo.image=Oo.text=Oo.circle=Oo.ellipse=Oo.line=Oo.path=Oo.polygon=Oo.polyline=Oo.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"version="1.1">',"</svg>"];var Ao=/<([\w:-]+)/,Fo=/&#?\w+?;/,Co=/<!--/,jo=function(){if(Ve){var t=document.createElement("div");return t.innerHTML="<template>1</template>",!t.cloneNode(!0).firstChild.innerHTML}return!1}(),Po=function(){if(Ve){var t=document.createElement("textarea");return t.placeholder="t","t"===t.cloneNode(!0).value}return!1}(),zo=Object.freeze({cloneNode:Mt,parseTemplate:Bt}),qo={bind:function(){8===this.el.nodeType&&(this.nodes=[],this.anchor=ot("v-html"),H(this.el,this.anchor))},update:function(t){t=n(t),this.nodes?this.swap(t):this.el.innerHTML=t},swap:function(t){for(var e=this.nodes.length;e--;)B(this.nodes[e]);var i=Bt(t,!0,!0);this.nodes=f(i.childNodes),G(i,this.anchor)}};Jt.prototype.callHook=function(t){var e,i;for(e=0,i=this.childFrags.length;i>e;e++)this.childFrags[e].callHook(t);for(e=0,i=this.children.length;i>e;e++)t(this.children[e])},Jt.prototype.beforeRemove=function(){var t,e;for(t=0,e=this.childFrags.length;e>t;t++)this.childFrags[t].beforeRemove(!1);for(t=0,e=this.children.length;e>t;t++)this.children[t].$destroy(!1,!0);var i=this.unlink.dirs;for(t=0,e=i.length;e>t;t++)i[t]._watcher&&i[t]._watcher.teardown()},Jt.prototype.destroy=function(){this.parentFrag&&this.parentFrag.childFrags.$remove(this),this.node.__v_frag=null,this.unlink()};var Ro=new S(5e3);Xt.prototype.create=function(t,e,i){var o=Mt(this.template);return new Jt(this.linker,this.vm,o,t,e,i)};var Eo=0,Do={priority:2200,terminal:!0,params:["track-by","stagger","enter-stagger","leave-stagger"],bind:function(){var t=this.expression.match(/(.*) (?:in|of) (.*)/);if(t){var e=t[1].match(/\((.*),(.*)\)/);e?(this.iterator=e[1].trim(),this.alias=e[2].trim()):this.alias=t[1].trim(),this.expression=t[2]}if(this.alias){this.id="__v-for__"+ ++Eo;var i=this.el.tagName;this.isOption=("OPTION"===i||"OPTGROUP"===i)&&"SELECT"===this.el.parentNode.tagName,this.start=ot("v-for-start"),this.end=ot("v-for-end"),H(this.el,this.end),G(this.start,this.end),this.cache=Object.create(null),this.factory=new Xt(this.vm,this.el)}},update:function(t){this.diff(t),this.updateRef(),this.updateModel()},diff:function(t){var e,i,a,r,n,s,l=t[0],d=this.fromObject=_(l)&&o(l,"$key")&&o(l,"$value"),p=this.params.trackBy,c=this.frags,h=this.frags=new Array(t.length),u=this.alias,m=this.iterator,f=this.start,v=this.end,b=E(f),y=!c;for(e=0,i=t.length;i>e;e++)l=t[e],r=d?l.$key:null,n=d?l.$value:l,s=!_(n),(a=!y&&this.getCachedFrag(n,e,r))?(a.reused=!0,a.scope.$index=e,r&&(a.scope.$key=r),m&&(a.scope[m]=null!==r?r:e),(p||d||s)&&_t(function(){a.scope[u]=n})):(a=this.create(n,u,e,r)).fresh=!y,h[e]=a,y&&a.before(v);if(!y){var g=0,x=c.length-h.length;for(this.vm._vForRemoving=!0,e=0,i=c.length;i>e;e++)(a=c[e]).reused||(this.deleteCachedFrag(a),this.remove(a,g++,x,b));this.vm._vForRemoving=!1,g&&(this.vm._watchers=this.vm._watchers.filter(function(t){return t.active}));var w,$,S,k=0;for(e=0,i=h.length;i>e;e++)a=h[e],w=h[e-1],$=w?w.staggerCb?w.staggerAnchor:w.end||w.node:f,a.reused&&!a.staggerCb?(S=Kt(a,f,this.id))===w||S&&Kt(S,f,this.id)===w||this.move(a,$):this.insert(a,k++,$,b),a.reused=a.fresh=!1}},create:function(t,e,i,o){var a=this._host,r=this._scope||this.vm,n=Object.create(r);n.$refs=Object.create(r.$refs),n.$els=Object.create(r.$els),n.$parent=r,n.$forContext=this,_t(function(){wt(n,e,t)}),wt(n,"$index",i),o?wt(n,"$key",o):n.$key&&y(n,"$key",null),this.iterator&&wt(n,this.iterator,null!==o?o:i);var s=this.factory.create(a,n,this._frag);return s.forId=this.id,this.cacheFrag(t,s,i,o),s},updateRef:function(){var t=this.descriptor.ref;if(t){var e,i=(this._scope||this.vm).$refs;this.fromObject?(e={},this.frags.forEach(function(t){e[t.scope.$key]=te(t)})):e=this.frags.map(te),i[t]=e}},updateModel:function(){if(this.isOption){var t=this.start.parentNode,e=t&&t.__v_model;e&&e.forceUpdate()}},insert:function(t,e,i,o){t.staggerCb&&(t.staggerCb.cancel(),t.staggerCb=null);var a=this.getStagger(t,e,null,"enter");if(o&&a){var r=t.staggerAnchor;r||((r=t.staggerAnchor=ot("stagger-anchor")).__v_frag=t),M(r,i);var n=t.staggerCb=w(function(){t.staggerCb=null,t.before(r),B(r)});setTimeout(n,a)}else{var s=i.nextSibling;s||(M(this.end,i),s=this.end),t.before(s)}},remove:function(t,e,i,o){if(t.staggerCb)return t.staggerCb.cancel(),void(t.staggerCb=null);var a=this.getStagger(t,e,i,"leave");if(o&&a){var r=t.staggerCb=w(function(){t.staggerCb=null,t.remove()});setTimeout(r,a)}else t.remove()},move:function(t,e){e.nextSibling||this.end.parentNode.appendChild(this.end),t.before(e.nextSibling,!1)},cacheFrag:function(t,e,i,a){var r,n=this.params.trackBy,s=this.cache,l=!_(t);a||n||l?(r=ee(i,a,t,n),s[r]||(s[r]=e)):(r=this.id,o(t,r)?null===t[r]&&(t[r]=e):Object.isExtensible(t)&&y(t,r,e)),e.raw=t},getCachedFrag:function(t,e,i){var o,a=this.params.trackBy,r=!_(t);if(i||a||r){var n=ee(e,i,t,a);o=this.cache[n]}else o=t[this.id];return o&&(o.reused||o.fresh),o},deleteCachedFrag:function(t){var e=t.raw,i=this.params.trackBy,a=t.scope,r=a.$index,n=o(a,"$key")&&a.$key,s=!_(e);if(i||n||s){var l=ee(r,n,e,i);this.cache[l]=null}else e[this.id]=null,t.raw=null},getStagger:function(t,e,i,o){o+="Stagger";var a=t.node.__v_trans,r=a&&a.hooks,n=r&&(r[o]||r.stagger);return n?n.call(t,e,i):e*parseInt(this.params[o]||this.params.stagger,10)},_preProcess:function(t){return this.rawValue=t,t},_postProcess:function(t){if(He(t))return t;if(b(t)){for(var e,i=Object.keys(t),o=i.length,a=new Array(o);o--;)e=i[o],a[o]={$key:e,$value:t[e]};return a}return"number"!=typeof t||isNaN(t)||(t=function(t){for(var e=-1,i=new Array(Math.floor(t));++e<t;)i[e]=e;return i}(t)),t||[]},unbind:function(){if(this.descriptor.ref&&((this._scope||this.vm).$refs[this.descriptor.ref]=null),this.frags)for(var t,e=this.frags.length;e--;)t=this.frags[e],this.deleteCachedFrag(t),t.destroy()}},Wo={priority:2100,terminal:!0,bind:function(){var t=this.el;if(t.__vue__)this.invalid=!0;else{var e=t.nextElementSibling;e&&null!==D(e,"v-else")&&(B(e),this.elseEl=e),this.anchor=ot("v-if"),H(t,this.anchor)}},update:function(t){this.invalid||(t?this.frag||this.insert():this.remove())},insert:function(){this.elseFrag&&(this.elseFrag.remove(),this.elseFrag=null),this.factory||(this.factory=new Xt(this.vm,this.el)),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},remove:function(){this.frag&&(this.frag.remove(),this.frag=null),this.elseEl&&!this.elseFrag&&(this.elseFactory||(this.elseFactory=new Xt(this.elseEl._context||this.vm,this.elseEl)),this.elseFrag=this.elseFactory.create(this._host,this._scope,this._frag),this.elseFrag.before(this.anchor))},unbind:function(){this.frag&&this.frag.destroy(),this.elseFrag&&this.elseFrag.destroy()}},Lo={bind:function(){var t=this.el.nextElementSibling;t&&null!==D(t,"v-else")&&(this.elseEl=t)},update:function(t){this.apply(this.el,t),this.elseEl&&this.apply(this.elseEl,!t)},apply:function(t,e){function i(){t.style.display=e?"":"none"}E(t)?q(t,e?1:-1,i,this.vm):i()}},Go={text:{bind:function(){var t=this,e=this.el,i="range"===e.type,o=this.params.lazy,a=this.params.number,r=this.params.debounce,n=!1;if(Ke||i||(this.on("compositionstart",function(){n=!0}),this.on("compositionend",function(){n=!1,o||t.listener()})),this.focused=!1,i||o||(this.on("focus",function(){t.focused=!0}),this.on("blur",function(){t.focused=!1,t._frag&&!t._frag.inserted||t.rawListener()})),this.listener=this.rawListener=function(){if(!n&&t._bound){var o=a||i?s(e.value):e.value;t.set(o),pi(function(){t._bound&&!t.focused&&t.update(t._watcher.value)})}},r&&(this.listener=g(this.listener,r)),this.hasjQuery="function"==typeof jQuery,this.hasjQuery){var l=jQuery.fn.on?"on":"bind";jQuery(e)[l]("change",this.rawListener),o||jQuery(e)[l]("input",this.listener)}else this.on("change",this.rawListener),o||this.on("input",this.listener);!o&&Xe&&(this.on("cut",function(){pi(t.listener)}),this.on("keyup",function(e){46!==e.keyCode&&8!==e.keyCode||t.listener()})),(e.hasAttribute("value")||"TEXTAREA"===e.tagName&&e.value.trim())&&(this.afterBind=this.listener)},update:function(t){(t=n(t))!==this.el.value&&(this.el.value=t)},unbind:function(){var t=this.el;if(this.hasjQuery){var e=jQuery.fn.off?"off":"unbind";jQuery(t)[e]("change",this.listener),jQuery(t)[e]("input",this.listener)}}},radio:{bind:function(){var t=this,e=this.el;this.getValue=function(){if(e.hasOwnProperty("_value"))return e._value;var i=e.value;return t.params.number&&(i=s(i)),i},this.listener=function(){t.set(t.getValue())},this.on("change",this.listener),e.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){this.el.checked=$(t,this.getValue())}},select:{bind:function(){var t=this,e=this,i=this.el;this.forceUpdate=function(){e._watcher&&e.update(e._watcher.get())};var o=this.multiple=i.hasAttribute("multiple");this.listener=function(){var t=ie(i,o);t=e.params.number?He(t)?t.map(s):s(t):t,e.set(t)},this.on("change",this.listener);var a=ie(i,o,!0);(o&&a.length||!o&&null!==a)&&(this.afterBind=this.listener),this.vm.$on("hook:attached",function(){pi(t.forceUpdate)}),E(i)||pi(this.forceUpdate)},update:function(t){var e=this.el;e.selectedIndex=-1;for(var i,o,a=this.multiple&&He(t),r=e.options,n=r.length;n--;)i=r[n],o=i.hasOwnProperty("_value")?i._value:i.value,i.selected=a?oe(t,o)>-1:$(t,o)},unbind:function(){this.vm.$off("hook:attached",this.forceUpdate)}},checkbox:{bind:function(){var t=this,e=this.el;this.getValue=function(){return e.hasOwnProperty("_value")?e._value:t.params.number?s(e.value):e.value},this.listener=function(){var i=t._watcher.value;if(He(i)){var o=t.getValue();e.checked?x(i,o)<0&&i.push(o):i.$remove(o)}else t.set(function(){var t=e.checked;return t&&e.hasOwnProperty("_trueValue")?e._trueValue:!t&&e.hasOwnProperty("_falseValue")?e._falseValue:t}())},this.on("change",this.listener),e.hasAttribute("checked")&&(this.afterBind=this.listener)},update:function(t){var e=this.el;He(t)?e.checked=x(t,this.getValue())>-1:e.hasOwnProperty("_trueValue")?e.checked=$(t,e._trueValue):e.checked=!!t}}},Mo={priority:800,twoWay:!0,handlers:Go,params:["lazy","number","debounce"],bind:function(){this.checkFilters(),this.hasRead&&this.hasWrite;var t,e=this.el,i=e.tagName;if("INPUT"===i)t=Go[e.type]||Go.text;else if("SELECT"===i)t=Go.select;else{if("TEXTAREA"!==i)return;t=Go.text}e.__v_model=this,t.bind.call(this),this.update=t.update,this._unbind=t.unbind},checkFilters:function(){var t=this.filters;if(t)for(var e=t.length;e--;){var i=ft(this.vm.$options,"filters",t[e].name);("function"==typeof i||i.read)&&(this.hasRead=!0),i.write&&(this.hasWrite=!0)}},unbind:function(){this.el.__v_model=null,this._unbind&&this._unbind()}},Bo={esc:27,tab:9,enter:13,space:32,delete:[8,46],up:38,left:37,right:39,down:40},Jo={priority:700,acceptStatement:!0,keyCodes:Bo,bind:function(){if("IFRAME"===this.el.tagName&&"load"!==this.arg){var t=this;this.iframeBind=function(){U(t.el.contentWindow,t.arg,t.handler,t.modifiers.capture)},this.on("load",this.iframeBind)}},update:function(t){if(this.descriptor.raw||(t=function(){}),"function"==typeof t){this.modifiers.stop&&(t=function(t){return function(e){return e.stopPropagation(),t.call(this,e)}}(t)),this.modifiers.prevent&&(t=function(t){return function(e){return e.preventDefault(),t.call(this,e)}}(t)),this.modifiers.self&&(t=function(t){return function(e){return e.target===e.currentTarget?t.call(this,e):void 0}}(t));var e=Object.keys(this.modifiers).filter(function(t){return"stop"!==t&&"prevent"!==t&&"self"!==t&&"capture"!==t});e.length&&(t=function(t,e){var i=e.map(function(t){var e=t.charCodeAt(0);return e>47&&58>e?parseInt(t,10):1===t.length&&(e=t.toUpperCase().charCodeAt(0))>64&&91>e?e:Bo[t]});return i=[].concat.apply([],i),function(e){return i.indexOf(e.keyCode)>-1?t.call(this,e):void 0}}(t,e)),this.reset(),this.handler=t,this.iframeBind?this.iframeBind():U(this.el,this.arg,this.handler,this.modifiers.capture)}},reset:function(){var t=this.iframeBind?this.el.contentWindow:this.el;this.handler&&V(t,this.arg,this.handler)},unbind:function(){this.reset()}},Ho=["-webkit-","-moz-","-ms-"],Uo=["Webkit","Moz","ms"],Vo=/!important;?$/,Qo=Object.create(null),Yo=null,Zo={deep:!0,update:function(t){"string"==typeof t?this.el.style.cssText=t:He(t)?this.handleObject(t.reduce(v,{})):this.handleObject(t||{})},handleObject:function(t){var e,i,o=this.cache||(this.cache={});for(e in o)e in t||(this.handleSingle(e,null),delete o[e]);for(e in t)(i=t[e])!==o[e]&&(o[e]=i,this.handleSingle(e,i))},handleSingle:function(t,e){if(t=ae(t))if(null!=e&&(e+=""),e){var i=Vo.test(e)?"important":"";i?(e=e.replace(Vo,"").trim(),this.el.style.setProperty(t.kebab,e,i)):this.el.style[t.camel]=e}else this.el.style[t.camel]=""}},Xo=/^xlink:/,Ko=/^v-|^:|^@|^(?:is|transition|transition-mode|debounce|track-by|stagger|enter-stagger|leave-stagger)$/,ta=/^(?:value|checked|selected|muted)$/,ea=/^(?:draggable|contenteditable|spellcheck)$/,ia={value:"_value","true-value":"_trueValue","false-value":"_falseValue"},oa={text:No,html:qo,for:Do,if:Wo,show:Lo,model:Mo,on:Jo,bind:{priority:850,bind:function(){var t=this.arg,e=this.el.tagName;t||(this.deep=!0);var i=this.descriptor,o=i.interp;o&&(i.hasOneTime&&(this.expression=F(o,this._scope||this.vm)),(Ko.test(t)||"name"===t&&("PARTIAL"===e||"SLOT"===e))&&(this.el.removeAttribute(t),this.invalid=!0))},update:function(t){if(!this.invalid){var e=this.arg;this.arg?this.handleSingle(e,t):this.handleObject(t||{})}},handleObject:Zo.handleObject,handleSingle:function(t,e){var i=this.el,o=this.descriptor.interp;if(this.modifiers.camel&&(t=p(t)),!o&&ta.test(t)&&t in i){var a="value"===t&&null==e?"":e;i[t]!==a&&(i[t]=a)}var r=ia[t];if(!o&&r){i[r]=e;var n=i.__v_model;n&&n.listener()}return"value"===t&&"TEXTAREA"===i.tagName?void i.removeAttribute(t):void(ea.test(t)?i.setAttribute(t,e?"true":"false"):null!=e&&!1!==e?"class"===t?(i.__v_trans&&(e+=" "+i.__v_trans.id+"-transition"),Y(i,e)):Xo.test(t)?i.setAttributeNS("http://www.w3.org/1999/xlink",t,!0===e?"":e):i.setAttribute(t,!0===e?"":e):i.removeAttribute(t))}},el:{priority:1500,bind:function(){if(this.arg){var t=this.id=p(this.arg),e=(this._scope||this.vm).$els;o(e,t)?e[t]=this.el:wt(e,t,this.el)}},unbind:function(){var t=(this._scope||this.vm).$els;t[this.id]===this.el&&(t[this.id]=null)}},ref:{bind:function(){}},cloak:{bind:function(){var t=this.el;this.vm.$once("pre-hook:compiled",function(){t.removeAttribute("v-cloak")})}}},aa={deep:!0,update:function(t){t?"string"==typeof t?this.setClass(t.trim().split(/\s+/)):this.setClass(function(t){var e=[];if(He(t))for(var i=0,o=t.length;o>i;i++){var a=t[i];if(a)if("string"==typeof a)e.push(a);else for(var r in a)a[r]&&e.push(r)}else if(_(t))for(var n in t)t[n]&&e.push(n);return e}(t)):this.cleanup()},setClass:function(t){this.cleanup(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];o&&re(this.el,o,Z)}this.prevKeys=t},cleanup:function(t){var e=this.prevKeys;if(e)for(var i=e.length;i--;){var o=e[i];(!t||t.indexOf(o)<0)&&re(this.el,o,X)}}},ra={priority:1500,params:["keep-alive","transition-mode","inline-template"],bind:function(){this.el.__vue__||(this.keepAlive=this.params.keepAlive,this.keepAlive&&(this.cache={}),this.params.inlineTemplate&&(this.inlineTemplate=K(this.el,!0)),this.pendingComponentCb=this.Component=null,this.pendingRemovals=0,this.pendingRemovalCb=null,this.anchor=ot("v-component"),H(this.el,this.anchor),this.el.removeAttribute("is"),this.el.removeAttribute(":is"),this.descriptor.ref&&this.el.removeAttribute("v-ref:"+h(this.descriptor.ref)),this.literal&&this.setComponent(this.expression))},update:function(t){this.literal||this.setComponent(t)},setComponent:function(t,e){if(this.invalidatePending(),t){var i=this;this.resolveComponent(t,function(){i.mountComponent(e)})}else this.unbuild(!0),this.remove(this.childVM,e),this.childVM=null},resolveComponent:function(t,e){var i=this;this.pendingComponentCb=w(function(o){i.ComponentName=o.options.name||("string"==typeof t?t:null),i.Component=o,e()}),this.vm._resolveComponent(t,this.pendingComponentCb)},mountComponent:function(t){this.unbuild(!0);var e=this,i=this.Component.options.activate,o=this.getCached(),a=this.build();i&&!o?(this.waitingFor=a,function(t,e,i){var o=t.length,a=0;t[0].call(e,function r(){++a>=o?i():t[a].call(e,r)})}(i,a,function(){e.waitingFor===a&&(e.waitingFor=null,e.transition(a,t))})):(o&&a._updateRef(),this.transition(a,t))},invalidatePending:function(){this.pendingComponentCb&&(this.pendingComponentCb.cancel(),this.pendingComponentCb=null)},build:function(t){var e=this.getCached();if(e)return e;if(this.Component){var i={name:this.ComponentName,el:Mt(this.el),template:this.inlineTemplate,parent:this._host||this.vm,_linkerCachable:!this.inlineTemplate,_ref:this.descriptor.ref,_asComponent:!0,_isRouterView:this._isRouterView,_context:this.vm,_scope:this._scope,_frag:this._frag};t&&v(i,t);var o=new this.Component(i);return this.keepAlive&&(this.cache[this.Component.cid]=o),o}},getCached:function(){return this.keepAlive&&this.cache[this.Component.cid]},unbuild:function(t){this.waitingFor&&(this.keepAlive||this.waitingFor.$destroy(),this.waitingFor=null);var e=this.childVM;return!e||this.keepAlive?void(e&&(e._inactive=!0,e._updateRef(!0))):void e.$destroy(!1,t)},remove:function(t,e){var i=this.keepAlive;if(t){this.pendingRemovals++,this.pendingRemovalCb=e;var o=this;t.$remove(function(){o.pendingRemovals--,i||t._cleanup(),!o.pendingRemovals&&o.pendingRemovalCb&&(o.pendingRemovalCb(),o.pendingRemovalCb=null)})}else e&&e()},transition:function(t,e){var i=this,o=this.childVM;switch(o&&(o._inactive=!0),t._inactive=!1,this.childVM=t,i.params.transitionMode){case"in-out":t.$before(i.anchor,function(){i.remove(o,e)});break;case"out-in":i.remove(o,function(){t.$before(i.anchor,e)});break;default:i.remove(o),t.$before(i.anchor,e)}},unbind:function(){if(this.invalidatePending(),this.unbuild(),this.cache){for(var t in this.cache)this.cache[t].$destroy();this.cache=null}}},na=Pi._propBindingModes,sa={},la=/^[$_a-zA-Z]+[\w$]*$/,da=Pi._propBindingModes,pa={bind:function(){var t=this.vm,e=t._context,i=this.descriptor.prop,o=i.path,a=i.parentPath,r=i.mode===da.TWO_WAY,n=this.parentWatcher=new Dt(e,a,function(e){!function(t,e,i){le(t,e,i,function(i){t[e.path]=i})}(t,i,e)},{twoWay:r,filters:i.filters,scope:this._scope});if(de(t,i,n.value),r){var s=this;t.$once("pre-hook:created",function(){s.childWatcher=new Dt(t,o,function(t){n.set(t)},{sync:!0})})}},unbind:function(){this.parentWatcher.teardown(),this.childWatcher&&this.childWatcher.teardown()}},ca=[],ha=!1,ua="transition",ma="animation",fa=ai+"Duration",va=ni+"Duration",_a=Ve&&window.requestAnimationFrame,ba=_a?function(t){_a(function(){_a(t)})}:function(t){setTimeout(t,50)},ya=me.prototype;ya.enter=function(t,e){this.cancelPending(),this.callHook("beforeEnter"),this.cb=e,Z(this.el,this.enterClass),t(),this.entered=!1,this.callHookWithCb("enter"),this.entered||(this.cancel=this.hooks&&this.hooks.enterCancelled,he(this.enterNextTick))},ya.enterNextTick=function(){var t=this;this.justEntered=!0,ba(function(){t.justEntered=!1});var e=this.enterDone,i=this.getCssTransitionType(this.enterClass);this.pendingJsCb?i===ua&&X(this.el,this.enterClass):i===ua?(X(this.el,this.enterClass),this.setupCssCb(ri,e)):i===ma?this.setupCssCb(si,e):e()},ya.enterDone=function(){this.entered=!0,this.cancel=this.pendingJsCb=null,X(this.el,this.enterClass),this.callHook("afterEnter"),this.cb&&this.cb()},ya.leave=function(t,e){this.cancelPending(),this.callHook("beforeLeave"),this.op=t,this.cb=e,Z(this.el,this.leaveClass),this.left=!1,this.callHookWithCb("leave"),this.left||(this.cancel=this.hooks&&this.hooks.leaveCancelled,this.op&&!this.pendingJsCb&&(this.justEntered?this.leaveDone():he(this.leaveNextTick)))},ya.leaveNextTick=function(){var t=this.getCssTransitionType(this.leaveClass);if(t){var e=t===ua?ri:si;this.setupCssCb(e,this.leaveDone)}else this.leaveDone()},ya.leaveDone=function(){this.left=!0,this.cancel=this.pendingJsCb=null,this.op(),X(this.el,this.leaveClass),this.callHook("afterLeave"),this.cb&&this.cb(),this.op=null},ya.cancelPending=function(){this.op=this.cb=null;var t=!1;this.pendingCssCb&&(t=!0,V(this.el,this.pendingCssEvent,this.pendingCssCb),this.pendingCssEvent=this.pendingCssCb=null),this.pendingJsCb&&(t=!0,this.pendingJsCb.cancel(),this.pendingJsCb=null),t&&(X(this.el,this.enterClass),X(this.el,this.leaveClass)),this.cancel&&(this.cancel.call(this.vm,this.el),this.cancel=null)},ya.callHook=function(t){this.hooks&&this.hooks[t]&&this.hooks[t].call(this.vm,this.el)},ya.callHookWithCb=function(t){var e=this.hooks&&this.hooks[t];e&&(e.length>1&&(this.pendingJsCb=w(this[t+"Done"])),e.call(this.vm,this.el,this.pendingJsCb))},ya.getCssTransitionType=function(t){if(!(!ri||document.hidden||this.hooks&&!1===this.hooks.css||function(t){if(/svg$/.test(t.namespaceURI)){var e=t.getBoundingClientRect();return!(e.width||e.height)}return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}(this.el))){var e=this.type||this.typeCache[t];if(e)return e;var i=this.el.style,o=window.getComputedStyle(this.el),a=i[fa]||o[fa];if(a&&"0s"!==a)e=ua;else{var r=i[va]||o[va];r&&"0s"!==r&&(e=ma)}return e&&(this.typeCache[t]=e),e}},ya.setupCssCb=function(t,e){this.pendingCssEvent=t;var i=this,o=this.el,a=this.pendingCssCb=function(r){r.target===o&&(V(o,t,a),i.pendingCssEvent=i.pendingCssCb=null,!i.pendingJsCb&&e&&e())};U(o,t,a)};var ga={style:Zo,class:aa,component:ra,prop:pa,transition:{priority:1100,update:function(t,e){var i=this.el,o=ft(this.vm.$options,"transitions",t);t=t||"v",e=e||"v",i.__v_trans=new me(i,t,o,this.vm),X(i,e+"-transition"),Z(i,t+"-transition")}}},xa=/^v-bind:|^:/,wa=/^v-on:|^@/,$a=/^v-([^:]+)(?:$|:(.*)$)/,Sa=/\.[^\.]+/g,ka=/^(v-bind:|:)?transition$/,Na=1e3,Ia=2e3;Ne.terminal=!0;var Ta=/[^\w\-:\.]/,Oa=Object.freeze({compile:fe,compileAndLinkProps:ge,compileRoot:xe,transclude:Fe,resolveSlots:je}),Aa=/^v-on:|^@/;qe.prototype._bind=function(){var t=this.name,e=this.descriptor;if(("cloak"!==t||this.vm._isCompiled)&&this.el&&this.el.removeAttribute){var i=e.attr||"v-"+t;this.el.removeAttribute(i)}var o=e.def;if("function"==typeof o?this.update=o:v(this,o),this._setupParams(),this.bind&&this.bind(),this._bound=!0,this.literal)this.update&&this.update(e.raw);else if((this.expression||this.modifiers)&&(this.update||this.twoWay)&&!this._checkStatement()){var a=this;this.update?this._update=function(t,e){a._locked||a.update(t,e)}:this._update=ze;var r=this._preProcess?m(this._preProcess,this):null,n=this._postProcess?m(this._postProcess,this):null,s=this._watcher=new Dt(this.vm,this.expression,this._update,{filters:this.filters,twoWay:this.twoWay,deep:this.deep,preProcess:r,postProcess:n,scope:this._scope});this.afterBind?this.afterBind():this.update&&this.update(s.value)}},qe.prototype._setupParams=function(){if(this.params){var t=this.params;this.params=Object.create(null);for(var e,i,o,a=t.length;a--;)e=h(t[a]),o=p(e),null!=(i=W(this.el,e))?this._setupParamWatcher(o,i):null!=(i=D(this.el,e))&&(this.params[o]=""===i||i)}},qe.prototype._setupParamWatcher=function(t,e){var i=this,o=!1,a=(this._scope||this.vm).$watch(e,function(e,a){if(i.params[t]=e,o){var r=i.paramWatchers&&i.paramWatchers[t];r&&r.call(i,e,a)}else o=!0},{immediate:!0,user:!1});(this._paramUnwatchFns||(this._paramUnwatchFns=[])).push(a)},qe.prototype._checkStatement=function(){var t=this.expression;if(t&&this.acceptStatement&&!qt(t)){var e=zt(t).get,i=this._scope||this.vm,o=function(t){i.$event=t,e.call(i,i),i.$event=null};return this.filters&&(o=i._applyFilters(o,null,this.filters)),this.update(o),!0}},qe.prototype.set=function(t){this.twoWay&&this._withLock(function(){this._watcher.set(t)})},qe.prototype._withLock=function(t){var e=this;e._locked=!0,t.call(e),pi(function(){e._locked=!1})},qe.prototype.on=function(t,e,i){U(this.el,t,e,i),(this._listeners||(this._listeners=[])).push([t,e])},qe.prototype._teardown=function(){if(this._bound){this._bound=!1,this.unbind&&this.unbind(),this._watcher&&this._watcher.teardown();var t,e=this._listeners;if(e)for(t=e.length;t--;)V(this.el,e[t][0],e[t][1]);var i=this._paramUnwatchFns;if(i)for(t=i.length;t--;)i[t]();this.vm=this.el=this._watcher=this._listeners=null}};var Fa=/[^|]\|[^|]/;(function(t){t.prototype._init=function(t){t=t||{},this.$el=null,this.$parent=t.parent,this.$root=this.$parent?this.$parent.$root:this,this.$children=[],this.$refs={},this.$els={},this._watchers=[],this._directives=[],this._uid=Ui++,this._isVue=!0,this._events={},this._eventsCount={},this._isFragment=!1,this._fragment=this._fragmentStart=this._fragmentEnd=null,this._isCompiled=this._isDestroyed=this._isReady=this._isAttached=this._isBeingDestroyed=this._vForRemoving=!1,this._unlinkFn=null,this._context=t._context||this.$parent,this._scope=t._scope,this._frag=t._frag,this._frag&&this._frag.children.push(this),this.$parent&&this.$parent.$children.push(this),t=this.$options=mt(this.constructor.options,t,this),this._updateRef(),this._data={},this._callHook("init"),this._initState(),this._initEvents(),this._callHook("created"),t.el&&this.$mount(t.el)}})(Re),function(t){function e(){}function i(t,e){var i=new Dt(e,t,null,{lazy:!0});return function(){return i.dirty&&i.evaluate(),vt.target&&i.depend(),i.value}}Object.defineProperty(t.prototype,"$data",{get:function(){return this._data},set:function(t){t!==this._data&&this._setData(t)}}),t.prototype._initState=function(){this._initProps(),this._initMeta(),this._initMethods(),this._initData(),this._initComputed()},t.prototype._initProps=function(){var t=this.$options,e=t.el,i=t.props;e=t.el=R(e),this._propsUnlinkFn=e&&1===e.nodeType&&i?ge(this,e,i,this._scope):null},t.prototype._initData=function(){var t=this.$options.data,e=this._data=t?t():{};b(e)||(e={});var i,a,r=this._props,n=Object.keys(e);for(i=n.length;i--;)a=n[i],r&&o(r,a)||this._proxy(a);xt(e,this)},t.prototype._setData=function(t){t=t||{};var e,i,a,r=this._data;for(this._data=t,e=Object.keys(r),a=e.length;a--;)(i=e[a])in t||this._unproxy(i);for(e=Object.keys(t),a=e.length;a--;)o(this,i=e[a])||this._proxy(i);r.__ob__.removeVm(this),xt(t,this),this._digest()},t.prototype._proxy=function(t){if(!r(t)){var e=this;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e._data[t]},set:function(i){e._data[t]=i}})}},t.prototype._unproxy=function(t){r(t)||delete this[t]},t.prototype._digest=function(){for(var t=0,e=this._watchers.length;e>t;t++)this._watchers[t].update(!0)},t.prototype._initComputed=function(){var t=this.$options.computed;if(t)for(var o in t){var a=t[o],r={enumerable:!0,configurable:!0};"function"==typeof a?(r.get=i(a,this),r.set=e):(r.get=a.get?!1!==a.cache?i(a.get,this):m(a.get,this):e,r.set=a.set?m(a.set,this):e),Object.defineProperty(this,o,r)}},t.prototype._initMethods=function(){var t=this.$options.methods;if(t)for(var e in t)this[e]=m(t[e],this)},t.prototype._initMeta=function(){var t=this.$options._meta;if(t)for(var e in t)wt(this,e,t[e])}}(Re),function(t){function e(t,e,o){var a,r,n,s;if(o)for(r in o)if(a=o[r],He(a))for(n=0,s=a.length;s>n;n++)i(t,e,r,a[n]);else i(t,e,r,a)}function i(t,e,o,a,r){var n=typeof a;if("function"===n)t[e](o,a,r);else if("string"===n){var s=t.$options.methods,l=s&&s[a];l&&t[e](o,l,r)}else a&&"object"===n&&i(t,e,o,a.handler,a)}function o(){this._isAttached||(this._isAttached=!0,this.$children.forEach(a))}function a(t){!t._isAttached&&E(t.$el)&&t._callHook("attached")}function r(){this._isAttached&&(this._isAttached=!1,this.$children.forEach(n))}function n(t){t._isAttached&&!E(t.$el)&&t._callHook("detached")}t.prototype._initEvents=function(){var t=this.$options;t._asComponent&&function(t,e){for(var i,o,a,r=e.attributes,n=0,s=r.length;s>n;n++)i=r[n].name,Aa.test(i)&&(i=i.replace(Aa,""),qt(o=r[n].value)&&(o+=".apply(this, $arguments)"),(a=(t._scope||t._context).$eval(o,!0))._fromParent=!0,t.$on(i.replace(Aa),a))}(this,t.el),e(this,"$on",t.events),e(this,"$watch",t.watch)},t.prototype._initDOMHooks=function(){this.$on("hook:attached",o),this.$on("hook:detached",r)},t.prototype._callHook=function(t){this.$emit("pre-hook:"+t);var e=this.$options[t];if(e)for(var i=0,o=e.length;o>i;i++)e[i].call(this);this.$emit("hook:"+t)}}(Re),function(t){t.prototype._updateRef=function(t){var e=this.$options._ref;if(e){var i=(this._scope||this._context).$refs;t?i[e]===this&&(i[e]=null):i[e]=this}},t.prototype._compile=function(t){var e=this.$options,i=t;if(t=Fe(t,e),this._initElement(t),1!==t.nodeType||null===D(t,"v-pre")){var o=this._context&&this._context.$options,a=xe(t,e,o);je(this,e._content);var r,n=this.constructor;e._linkerCachable&&((r=n.linker)||(r=n.linker=fe(t,e)));var s=a(this,t,this._scope),l=r?r(this,t):fe(t,e)(this,t);this._unlinkFn=function(){s(),l(!0)},e.replace&&H(i,t),this._isCompiled=!0,this._callHook("compiled")}},t.prototype._initElement=function(t){st(t)?(this._isFragment=!0,this.$el=this._fragmentStart=t.firstChild,this._fragmentEnd=t.lastChild,3===this._fragmentStart.nodeType&&(this._fragmentStart.data=this._fragmentEnd.data=""),this._fragment=t):this.$el=t,this.$el.__vue__=this,this._callHook("beforeCompile")},t.prototype._bindDir=function(t,e,i,o,a){this._directives.push(new qe(t,this,e,i,o,a))},t.prototype._destroy=function(t,e){if(this._isBeingDestroyed)e||this._cleanup();else{var i,o,a=this,r=function(){!i||o||e||a._cleanup()};t&&this.$el&&(o=!0,this.$remove(function(){o=!1,r()})),this._callHook("beforeDestroy"),this._isBeingDestroyed=!0;var n,s=this.$parent;for(s&&!s._isBeingDestroyed&&(s.$children.$remove(this),this._updateRef(!0)),n=this.$children.length;n--;)this.$children[n].$destroy();for(this._propsUnlinkFn&&this._propsUnlinkFn(),this._unlinkFn&&this._unlinkFn(),n=this._watchers.length;n--;)this._watchers[n].teardown();this.$el&&(this.$el.__vue__=null),i=!0,r()}},t.prototype._cleanup=function(){this._isDestroyed||(this._frag&&this._frag.children.$remove(this),this._data&&this._data.__ob__&&this._data.__ob__.removeVm(this),this.$el=this.$parent=this.$root=this.$children=this._watchers=this._context=this._scope=this._directives=null,this._isDestroyed=!0,this._callHook("destroyed"),this.$off())}}(Re),function(t){t.prototype._applyFilters=function(t,e,i,o){var a,r,n,s,l,d,p,c,h;for(d=0,p=i.length;p>d;d++)if(a=i[o?p-d-1:d],(r=ft(this.$options,"filters",a.name))&&"function"==typeof(r=o?r.write:r.read||r)){if(n=o?[t,e]:[t],l=o?2:1,a.args)for(c=0,h=a.args.length;h>c;c++)s=a.args[c],n[c+l]=s.dynamic?this.$get(s.value):s.value;t=r.apply(this,n)}return t},t.prototype._resolveComponent=function(e,i){var o;if(o="function"==typeof e?e:ft(this.$options,"components",e))if(o.options)i(o);else if(o.resolved)i(o.resolved);else if(o.requested)o.pendingCallbacks.push(i);else{o.requested=!0;var a=o.pendingCallbacks=[i];o.call(this,function(e){b(e)&&(e=t.extend(e)),o.resolved=e;for(var i=0,r=a.length;r>i;i++)a[i](e)},function(t){})}}}(Re),function(t){function e(t){return JSON.parse(JSON.stringify(t))}t.prototype.$get=function(t,e){var i=zt(t);if(i){if(e){var o=this;return function(){o.$arguments=f(arguments);var t=i.get.call(o,o);return o.$arguments=null,t}}try{return i.get.call(this,this)}catch(t){}}},t.prototype.$set=function(t,e){var i=zt(t,!0);i&&i.set&&i.set.call(this,this,e)},t.prototype.$delete=function(t){i(this._data,t)},t.prototype.$watch=function(t,e,i){var o;"string"==typeof t&&(o=I(t),t=o.expression);var a=new Dt(this,t,e,{deep:i&&i.deep,sync:i&&i.sync,filters:o&&o.filters,user:!i||!1!==i.user});return i&&i.immediate&&e.call(this,a.value),function(){a.teardown()}},t.prototype.$eval=function(t,e){if(Fa.test(t)){var i=I(t),o=this.$get(i.expression,e);return i.filters?this._applyFilters(o,null,i.filters):o}return this.$get(t,e)},t.prototype.$interpolate=function(t){var e=A(t),i=this;return e?1===e.length?i.$eval(e[0].value)+"":e.map(function(t){return t.tag?i.$eval(t.value):t.value}).join(""):t},t.prototype.$log=function(t){var i=t?It(this._data,t):this._data;if(i&&(i=e(i)),!t){var o;for(o in this.$options.computed)i[o]=e(this[o]);if(this._props)for(o in this._props)i[o]=e(this[o])}console.log(i)}}(Re),function(t){function e(t,e,o,a,r,n){var s=!E(e=i(e)),l=!1===a||s?r:n,d=!s&&!t._isAttached&&!E(t.$el);return t._isFragment?(rt(t._fragmentStart,t._fragmentEnd,function(i){l(i,e,t)}),o&&o()):l(t.$el,e,t,o),d&&t._callHook("attached"),t}function i(t){return"string"==typeof t?document.querySelector(t):t}function o(t,e,i,o){e.appendChild(t),o&&o()}function a(t,e,i,o){G(t,e),o&&o()}function r(t,e,i){B(t),i&&i()}t.prototype.$nextTick=function(t){pi(t,this)},t.prototype.$appendTo=function(t,i,a){return e(this,t,i,a,o,j)},t.prototype.$prependTo=function(t,e,o){return(t=i(t)).hasChildNodes()?this.$before(t.firstChild,e,o):this.$appendTo(t,e,o),this},t.prototype.$before=function(t,i,o){return e(this,t,i,o,a,P)},t.prototype.$after=function(t,e,o){return(t=i(t)).nextSibling?this.$before(t.nextSibling,e,o):this.$appendTo(t.parentNode,e,o),this},t.prototype.$remove=function(t,e){if(!this.$el.parentNode)return t&&t();var i=this._isAttached&&E(this.$el);i||(e=!1);var o=this,a=function(){i&&o._callHook("detached"),t&&t()};if(this._isFragment)nt(this._fragmentStart,this._fragmentEnd,this,this._fragment,a);else{var n=!1===e?r:z;n(this.$el,this,a)}return this}}(Re),function(t){function e(t,e,o){var a=t.$parent;if(a&&o&&!i.test(e))for(;a;)a._eventsCount[e]=(a._eventsCount[e]||0)+o,a=a.$parent}t.prototype.$on=function(t,i){return(this._events[t]||(this._events[t]=[])).push(i),e(this,t,1),this},t.prototype.$once=function(t,e){function i(){o.$off(t,i),e.apply(this,arguments)}var o=this;return i.fn=e,this.$on(t,i),this},t.prototype.$off=function(t,i){var o;if(!arguments.length){if(this.$parent)for(t in this._events)(o=this._events[t])&&e(this,t,-o.length);return this._events={},this}if(!(o=this._events[t]))return this;if(1===arguments.length)return e(this,t,-o.length),this._events[t]=null,this;for(var a,r=o.length;r--;)if((a=o[r])===i||a.fn===i){e(this,t,-1),o.splice(r,1);break}return this},t.prototype.$emit=function(t){var e="string"==typeof t;t=e?t:t.name;var i=this._events[t],o=e||!i;if(i){i=i.length>1?f(i):i;var a=e&&i.some(function(t){return t._fromParent});a&&(o=!1);for(var r=f(arguments,1),n=0,s=i.length;s>n;n++){var l=i[n],d=l.apply(this,r);!0!==d||a&&!l._fromParent||(o=!0)}}return o},t.prototype.$broadcast=function(t){var e="string"==typeof t;if(t=e?t:t.name,this._eventsCount[t]){var i=this.$children,o=f(arguments);e&&(o[0]={name:t,source:this});for(var a=0,r=i.length;r>a;a++){var n=i[a],s=n.$emit.apply(n,o);s&&n.$broadcast.apply(n,o)}return this}},t.prototype.$dispatch=function(t){var e=this.$emit.apply(this,arguments);if(e){var i=this.$parent,o=f(arguments);for(o[0]={name:t,source:this};i;)e=i.$emit.apply(i,o),i=e?i.$parent:null;return this}};var i=/^hook:/}(Re),function(t){function e(){this._isAttached=!0,this._isReady=!0,this._callHook("ready")}t.prototype.$mount=function(t){return this._isCompiled?void 0:((t=R(t))||(t=document.createElement("div")),this._compile(t),this._initDOMHooks(),E(this.$el)?(this._callHook("attached"),e.call(this)):this.$once("hook:attached",e),this)},t.prototype.$destroy=function(t,e){this._destroy(t,e)},t.prototype.$compile=function(t,e,i,o){return fe(t,this.$options,!0)(this,t,e,i,o)}}(Re);var Ca={slot:{priority:2300,params:["name"],bind:function(){var t=this.params.name||"default",e=this.vm._slotContents&&this.vm._slotContents[t];e&&e.hasChildNodes()?this.compile(e.cloneNode(!0),this.vm._context,this.vm):this.fallback()},compile:function(t,e,i){if(t&&e){if(this.el.hasChildNodes()&&1===t.childNodes.length&&1===t.childNodes[0].nodeType&&t.childNodes[0].hasAttribute("v-if")){var o=document.createElement("template");o.setAttribute("v-else",""),o.innerHTML=this.el.innerHTML,o._context=this.vm,t.appendChild(o)}var a=i?i._scope:this._scope;this.unlink=e.$compile(t,i,a,this._frag)}t?H(this.el,t):B(this.el)},fallback:function(){this.compile(K(this.el,!0),this.vm)},unbind:function(){this.unlink&&this.unlink()}},partial:{priority:1750,params:["name"],paramWatchers:{name:function(t){Wo.remove.call(this),t&&this.insert(t)}},bind:function(){this.anchor=ot("v-partial"),H(this.el,this.anchor),this.insert(this.params.name)},insert:function(t){var e=ft(this.vm.$options,"partials",t);e&&(this.factory=new Xt(this.vm,e),Wo.insert.call(this))},unbind:function(){this.frag&&this.frag.destroy()}}},ja=Do._postProcess,Pa=/(\d{3})(?=\d)/g,za={orderBy:function(t){function e(t,e,i){var a=o[i];return a&&("$key"!==a&&(_(t)&&"$value"in t&&(t=t.$value),_(e)&&"$value"in e&&(e=e.$value)),t=_(t)?It(t,a):t,e=_(e)?It(e,a):e),t===e?0:t>e?r:-r}var i=null,o=void 0;t=ja(t);var a=f(arguments,1),r=a[a.length-1];"number"==typeof r?(r=0>r?-1:1,a=a.length>1?a.slice(0,-1):a):r=1;var n=a[0];return n?("function"==typeof n?i=function(t,e){return n(t,e)*r}:(o=Array.prototype.concat.apply([],a),i=function(t,a,r){return(r=r||0)>=o.length-1?e(t,a,r):e(t,a,r)||i(t,a,r+1)}),t.slice().sort(i)):t},filterBy:function(t,e,i){if(t=ja(t),null==e)return t;if("function"==typeof e)return t.filter(e);e=(""+e).toLowerCase();for(var o,a,r,n,s="in"===i?3:2,l=Array.prototype.concat.apply([],f(arguments,s)),d=[],p=0,c=t.length;c>p;p++)if(o=t[p],r=o&&o.$value||o,n=l.length){for(;n--;)if("$key"===(a=l[n])&&Ee(o.$key,e)||Ee(It(r,a),e)){d.push(o);break}}else Ee(o,e)&&d.push(o);return d},limitBy:function(t,e,i){return i=i?parseInt(i,10):0,"number"==typeof(e=s(e))?t.slice(i,i+e):t},json:{read:function(t,e){return"string"==typeof t?t:JSON.stringify(t,null,arguments.length>1?e:2)},write:function(t){try{return JSON.parse(t)}catch(e){return t}}},capitalize:function(t){return t||0===t?(t=t.toString()).charAt(0).toUpperCase()+t.slice(1):""},uppercase:function(t){return t||0===t?t.toString().toUpperCase():""},lowercase:function(t){return t||0===t?t.toString().toLowerCase():""},currency:function(t,e,i){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$",i=null!=i?i:2;var o=Math.abs(t).toFixed(i),a=i?o.slice(0,-1-i):o,r=a.length%3,n=r>0?a.slice(0,r)+(a.length>3?",":""):"",s=i?o.slice(-1-i):"",l=0>t?"-":"";return l+e+n+a.slice(r).replace(Pa,"$1,")+s},pluralize:function(t){var e=f(arguments,1),i=e.length;if(i>1){var o=t%10-1;return o in e?e[o]:e[i-1]}return e[0]+(1===t?"":"s")},debounce:function(t,e){return t?(e||(e=300),g(t,e)):void 0}};return function(e){e.options={directives:oa,elementDirectives:Ca,filters:za,transitions:{},components:{},partials:{},replace:!0},e.util=Hi,e.config=Pi,e.set=t,e.delete=i,e.nextTick=pi,e.compiler=Oa,e.FragmentFactory=Xt,e.internalDirectives=ga,e.parsers={path:no,text:Fi,template:zo,directive:ki,expression:yo},e.cid=0;var o=1;e.extend=function(t){t=t||{};var e=this,i=0===e.cid;if(i&&t._Ctor)return t._Ctor;var a=t.name||e.options.name,r=function(t){return new Function("return function "+u(t)+" (options) { this._init(options) }")()}(a||"VueComponent");return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.cid=o++,r.options=mt(e.options,t),r.super=e,r.extend=e.extend,Pi._assetTypes.forEach(function(t){r[t]=e[t]}),a&&(r.options.components[a]=r),i&&(t._Ctor=r),r},e.use=function(t){if(!t.installed){var e=f(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):t.apply(null,e),t.installed=!0,this}},e.mixin=function(t){e.options=mt(e.options,t)},Pi._assetTypes.forEach(function(t){e[t]=function(i,o){return o?("component"===t&&b(o)&&(o.name||(o.name=i),o=e.extend(o)),this.options[t+"s"][i]=o,o):this.options[t+"s"][i]}}),v(e.transition,zi)}(Re),Re.version="1.0.26",setTimeout(function(){Pi.devtools&&Qe&&Qe.emit("init",Re)},0),Re}()}).call(this,i(1))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";i.r(e);var o=i(0),a={data:{container:{requestView:!0,approvalView:!1,showApproved:!1,showWarehouse:!1,showShipping:!1,showLog:!1,showPickup:!1,showService:!1},current_status_order:0,current_page:1,current_credit_list:[],printWithPrice:!1,request:{spec_station_id:0,spec_sales_type:0,member_id:"",branch_id:"",branch_id_to:"",shipping_company_id:"",remarks:"",item_id:"",qty:"",orig_qty:"",preferred_unit:"",client_po:"",for_pickup:"",is_reserve:"",from_pending:0,station_id:0,gen_sales_type:"0",addtl_disc:"",price_group_id:"0",is_surplus:"0",group_adjustment:[],group_adjustment_total:0},is_hold:0,charge_label:0,member_info:{personal_address:"",credit_limit:"",terms:"",contact_number:"",region:""},nav_active:"active",nav:{request:!0,approve:!1,warehouse:!1,shipping:!1,del:!1,pickup:!1,service:!1},items:[],orders:[],orders_log:[],orders_pickup:[],orders_service:[],orderDetails:[],scheduleDates:[],rackings:[],bundles:[],group_adjustment_list:[],success:!1,current_order_obj:[],current_order_det:[],current_order:0,current_status:0,current_isScheduled:0,adjustment_default:1,current_stock_out:0,current_canBeResched:1,details_ready:!1,dates_ready:!1,insufficient:!1,print_data:[],invoice:0,sv:0,dr:0,pr:0,sr:0,ts:0,ajaxRequest:!1,showLoading:!1,shippingSearchTxt:"",search_text:"",schedule_date:"",re_schedule_date:"",is_member:"",user_member_id:"",is_priority:0,truck_id:"",log_truck_id:"",helper_id:[],driver_id:0,trucks:[],helpers:[],drivers:[],re_truck_id:"",batch_truck_id:"",re_driver_id:"",batch_driver_id:"",re_for_pick_up:0,re_helper_id:"",countdel:0,countpickup:0,countservice:0,log_from:"",log_to:"",log_search:"",log_from_pickup:"",log_to_pickup:"",log_search_pickup:"",new_item_order:"",new_qty_order:"",order_updating:0,branch_id_filter:0,salestype_filter:0,for_pickup_filter:0,assemble_filter:0,invoice_prefix:"",dr_prefix:"",pr_prefix:"",invoice_label:"",dr_label:"",pr_label:"",CASHIER_HELPER:"0",ORDER_FOR_ALL:"0",del_filter_type:"",pickup_filter_type:"",my_auth:0,order_limit:30,cart_item_ctr:0,current_user_id:0,PENDING_MEMBER:0,reserve_only:0,different_unit:0,multiplier_qty:[],dif_qty:1,order_id_to_use:"",backload_data:[],serials:[],order_info:[],member_pending_items:[],pending_counts:{for_approval:0,shipping:0,warehouse:0},warehouse_dt1:"",warehouse_dt2:"",warehouse_showall:!1,surplus_rack:0,surplus_allowed:0,ADDTL_VIEW:0,override_payment_date:"",bc_scan:{serial:{item_id:0,cnt:0,qty:0},request_order:!1},filters:{forApproval:function(t){return 1==t.status&&0==t.is_reserve&&0==t.for_approval_walkin},forApprovalReserve:function(t){return 1==t.status&&1==t.is_reserve&&0!=t.reserved_date},forApprovalMemberReserved:function(t){return 1==t.status&&1==t.is_reserve&&0!=t.reserved_date},forApprovalReservePending:function(t){return 1==t.status&&1==t.is_reserve&&0==t.reserved_date},forApprovalMemberReservedPending:function(t){return 1==t.status&&1==t.is_reserve&&0==t.reserved_date},forApprovalWalkin:function(t){return 1==t.status&&1==t.for_approval_walkin},approved:function(t){return 3==t.status},shipping:function(t){return 2==t.status},forApprovalMember:function(t){return 1==t.status&&t.member_id==this.user_member_id.value},approvedMember:function(t){return 3==t.status&&t.member_id==this.user_member_id.value},shippingMember:function(t){return 2==t.status&&t.member_id==this.user_member_id.value}}},computed:{validation:function(){return{branch_id:!!this.request.branch_id,item_id:!!this.request.item_id,for_pickup:""!==this.request.for_pickup,is_reserve:""!==this.request.is_reserve,qty:!!this.request.qty||isNaN(this.request.qty)}},validateInvoice:function(t){return 1==t.stock_out&&0!=t.payment_id&&0!=t.invoice},validateDr:function(t){return 1==t.stock_out&&0!=t.payment_id&&0!=t.dr},isValid:function(){var t=this.validation;return Object.keys(t).every(function(e){return t[e]})},isSuccess:function(){return this.success},cur_terminal_id:function(){return localStorage.terminal_id},totalAmount:function(){var t=0;for(var e in this.items)t=parseFloat(t)+this.items[e].qty*this.items[e].price+parseFloat(this.items[e].adjustmentmem);return number_format(t,2)},totalAdjustment:function(){var t=0;for(var e in this.items)t=parseFloat(t)+parseFloat(this.items[e].adjustmentmem);return number_format(t,2)},grossAmount:function(){var t=0;for(var e in this.items)t=parseFloat(t)+this.items[e].qty*this.items[e].price;return number_format(t,2)},pending_for_approval:function(){return 0==this.is_member?this.orders.filter(this.filters.forApproval):this.orders.filter(this.filters.forApprovalMember)},pending_for_approval_reserved:function(){return 0==this.is_member?this.orders.filter(this.filters.forApprovalReserve):this.orders.filter(this.filters.forApprovalMemberReserved)},pending_for_approval_reserved_pending:function(){return 0==this.is_member?this.orders.filter(this.filters.forApprovalReservePending):this.orders.filter(this.filters.forApprovalMemberReservedPending)},pending_for_approval_walkin:function(){return 0==this.is_member?this.orders.filter(this.filters.forApprovalWalkin):[]},pending_approved:function(){return 0==this.is_member?this.orders.filter(this.filters.approved):this.orders.filter(this.filters.approvedMember)},pending_shipping:function(){return 0==this.is_member?this.orders.filter(this.filters.shipping):this.orders.filter(this.filters.shippingMember)},current_item_status:function(){return this.current_status},current_item_isScheduled:function(){return this.current_isScheduled},current_item_stock_out:function(){return this.current_stock_out},current_item_canBeResched:function(){return this.current_canBeResched},current_item_truck_id:function(){return this.current_truck_id},current_is_member:function(){return this.is_member},current_member_id:function(){return this.user_member_id},computed_order:function(){return this.current_order_det},same_branch:function(){return this.current_order_det.branch_id==localStorage.branch_id||0==this.current_order_det.member_id&&this.current_order_det.to_branch_id==localStorage.branch_id},current_updating:function(){return this.order_updating},current_auth:function(){var t=this.my_auth,e=this.current_order_det.branch_id;if(t.indexOf(",")>0){if((t=t.split(",")).length>0)for(var i in t)if(t[i]==e)return!0}else if(t==e)return!0;return!1}}},r=new(i.n(o).a)({el:"#WarehouseController",data:a.data,computed:a.computed,ready:function(){console.log("ready25"),localStorage.removeItem("op_payment_cheque"),localStorage.removeItem("op_payment_credit"),localStorage.removeItem("op_payment_bt"),localStorage.removeItem("op_payment_cash"),this.surplus_rack=$("#SURPLUS_RACK").val(),this.CASHIER_HELPER=$("#CASHIER_HELPER").val(),$("#get_from_surplus").length>0?this.ADDTL_VIEW=0:this.ADDTL_VIEW=$("#ADDTL_VIEW").val(),this.charge_label=$("#CHARGE_LABEL").val(),this.ORDER_FOR_ALL=$("#ORDER_FOR_ALL").val();var t=$("#ORDER_LIMIT").val();this.adjustment_default=$("#ADJUSTMENT_DEFAULT").val(),this.reserve_only=$("#RESERVE_ONLY").val(),this.is_member=$("#is_member").val(),this.user_member_id=$("#user_member_id").val(),this.user_fullname=$("#user_fullname").val(),this.invoice_prefix=$("#INVOICE_PREFIX").val(),this.dr_prefix=$("#DR_PREFIX").val(),this.pr_prefix=$("#PR_PREFIX").val(),this.invoice_label=$("#INVOICE_LABEL").val(),this.dr_label=$("#DR_LABEL").val(),this.pr_label=$("#PR_LABEL").val(),this.my_auth=$("#APPROVAL_AUTH").val(),this.PENDING_MEMBER=$("#PENDING_MEMBER").val(),this.current_user_id=$("#current_user_id").val(),this.different_unit=$("#DIFFERENT_UNIT").val(),this.order_limit=t||30;var e=$("#member_id"),i=$("#op_member_id"),o=$("#branch_id"),a=$("#branch_id_to"),n=$("#shipping_company_id"),s=$("#update_shipping_company"),l=$("#helper_id"),d=1;1==this.reserve_only&&(this.request.is_reserve=1,$("#fr0").attr("disabled",!0),$("#fr1").attr("disabled",!0)),1==this.CASHIER_HELPER&&(this.request.for_pickup=2,$("#fp0").attr("disabled",!0),$("#fp2").attr("disabled",!0),$("#fp1").attr("disabled",!0),d=0),1==this.ORDER_FOR_ALL&&(d=0),o.select2({placeholder:"From",allowClear:!0}),a.select2({placeholder:"To",allowClear:!0}),n.select2({placeholder:"Shipping Company",allowClear:!0}),s.select2({placeholder:"Shipping Company",allowClear:!0}),l.select2({placeholder:"Select Helper",allowClear:!0});var p=$("#MEMBER_LABEL").val();e.select2({placeholder:"Search "+p,allowClear:!0,minimumInputLength:2,ajax:{url:"../ajax/ajax_json.php",dataType:"json",type:"POST",quietMillis:50,data:function(t){return{q:t,functionName:"members",my_client:d}},results:function(t){return{results:$.map(t,function(t){return{text:t.lastname+", "+t.sales_type_name,slug:t.lastname+", "+t.firstname+" "+t.middlename,id:t.id}})}}}}),i.select2({placeholder:"Search "+p,allowClear:!0,minimumInputLength:2,ajax:{url:"../ajax/ajax_json.php",dataType:"json",type:"POST",quietMillis:50,data:function(t){return{q:t,functionName:"members"}},results:function(t){return{results:$.map(t,function(t){return{text:t.lastname+", "+t.sales_type_name,slug:t.lastname+", "+t.firstname+" "+t.middlename,id:t.id}})}}}}),$("#override_payment_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#override_payment_date").datepicker("hide"),r.override_payment_date=$("#override_payment_date").val()}),1==this.is_member&&(this.request.member_id=this.user_member_id,e.select2("disable",!0),e.select2("data",{id:this.user_member_id,text:this.user_fullname})),$("#schedule_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#schedule_date").datepicker("hide")}),$("#re_schedule_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#re_schedule_date").datepicker("hide")}),$("#warehouse_dt1").datepicker({autoclose:!0}).on("changeDate",function(t){$("#warehouse_dt1").datepicker("hide")}),$("#warehouse_dt2").datepicker({autoclose:!0}).on("changeDate",function(t){$("#warehouse_dt2").datepicker("hide")});var c=this;c.getLayout(),c.getInvoiceDrPr(),c.unsavedRequest(),c.getTrucks(),c.orderCount(),1==c.different_unit&&$("body").on("change","#item_id",function(){var t=$("#item_id").val();c.surplus_allowed=0,$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",dataType:"json",data:{functionName:"getItemInfo",item_id:t,branch_id:c.request.branch_id},success:function(t){1==c.surplus_rack&&(c.surplus_allowed=t.surplus.allowed),c.multiplier_qty=t.units,c.dif_qty=1},error:function(){}})}),$("#getpricemodal").on("shown.bs.modal",function(){$(document).off("focusin.modal")}),$("body").on("click",".paging",function(){var t=$(this).attr("page");c.current_page=t,c.fetchedOrder(c.current_status_order)}),localStorage.removeItem("scan"),c.barcodeListener()},methods:{overridePrice:function(t){parseFloat(t.override_price)>0&&(t.member_adjustment=parseFloat(t.override_price)-parseFloat(replaceAll(t.adjusted_price,",","")))},barcodeListener:function(){var t=this;document.onkeypress=function(e){var i="number"==typeof(e=e||window.event).which?e.which:e.keyCode;localStorage.getItem("scan")&&"null"!=localStorage.getItem("scan")?localStorage.setItem("scan",localStorage.getItem("scan")+String.fromCharCode(i)):(localStorage.setItem("scan",String.fromCharCode(i)),setTimeout(function(){localStorage.removeItem("scan")},300)),localStorage.getItem("scan").length>=8&&(t.barcodeScan(localStorage.getItem("scan")),localStorage.removeItem("scan"))}},barcodeScan:function(t){if(this.bc_scan.serial.item_id)try{this.bc_scan.serial.cnt;var e=this.bc_scan.serial.qty-this.bc_scan.serial.cnt;this.serials[e].serial_no=t,this.bc_scan.serial.cnt--}catch(t){console.log("Serial unknown index")}},showBatch:function(){var t=[];if($(".chkBatch").each(function(){var e=$(this);e.is(":checked")&&t.push(e.attr("data-id"))}),t.length){this.batch_truck_id="",this.batch_driver_id="",$("#batch_date").val(""),$("#myModalBatch").modal("show")}else tempToast("error","<p>Please choose transactions to process first..</p>","<h4>Error!!</h4>")},declineBatch:function(){var t=[];$(".chkBatch").each(function(){var e=$(this);e.is(":checked")&&t.push(e.attr("data-id"))});var e=this;alertify.confirm("Are you sure you want to decline this request",function(i){i&&$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"batchDecline",arr:JSON.stringify(t)},success:function(t){tempToast("info","<p>"+t+"</p>","<h4>Information!</h4>"),e.fetchedOrder(1),e.orderCount(),$("#myModalBatch").modal("hide")},error:function(){}})})},submitBatch:function(){var t=[];$(".chkBatch").each(function(){var e=$(this);e.is(":checked")&&t.push(e.attr("data-id"))});var e=this,i=e.batch_truck_id,o=e.batch_driver_id,a=$("#batch_date").val();$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"batchApprove",truck_id:i,driver_id:o,sched:a,arr:JSON.stringify(t)},success:function(t){tempToast("info","<p>"+t+"</p>","<h4>Information!</h4>"),e.fetchedOrder(1),e.orderCount(),$("#myModalBatch").modal("hide")},error:function(){}})},warehouseSearchRecord:function(){this.warehouse_showall=!1,this.fetchedOrder(3)},warehouseShowAll:function(){this.warehouse_showall=!0,this.warehouse_dt1="",this.warehouse_dt2="",this.fetchedOrder(3)},total_current_adjustment:function(t){var e=t.member_adjustment;return e.indexOf("%")>0&&(e=replaceAll(e,"%",""),e/=100,e=t.adjusted_price*e,e*=t.qty),1==this.adjustment_default?1*t.total+1*e:1*t.total-1*e},saveTablePending:function(){var t=this,e=t.member_pending_items,i=t.request,o=$("#btnSavePendingMember");i.member_id&&i.branch_id&&(button_action.start_loading(o),$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",dataType:"json",data:{functionName:"checkStockPending",branch_id:i.branch_id,member_id:i.member_id,pending:JSON.stringify(e)},success:function(e){if(e){for(var i in t.member_pending_items=[],$("#myModalMemberPending").modal("hide"),e)t.items.push(e[i]);t.disableMemberAndBranch(),button_action.end_loading(o)}else button_action.end_loading(o)},error:function(){}}))},checkPendingOrder:function(){var t=this,e=t.request;e.member_id&&e.branch_id&&$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",dataType:"json",data:{functionName:"getMemberPendingOrder",request:JSON.stringify(e)},success:function(e){e.success&&($("#myModalMemberPending").modal("show"),t.member_pending_items=e.details)},error:function(){}})},btnUserOrder:function(){var t=this,e=$(this);button_action.start_loading(e);var i=t.order_id_to_use,o=$("#member_id"),a=$("#branch_id");!i&&isNaN(i)||$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",dataType:"json",data:{functionName:"usePrevOrder",id:i},success:function(e){for(var i in t.request.member_id=e.main_data.member_id,t.request.branch_id=e.main_data.branch_id,t.request.price_group_id=e.main_data.price_group_id,o.select2("disable",!0),a.select2("disable",!0),o.select2("data",{id:e.main_data.member_id,text:e.main_data.member_name}),t.items=[],e.details)t.items.push({item_id:e.details[i].item_id,qty:e.details[i].qty,item_code:e.details[i].item_code,price:e.details[i].adjusted_price,total:e.details[i].adjusted_total,remaining:e.details[i].remaining,adjustmentmem:e.details[i].member_adjustment});e.msg&&tempToast("error","<p>"+e.msg+"</p>","<h4>Error!</h4>")},error:function(){tempToast("error","<p>Invalid data.</p>","<h4>Error!</h4>")}})},updateOrderInfo:function(t){this.order_info=t,"<i class='fa fa-ban'></i>"==this.order_info.remarks&&(this.order_info.remarks=""),this.order_info.client_po=replaceAll(this.order_info.client_po,"PO#: ",""),this.order_info.delivery_date=t.delivery_date,this.order_info.warranty_card_number=t.warranty_card_number,$("#myModalUpdateInfo").modal("show")},getPrevConsumable:function(t){$("#myModalConsumable").modal("show"),$("#body_consumable").html("Loading..."),$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"getPrevConsumable",member_id:t.member_id},success:function(t){$("#body_consumable").html(t)},error:function(){}})},showPendingCredit:function(t){$("#myModalCredit").modal("show")},updateOrderInfoSave:function(){var t=this.order_info,e=$("#btnUpdateOrderInfoSave");button_action.start_loading(e),$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"updateOrderInfoSave",data:JSON.stringify(t)},success:function(t){alertify.alert(t),button_action.end_loading(e)},error:function(){button_action.end_loading(e)}})},orderCount:function(){var t=this;$.ajax({url:"../ajax/ajax_query2.php",type:"POST",dataType:"json",data:{functionName:"getOrderCount"},success:function(e){var i=!1,o=!1,a=!1;if(e.length)for(var r in e)1==e[r].status?(t.pending_counts.for_approval=e[r].cnt,i=!0):2==e[r].status?(t.pending_counts.shipping=e[r].cnt,o=!0):3==e[r].status&&(t.pending_counts.warehouse=e[r].cnt,a=!0);i||(t.pending_counts.for_approval=0),o||(t.pending_counts.shipping=0),a||(t.pending_counts.warehouse=0)},error:function(){}})},backload:function(t){$("#back-load-modal").modal("show");var e=this;e.current_order_det=t,$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",dataType:"json",data:{functionName:"showBackloadWh",order_id:t.id},success:function(t){e.$set("backload_data",t)},error:function(){}})},saveBackload:function(){var t=[],e=!1;if($(".tobackload_bundle").each(function(){var i=$(this),o=i.val(),a=i.attr("data-qty");parseFloat(o)>parseFloat(a)&&(e=!0);var r=i.attr("data-item_id_child"),n=i.attr("data-rack_id"),s=i.attr("data-item_id_parent"),l=i.attr("data-id"),d=i.attr("data-rack");t.push({qty:o,rack_id:n,item_id_child:r,item_id_parent:s,id:l,rack:d,orig_qty:a})}),e)tempToast("error","<p>Invalid backload quantity</p>","<h4>Error!</h4>");else{var i=$("#btnSaveBackload");button_action.start_loading(i),$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"saveBackload",backload_child:JSON.stringify(t),orders:JSON.stringify(this.backload_data),order_id:this.current_order_det.id},success:function(t){tempToast("info","<p>"+t+"</p>","<h4>Info!</h4>"),$("#back-load-modal").modal("hide"),button_action.end_loading(i)},error:function(){button_action.end_loading(i)}})}},checkBackQty:function(t,e,i,o){parseFloat(e)+parseFloat(i)>parseFloat(t)&&(tempToast("error","<p>Invalid quantity.</p>","<h4>Error!</h4>"),o.back_qty=0)},toggleCheckItem:function(t){t.is_check=1==t.is_check?0:1,$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"toggleCheckItem",order_det_id:t.id},success:function(t){},error:function(){alert("Error Occur")}})},addOrderDetails:function(){var t=this.current_order_det,e=this,i=e.new_item_order,o=e.new_qty_order,a=this.orderDetails;if(a)for(var r in a)if(a[r].item_id==i)return void tempToast("info","<p>Item Already Exists</p>","<h4>Error!</h4>");$.ajax({url:"../ajax/ajax_query.php",type:"POST",data:{functionName:"itemItemOrders",item_id:i,qty:o,cur_order:JSON.stringify(t)},success:function(i){tempToast("info","<p>"+i+"</p>","<h4>Information!</h4>"),e.new_item_order="",$("#new_item_order").select2("val",null),e.new_qty_order="",e.getDetailscomp(t.id,t.status),e.fetchedOrder(t.status)},error:function(){}})},deleteOrderDetails:function(t){var e=t.id,i=this.current_order_det,o=this,a="";1==o.PENDING_MEMBER&&(a="<br> <p style='padding:20px;'><input type='checkbox' id='deleteCheckboxPending'> <label for='deleteCheckboxPending'> Include to pending order</label></p>"),alertify.confirm("Are you sure you want to delete this record? "+a,function(t){if(t){var a=$("#deleteCheckboxPending").is(":checked");a=a?1:0,$.ajax({url:"../ajax/ajax_query.php",type:"POST",data:{functionName:"deleteItemOrders",to_pending:a,id:e,cur_order:JSON.stringify(i)},success:function(t){tempToast("info","<p>"+t+"</p>","<h4>Information!</h4>"),o.getDetailscomp(i.id,i.status),o.fetchedOrder(i.status)},error:function(){}})}})},updateDetails:function(){if(1==this.order_updating){this.order_updating=0;var t=this.orderDetails,e=this.current_order_det,i=this;$.ajax({url:"../ajax/ajax_query.php",type:"POST",data:{functionName:"updateItemOrders",cur_order:JSON.stringify(e),od:JSON.stringify(t)},success:function(t){tempToast("info","<p>"+t+"</p>","<h4>Information!</h4>"),i.getDetailscomp(e.id,e.status),i.fetchedOrder(e.status)},error:function(){}})}else this.order_updating=1},printDelLog:function(){if(this.orders_log.length>0){var t="",e="",i=this.log_from,o=this.log_to,a="";a=i.trim()==o.trim()?i:i+" - "+o,e+="<div class='container-fluid'>",e+="<h1 class='text-center'><img width='35' height='35' src='../css/img/logo.png' /> "+localStorage.company_name+"</h1>",e+="<h3 class='text-center'>Deliveries Print Out</h3>",t+="<table class='table table-bordered'>",t+="<thead>",t+="<tr>",t+="<th>ID</th><th>Client</th><th>Ctrl #</th><th>Amount</th><th>Remarks</th><th></th>",t+="</tr>",t+="</thead>",t+="<tbody>";var r="",n="",s="",l="";for(var d in this.orders_log){var p="";this.orders_log[d].truck_name&&(r=this.orders_log[d].truck_name+" "+this.orders_log[d].truck_description),this.orders_log[d].driver&&(n=this.orders_log[d].driverval),this.orders_log[d].helperval&&(l=this.orders_log[d].helperval),this.orders_log[d].sales_type_name&&(s=this.orders_log[d].sales_type_name),(this.orders_log[d].invoice||this.orders_log[d].dr||this.orders_log[d].pr)&&(0!=this.orders_log[d].invoice?p=this.orders_log[d].invoice:0!=this.orders_log[d].dr?p=this.orders_log[d].dr:0!=this.orders_log[d].pr&&(p=this.orders_log[d].pr)),t+="<tr>",t+="<td>"+this.orders_log[d].id+"</td>",t+="<td>"+this.orders_log[d].fullname+"<small style='display:block;' class='text-danger span-block'>"+this.orders_log[d].personal_address+"</small></td>",t+="<td>"+p+"</td>",t+="<td>"+this.orders_log[d].total_price+"</td>",t+="<td>"+this.orders_log[d].remarks+"</td>",t+="<td></td>",t+="</tr>"}t+="</tbody>",t+="</table>",t+="</div>",e+="<div class='row'>",e+="<div class='col-md-6' style='width:48%;float:left;'>",e+="<p class='text-left'>Schedule: "+a+"</p>",e+="</div>",e+="<div class='col-md-6' style='width:48%;float:left;'>",e+="<p class='text-left'>Truck: "+r+"</p>",e+="</div>",e+="</div>",e+="<div class='row'>",e+="<div class='col-md-6' style='width:48%;float:left;'>",e+="<p class='text-left'>Driver: "+n+"</p>",e+="</div>",e+="<div class='col-md-6' style='width:48%;float:left;'>",e+="<p class='text-left'>Type: "+s+"</p>",e+="</div>",e+="</div>",e+="<div class='row'>",e+="<div class='col-md-12' style='width:48%;float:left;'>",e+="<p class='text-left'>Helper: "+l+"</p>",e+="</div>",e+="</div>","<div class='row'>","<div class='col-md-3' style='width:24%;float:left;'>","<p class='text-left'>Prepared by:</p>","</div>","<div class='col-md-3' style='width:24%;float:left;'>","<p class='text-left'>Received by:</p>","</div>","<div class='col-md-3' style='width:24%;float:left;'>","<p class='text-left'>Noted by:</p>","</div>","</div>","<div class='row'>","<div class='col-md-3' style='width:24%; float:left;'  >","<p class='text-left' style='border-bottom:1px solid #000'>&nbsp;</p>","</div>","<div class='col-md-3' style='width:24%;float:left;'>","<p class='text-left' style='border-bottom:1px solid #000'>&nbsp;</p>","</div>","<div class='col-md-3' style='width:24%;float:left;'>","<p class='text-left' style='border-bottom:1px solid #000'>&nbsp;</p>","</div>","</div>",this.popUpPrintWithStyle(e+t+"<div class='row'><div class='col-md-3' style='width:24%;float:left;'><p class='text-left'>Prepared by:</p></div><div class='col-md-3' style='width:24%;float:left;'><p class='text-left'>Received by:</p></div><div class='col-md-3' style='width:24%;float:left;'><p class='text-left'>Noted by:</p></div></div><div class='row'><div class='col-md-3' style='width:24%; float:left;'  ><p class='text-left' style='border-bottom:1px solid #000'>&nbsp;</p></div><div class='col-md-3' style='width:24%;float:left;'><p class='text-left' style='border-bottom:1px solid #000'>&nbsp;</p></div><div class='col-md-3' style='width:24%;float:left;'><p class='text-left' style='border-bottom:1px solid #000'>&nbsp;</p></div></div>")}},printWarehouse:function(){window.open("../ajax/ajax_warehouse.php?functionName=printWarehousePending","_blank")},filterDelLog:function(){this.fetchedOrderLog()},filterPickupLog:function(){this.fetchedOrderPickup()},backToWarehouse:function(){var t=$("#btnBackToWarehouse"),e=t.html(),i=this,o=i.current_order;t.attr("disabled",!0),t.html("Loading..."),alertify.confirm("Are you sure you want to return this request to warehouse?",function(a){a?$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"backToWarehouse",order_id:o},success:function(o){tempToast("info","<p>"+o+"</p>","<h4>Information!</h4>"),t.attr("disabled",!1),t.html(e),$("#myModal").modal("hide"),0==i.current_order_det.for_pickup?i.fetchedOrderLog():i.fetchedOrderPickup()},error:function(){}}):(t.attr("disabled",!1),t.html(e))})},scheduleOrder:function(){var t=$("#btnScheduleOrder"),e=t.html(),i=this;t.attr("disabled",!0),t.html("Loading..."),i.schedule_date&&(i.truck_id&&i.helper_id&&i.driver_id||i.current_order_det.shipping_name||i.current_order_det.for_pickup,1)?$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"scheduleOrderWh",order_id:i.current_order,schedule_date:i.schedule_date,truck_id:i.truck_id,helpers_id:JSON.stringify(i.helper_id),driver_id:i.driver_id,order_details:JSON.stringify(i.orderDetails)},success:function(o){tempToast("info","<p>"+o+"</p>","<h4>Information!</h4>"),t.attr("disabled",!1),t.html(e),$("#myModal").modal("hide"),i.fetchedOrder(i.current_order_det.status),i.orderCount()},error:function(){tempToast("error","<p>Error occur. Please try again.</p>","<h4>Error!</h4>"),$("#myModal").modal("hide"),t.attr("disabled",!1),t.html(e)}}):alertify.alert("Please complete the form.",function(){t.attr("disabled",!1),t.html(e)})},reScheduleOrder:function(){var t=$("#btnReScheduleOrder"),e=t.html();t.attr("disabled",!0),t.html("Loading...");var i=this;i.re_schedule_date?$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"reScheduleOrderWh",order_id:i.current_order,schedule_date:i.re_schedule_date,re_truck_id:i.re_truck_id,re_driver_id:i.re_driver_id,re_for_pick_up:i.re_for_pick_up,re_helper_id:JSON.stringify(i.re_helper_id)},success:function(o){tempToast("info","<p>"+o+"</p>","<h4>Information!</h4>"),t.attr("disabled",!1),t.html(e),$("#myModalDates").modal("hide"),i.fetchedOrderLog(),i.fetchedOrderPickup()},error:function(){alertify.error("<h4>Error Occur. Please Try again.</h4>"),$("#myModalDates").modal("hide")}}):alertify.alert("Please complete the form.",function(){t.attr("disabled",!1),t.html(e)})},paymentDetails:function(t,e){e.preventDefault();var i=t.payment_id;$(".right-panel-pane").fadeIn(100),$.ajax({url:"../ajax/ajax_paymentDetails.php",type:"POST",beforeSend:function(){$("#right-pane-container").html("Fetching record. Please wait.")},data:{id:i},success:function(t){$("#right-pane-container").html(t)}})},unsavedRequest:function(){var t=this;localStorage.wh_backup_items&&alertify.confirm("You have unsaved request. Do you want to load it?",function(e){e&&(t.request=JSON.parse(localStorage.wh_backup_request),t.items=JSON.parse(localStorage.wh_backup_items),t.disableMemberAndBranch())})},bundleDetails:function(t){$("#myModalBundle").modal("show"),$("#bbody").html("Loading..."),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getBundleItem",item_id:t.item_id,item_description:t.item_code},success:function(t){$("#bbody").html(t)},error:function(){alert("Error Occur")}})},getLayout:function(){},getTrucks:function(){var t=this;$.ajax({url:"../ajax/ajax_query2.php",type:"POST",dataType:"json",data:{functionName:"getTrucks"},success:function(e){t.trucks=e.trucks,t.helpers=e.helpers,t.drivers=e.drivers,t.countdel=e.count_del,t.countpickup=e.countpickup,t.countservice=e.countservice,localStorage.invoice_format=e.invoice,localStorage.dr_format=e.dr,localStorage.ir_format=e.ir,localStorage.sv_format=e.sv,localStorage.sr_format=e.sr,localStorage.ts_format=e.ts,localStorage.news_format=e.extra}})},getInvoiceDrPr:function(){if(localStorage.terminal_id){var t=this;$.ajax({url:"../ajax/ajax_get_branchAndTerminal.php",type:"POST",data:{cid:localStorage.terminal_id,type:3},success:function(e){var i=e.split(":");localStorage.invoice=i[0],localStorage.end_invoice=i[1],localStorage.dr=i[2],localStorage.end_dr=i[3],localStorage.invoice_limit=i[4],localStorage.dr_limit=i[5],localStorage.ir=i[6],localStorage.end_ir=i[7],localStorage.ir_limit=i[8],localStorage.speed_opt=i[9],localStorage.use_printer=i[10],localStorage.data_sync=i[11],localStorage.news_print=i[12],localStorage.print_inv=i[13],localStorage.print_dr=i[14],localStorage.print_ir=i[15],localStorage.pref_inv=i[16],localStorage.pref_dr=i[17],localStorage.pref_ir=i[18],localStorage.suf_inv=i[19],localStorage.suf_dr=i[20],localStorage.suf_ir=i[21],localStorage.sv=i[22],localStorage.sv_limit=i[23],localStorage.suf_sv=i[24],localStorage.pref_sv=i[25],localStorage.sr=i[26],localStorage.sr_limit=i[27],localStorage.suf_sr=i[28],localStorage.pref_sr=i[29],localStorage.ts=i[30],localStorage.ts_limit=i[31],localStorage.suf_ts=i[32],localStorage.pref_ts=i[33],localStorage.invoice&&(t.invoice=parseInt(localStorage.invoice)+1),localStorage.dr&&(t.dr=parseInt(localStorage.dr)+1),localStorage.ir&&(t.pr=parseInt(localStorage.ir)+1),localStorage.sv&&(t.sv=parseInt(localStorage.sv)+1),localStorage.sr&&(t.sr=parseInt(localStorage.sr)+1),localStorage.ts&&(t.ts=parseInt(localStorage.ts)+1)}}),$("#conOverride").show()}else $("#conOverride").hide()},popUpPrintWithStyle:function(t){var e=window.open("","new div","");return e.document.write("<html><head><title></title><style></style>"),e.document.write('<link rel="stylesheet" href="../css/bootstrap.css" type="text/css" />'),e.document.write('</head><body style="padding:0;margin:0;;font-family: Arial, Helvetica, sans-serif;">'),e.document.write(t),e.document.write("</body></html>"),setTimeout(function(){e.print(),e.close()},300),!0},popUpPrint:function(t,e){var i=window.open("","new div","");return i.document.write("<html><head><title></title><style></style>"),e&&i.document.write('<link rel="stylesheet" href="../css/bootstrap.css" type="text/css" />'),i.document.write('</head><body style="padding:0;margin:0;">'),i.document.write(t),i.document.write("</body></html>"),i.print(),i.close(),!0},printGroup:function(t){var e=$("#chkInvoice").is(":checked"),i=$("#chkDr").is(":checked"),o=$("#chkPr").is(":checked"),a=$("#chkSv").is(":checked"),r=this,n=!1;if(e?n=!0:r.invoice=0,i?n=!0:r.dr=0,o?n=!0:r.pr=0,a?n=!0:r.sv=0,n){if(r.ajaxRequest)return;r.ajaxRequest=!0,$(".loading").show();var s=localStorage.pref_inv?localStorage.pref_inv:"",l=localStorage.pref_dr?localStorage.pref_dr:"",d=localStorage.pref_ir?localStorage.pref_ir:"",p=localStorage.pref_sv?localStorage.pref_sv:"",c=localStorage.suf_inv?localStorage.suf_inv:"",h=localStorage.suf_dr?localStorage.suf_dr:"",u=localStorage.suf_ir?localStorage.suf_ir:"",m=localStorage.suf_sv?localStorage.suf_sv:"",f=$("#custom_date").val();$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getItemForInvoicePrintingWh",order_id:t,order_type:5,invoice:r.invoice,dr:r.dr,pr:r.pr,sv:r.sv,terminal_id:localStorage.terminal_id,rePrint:0,custom_date:f,pref_inv:s,pref_dr:l,pref_ir:d,pref_sv:p,suf_inv:c,suf_dr:h,suf_ir:u,suf_sv:m},dataType:"json",success:function(t){r.print_data=t,$(".loading").hide();var n=0;e&&(n=4,1==$("#IS_CEBUHIQ").val()?r.printElemCebu():r.printElem());(i&&(r.printElemDr(),n=1),o&&(r.printElemPr(),n=2),a&&(r.printElemSv(),n=1),localStorage.news_print&&1==localStorage.news_print)&&(1==$("#IS_CEBUHIQ").val()?r.printElemNewsPrintCebu(n):r.printElemNewsPrint(n));r.ajaxRequest=!1,1==r.nav.del?r.fetchedOrderLog():1==r.nav.pickup?r.fetchedOrderPickup():r.fetchedOrder(1),r.getInvoiceDrPr(),tempToast("info","<p>Action completed successfully</p>","<h4>Information!</h4>")},error:function(){alertify.error("Please set your computer as terminal first."),r.ajaxRequest=!1,$(".loading").hide()}})}else r.fetchedOrder(1),r.getInvoiceDrPr()},rePrintInvoice:function(t,e){var i=this;if(!i.ajaxRequest){i.ajaxRequest=!0,$(".loading").show();var o=localStorage.pref_inv?localStorage.pref_inv:"",a=localStorage.pref_dr?localStorage.pref_dr:"",r=localStorage.pref_ir?localStorage.pref_ir:"",n=localStorage.pref_sv?localStorage.pref_sv:"",s=localStorage.suf_inv?localStorage.suf_inv:"",l=localStorage.suf_dr?localStorage.suf_dr:"",d=localStorage.suf_ir?localStorage.suf_ir:"",p=localStorage.suf_sv?localStorage.suf_sv:"",c=$("#custom_date").val();$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getItemForInvoicePrintingWh",order_id:t.id,order_type:e,invoice:i.invoice,dr:i.dr,pr:i.pr,sv:i.sv,sr:i.sr,ts:i.ts,terminal_id:localStorage.terminal_id,rePrint:1,pref_inv:o,pref_dr:a,pref_ir:r,pref_sv:n,custom_date:c,suf_inv:s,suf_dr:l,suf_ir:d,suf_sv:p},dataType:"json",success:function(t){i.print_data=t;var o=$("#IS_CEBUHIQ").val();$(".loading").hide(),1==e?1==o?(i.printElemCebu(),i.printElemNewsPrintCebu(4)):i.printElem():2==e?(i.printElemDr(),1==o?i.printElemNewsPrintCebu(1):i.printElemNewsPrint(1)):3==e?(i.printElemPr(),1==o?i.printElemNewsPrintCebu(2):i.printElemNewsPrint(2)):4==e?(i.printElemSv(),1==o?i.printElemNewsPrintCebu(3):i.printElemNewsPrint(3)):6==e?i.printElemSR():7==e&&i.printElemTS(),tempToast("info","<p>Action completed successfully</p>","<h4>Information!</h4>"),i.ajaxRequest=!1},error:function(){alertify.error("Error Occur. Please try again."),i.ajaxRequest=!1,$(".loading").hide()}})}},printInvoice:function(t,e){var i=this;if(!i.ajaxRequest){i.ajaxRequest=!0;var o=$("#IS_CEBUHIQ").val();$(".loading").show(),1==e?alertify.confirm("The next invoice is "+i.invoice+". Do you want to continue?",function(a){if(a){var r=localStorage.pref_inv?localStorage.pref_inv:"",n=localStorage.pref_dr?localStorage.pref_dr:"",s=localStorage.pref_ir?localStorage.pref_ir:"",l=(localStorage.suf_inv&&localStorage.suf_inv,localStorage.suf_dr&&localStorage.suf_dr,localStorage.suf_ir&&localStorage.suf_ir,$("#custom_date").val());$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getItemForInvoicePrintingWh",order_id:t.id,order_type:e,invoice:i.invoice,dr:i.dr,pr:i.pr,sv:i.sv,sr:i.sr,ts:i.ts,terminal_id:localStorage.terminal_id,rePrint:0,pref_inv:r,pref_dr:n,custom_date:l,pref_ir:s},dataType:"json",success:function(t){i.print_data=t,$(".loading").hide(),1==o?i.printElemCebu():i.printElem(),localStorage.news_print&&1==localStorage.news_print&&(1==o?i.printElemNewsPrintCebu(4):i.printElemNewsPrint(0)),i.ajaxRequest=!1,1==i.nav.del?i.fetchedOrderLog():1==i.nav.pickup?i.fetchedOrderPickup():i.fetchedOrder(1),i.getInvoiceDrPr(),tempToast("info","<p>Action completed successfully</p>","<h4>Information!</h4>")},error:function(){alertify.error("Please set your computer as terminal first."),i.ajaxRequest=!1,$(".loading").hide()}})}else $(".loading").hide()}):2==e?alertify.confirm("The next dr is "+i.dr+". Do you want to continue?",function(a){if(a){var r=localStorage.pref_inv?localStorage.pref_inv:"",n=localStorage.pref_dr?localStorage.pref_dr:"",s=localStorage.pref_ir?localStorage.pref_ir:"",l=localStorage.suf_inv?localStorage.suf_inv:"",d=localStorage.suf_dr?localStorage.suf_dr:"",p=localStorage.suf_ir?localStorage.suf_ir:"",c=$("#custom_date").val();$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getItemForInvoicePrintingWh",order_id:t.id,order_type:e,invoice:i.invoice,dr:i.dr,pr:i.pr,sv:i.sv,sr:i.sr,ts:i.ts,terminal_id:localStorage.terminal_id,rePrint:0,pref_inv:r,pref_dr:n,pref_ir:s,custom_date:c,suf_inv:l,suf_dr:d,suf_ir:p},dataType:"json",success:function(t){i.print_data=t,$(".loading").hide(),i.printElemDr(),localStorage.news_print&&1==localStorage.news_print&&(1==o?i.printElemNewsPrintCebu(1):i.printElemNewsPrint(1)),i.ajaxRequest=!1,1==i.nav.del?i.fetchedOrderLog():1==i.nav.pickup?i.fetchedOrderPickup():i.fetchedOrder(1),i.getInvoiceDrPr(),tempToast("info","<p>Action completed successfully</p>","<h4>Information!</h4>")},error:function(){alertify.error("Please set your computer as terminal first."),i.ajaxRequest=!1,$(".loading").hide()}})}else $(".loading").hide()}):3==e?alertify.confirm("The next PR is "+i.pr+". Do you want to continue?",function(a){if(a){var r=localStorage.pref_inv?localStorage.pref_inv:"",n=localStorage.pref_dr?localStorage.pref_dr:"",s=localStorage.pref_ir?localStorage.pref_ir:"",l=localStorage.suf_inv?localStorage.suf_inv:"",d=localStorage.suf_dr?localStorage.suf_dr:"",p=localStorage.suf_ir?localStorage.suf_ir:"",c=$("#custom_date").val();$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getItemForInvoicePrintingWh",order_id:t.id,order_type:e,invoice:i.invoice,dr:i.dr,pr:i.pr,sv:i.sv,sr:i.sr,ts:i.ts,terminal_id:localStorage.terminal_id,rePrint:0,pref_inv:r,pref_dr:n,pref_ir:s,custom_date:c,suf_inv:l,suf_dr:d,suf_ir:p},dataType:"json",success:function(t){i.print_data=t,$(".loading").hide(),i.printElemPr(),localStorage.news_print&&1==localStorage.news_print&&(1==o?i.printElemNewsPrintCebu(2):i.printElemNewsPrint(2)),i.ajaxRequest=!1,1==i.nav.del?i.fetchedOrderLog():1==i.nav.pickup?i.fetchedOrderPickup():i.fetchedOrder(1),i.getInvoiceDrPr(),tempToast("info","<p>Action completed successfully</p>","<h4>Information!</h4>")},error:function(){alertify.error("Please set your computer as terminal first."),i.ajaxRequest=!1,$(".loading").hide()}})}else $(".loading").hide()}):4==e?alertify.confirm("The next SV is "+i.sv+". Do you want to continue?",function(a){if(a){var r=localStorage.pref_inv?localStorage.pref_inv:"",n=localStorage.pref_dr?localStorage.pref_dr:"",s=localStorage.pref_ir?localStorage.pref_ir:"",l=localStorage.pref_sv?localStorage.pref_sv:"",d=localStorage.suf_inv?localStorage.suf_inv:"",p=localStorage.suf_dr?localStorage.suf_dr:"",c=localStorage.suf_ir?localStorage.suf_ir:"",h=localStorage.suf_sv?localStorage.suf_sv:"",u=$("#custom_date").val();$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getItemForInvoicePrintingWh",order_id:t.id,order_type:e,invoice:i.invoice,dr:i.dr,pr:i.pr,sv:i.sv,sr:i.sr,ts:i.ts,terminal_id:localStorage.terminal_id,rePrint:0,pref_inv:r,pref_dr:n,pref_ir:s,pref_sv:l,custom_date:u,suf_inv:d,suf_dr:p,suf_sv:h,suf_ir:c},dataType:"json",success:function(t){i.print_data=t,$(".loading").hide(),i.printElemSv(),localStorage.news_print&&1==localStorage.news_print&&(1==o?i.printElemNewsPrintCebu(3):i.printElemNewsPrint(3)),i.ajaxRequest=!1,1==i.nav.del?i.fetchedOrderLog():1==i.nav.pickup?i.fetchedOrderPickup():i.fetchedOrder(1),i.getInvoiceDrPr(),tempToast("info","<p>Action completed successfully</p>","<h4>Information!</h4>")},error:function(){alertify.error("Please set your computer as terminal first."),i.ajaxRequest=!1,$(".loading").hide()}})}else $(".loading").hide()}):6==e?alertify.confirm("The next SR is "+i.sr+". Do you want to continue?",function(o){if(o){var a=localStorage.pref_inv?localStorage.pref_inv:"",r=localStorage.pref_dr?localStorage.pref_dr:"",n=localStorage.pref_ir?localStorage.pref_ir:"",s=localStorage.pref_sv?localStorage.pref_sv:"",l=localStorage.suf_inv?localStorage.suf_inv:"",d=localStorage.suf_dr?localStorage.suf_dr:"",p=localStorage.suf_ir?localStorage.suf_ir:"",c=localStorage.suf_sv?localStorage.suf_sv:"",h=$("#custom_date").val();$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getItemForInvoicePrintingWh",order_id:t.id,order_type:e,invoice:i.invoice,dr:i.dr,pr:i.pr,sv:i.sv,sr:i.sr,ts:i.ts,terminal_id:localStorage.terminal_id,rePrint:0,pref_inv:a,pref_dr:r,pref_ir:n,pref_sv:s,custom_date:h,suf_inv:l,suf_dr:d,suf_sv:c,suf_ir:p},dataType:"json",success:function(t){i.print_data=t,$(".loading").hide(),i.printElemSR(),i.ajaxRequest=!1,1==i.nav.del?i.fetchedOrderLog():1==i.nav.pickup?i.fetchedOrderPickup():i.fetchedOrder(1),i.getInvoiceDrPr(),tempToast("info","<p>Action completed successfully</p>","<h4>Information!</h4>")},error:function(){alertify.error("Please set your computer as terminal first."),i.ajaxRequest=!1,$(".loading").hide()}})}else $(".loading").hide()}):7==e&&alertify.confirm("The next TS is "+i.ts+". Do you want to continue?",function(o){if(o){var a=localStorage.pref_inv?localStorage.pref_inv:"",r=localStorage.pref_dr?localStorage.pref_dr:"",n=localStorage.pref_ir?localStorage.pref_ir:"",s=localStorage.pref_sv?localStorage.pref_sv:"",l=localStorage.suf_inv?localStorage.suf_inv:"",d=localStorage.suf_dr?localStorage.suf_dr:"",p=localStorage.suf_ir?localStorage.suf_ir:"",c=localStorage.suf_sv?localStorage.suf_sv:"",h=$("#custom_date").val();$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getItemForInvoicePrintingWh",order_id:t.id,order_type:e,invoice:i.invoice,dr:i.dr,pr:i.pr,sv:i.sv,sr:i.sr,ts:i.ts,terminal_id:localStorage.terminal_id,rePrint:0,pref_inv:a,pref_dr:r,pref_ir:n,pref_sv:s,custom_date:h,suf_inv:l,suf_dr:d,suf_sv:c,suf_ir:p},dataType:"json",success:function(t){i.print_data=t,$(".loading").hide(),i.printElemSR(),i.ajaxRequest=!1,1==i.nav.del?i.fetchedOrderLog():1==i.nav.pickup?i.fetchedOrderPickup():i.fetchedOrder(1),i.getInvoiceDrPr(),tempToast("info","<p>Action completed successfully</p>","<h4>Information!</h4>")},error:function(){alertify.error("Please set your computer as terminal first."),i.ajaxRequest=!1,$(".loading").hide()}})}else $(".loading").hide()})}},str_pad:function(t,e,i){return void 0===e?t:i?(t+e).slice(-t.length):(e+t).substring(0,t.length)},printElem:function(){if(0==localStorage.print_inv)return!0;var t,e=this.print_data,i=e.member_name,o=e.cashier_name,a=e.member_id,r=JSON.parse(localStorage.invoice_format),n=e.remarks,s=e.station_address,l=e.station_id,d=e.station_name,p=e.date_sold,c="";i||(i=""),s||(s=""),l||(l=""),d||(d=""),t=i.split(","),i=t[0];var h="";if(localStorage.members&&(h=JSON.parse(localStorage.members)),h)for(var u in h){var m=h[u];m.id==a&&(d=m.personal_address+"<br>Contact Person: "+m.firstname+" "+m.lastname+"<br>Contact #: "+m.contact_number)}var f=r.date.visible?"display:block;":"display:none;",v=r.logo.visible?"display:block;":"display:none;",_=r.membername.visible?"display:block;":"display:none;",b=r.memberaddress.visible?"display:block;":"display:none;",y=r.stationname.visible?"display:block;":"display:none;",g=r.stationaddress.visible?"display:block;":"display:none;",x=r.itemtable.visible?"display:block;":"display:none;",w=r.payments.visible?"display:block;":"display:none;",S=r.payments2.visible?"display:block;":"display:none;",k=r.payments3.visible?"display:block;":"display:none;",N=r.cashier.visible?"display:block;":"display:none;",I=r.remarks.visible?"display:block;":"display:none;",T=r.reserved.visible?"display:block;":"display:none;",O=r.tdbarcode.visible?"display:inline-block;":"display:none;",A=r.tdqty.visible?"display:inline-block;":"display:none;",F=r.tddescription.visible?"display:inline-block;":"display:none;",C=r.tdprice.visible?"display:inline-block;":"display:none;",j=r.tdtotal.visible?"display:inline-block;":"display:none;",P=r.date.bold?"font-weight:bold;":"font-weight:normal;",z=r.logo.bold?"font-weight:bold;":"font-weight:normal;",q=r.membername.bold?"font-weight:bold;":"font-weight:normal;",R=r.memberaddress.bold?"font-weight:bold;":"font-weight:normal;",E=r.stationname.bold?"font-weight:bold;":"font-weight:normal;",D=r.stationaddress.bold?"font-weight:bold;":"font-weight:normal;",W=r.itemtable.bold?"font-weight:bold;":"font-weight:normal;",L=r.payments.bold?"font-weight:bold;":"font-weight:normal;",G=r.payments2.bold?"font-weight:bold;":"font-weight:normal;",M=r.payments3.bold?"font-weight:bold;":"font-weight:normal;",B=r.cashier.bold?"font-weight:bold;":"font-weight:normal;",J=r.remarks.bold?"font-weight:bold;":"font-weight:normal;",H=r.reserved.bold?"font-weight:bold;":"font-weight:normal;",U=r.tdbarcode.bold?"font-weight:bold;":"font-weight:normal;",V=r.tdqty.bold?"font-weight:bold;":"font-weight:normal;",Q=r.tddescription.bold?"font-weight:bold;":"font-weight:normal;",Y=r.tdprice.bold?"font-weight:bold;":"font-weight:normal;",Z=r.tdtotal.bold?"font-weight:bold;":"font-weight:normal;";c+="<div id='maindivforprinting' style='page-break-before: always;position:relative;'>",r.logo.visible&&(c=c+"<div style='"+v+"'><img src='http://"+$("#_HOST").val()+"/css/img/logo.jpg' style='"+v+z+"position:absolute;top:"+r.logo.top+"px; left:"+r.logo.left+"px;width:"+r.logo.width+"px;height:"+r.logo.height+"px;' /></div>"),c=(c=(c=(c=(c=(c=c+"<div style='"+f+P+"position:absolute;top:"+r.date.top+"px; left:"+r.date.left+"px;font-size:"+r.date.fontSize+"px;'> <br/><br/>"+p+" </div><div style='clear:both;'></div>")+"<div style='"+_+q+"position:absolute;top:"+r.membername.top+"px; left:"+r.membername.left+"px;font-size:"+r.membername.fontSize+"px;'>"+i+"</div>")+"<div style='"+b+R+"position:absolute;top:"+r.memberaddress.top+"px; left:"+r.memberaddress.left+"px;width:"+r.memberaddress.width+"px;font-size:"+r.memberaddress.fontSize+"px;'>"+d+"</div>")+"<div style='"+y+E+"position:absolute;top:"+r.stationname.top+"px; left:"+r.stationname.left+"px;font-size:"+r.stationname.fontSize+"px;'>"+l+"</div>")+"<div style='"+g+D+"position:absolute;top:"+r.stationaddress.top+"px; left:"+r.stationaddress.left+"px;width:"+r.stationaddress.width+"px;font-size:"+r.stationaddress.fontSize+"px;'>"+s+"</div>")+"<table id='itemscon' style='"+x+W+"position:absolute;top:"+r.itemtable.top+"px;left:"+r.itemtable.left+"px;font-size:"+r.itemtable.fontSize+"px;'> ";$("#cart > tbody > tr").length;var X=parseFloat(localStorage.invoice_limit),K=(localStorage.dr_limit,[]),tt=1,et=1,it=0;X=parseInt(X)+1;var ot=e.item_list,at=localStorage.company_id;for(var u in 1==this.printWithPrice&&(j="display:none;",C="display:none;",w="display:none;",S="display:none;",k="display:none;"),ot){var rt=ot[u].item_code,nt=ot[u].description,st=(ot[u].barcode,ot[u].unit_name);st=st||"";var lt=ot[u].qty+"<span style='margin-left:60px;'>"+st+"</span>",dt=ot[u].price,pt=ot[u].discount,ct=ot[u].total,ht=(ot[u].racking,ct),ut=ot[u].discount_type,mt="",ft="";if(rt&&dt){try{if(ut.length){ht=(dt=ot[u].original_price)*ot[u].qty;var vt=0;for(var _t in ut){var bt=ut[_t];bt=bt/100*(dt-vt)*ot[u].qty,mt+="<br>"+number_format(bt,2),ft+="<br>Less "+number_format(ut[_t],2)+":",vt=parseFloat(vt)+parseFloat(bt/ot[u].qty)}ft+="<br>Net: ",mt+="<br>"+(parseFloat(ht)+parseFloat(ot[u].discount)).toFixed(2)}}catch(t){}if(parseFloat(pt)>0)var yt=parseFloat(pt)/parseFloat(lt),gt="<br/>(Disc. "+number_format(yt,2)+")",xt="<br/>("+number_format(pt,2)+")";else gt="",xt="";if(gt="",xt="",et%X==0){var wt=it/1.12,$t=parseFloat(it)-parseFloat(wt);wt=wt.toFixed(2),$t=$t.toFixed(2),it=it.toFixed(2),K[tt]=K[tt]+"</table>",K[tt]=K[tt]+"<div style='"+w+L+"position:absolute; list-style-type: none; left:"+r.payments.left+"px;top:"+r.payments.top+"px;font-size:"+r.payments.fontSize+"px;'>"+wt+"</div>",K[tt]=K[tt]+"<div style='"+S+G+"position:absolute; list-style-type: none; left:"+r.payments2.left+"px;top:"+r.payments2.top+"px;font-size:"+r.payments2.fontSize+"px;'>"+$t+"</div>",K[tt]=K[tt]+"<div style='"+k+M+"position:absolute; list-style-type: none; left:"+r.payments3.left+"px;top:"+r.payments3.top+"px;font-size:"+r.payments3.fontSize+"px;'>"+it+"</div>",tt=parseInt(tt)+1,it=0}it=parseFloat(it)+parseFloat(ct),K[tt]=14==at?K[tt]+"<tr ><td style='"+O+U+"position:relative;width:"+r.tdbarcode.width+"px;padding-left:"+r.tdbarcode.left+"px;'>"+rt+"</td><td style='"+A+V+"position:relative;width:"+r.tdqty.width+"px;padding-left:"+r.tdqty.left+"px;'>"+lt+"</td><td style='"+F+Q+"position:relative;width:"+r.tddescription.width+"px;padding-left:"+r.tddescription.left+"px;'> "+nt+" <span style='padding-left:20px;'>"+gt+"</span> </td><td style='"+C+Y+"position:relative;width:"+r.tdprice.width+"px;padding-left:"+r.tdprice.left+"px;'>"+number_format(dt,2)+"</td><td style='"+j+Z+"position:relative;width:"+r.tdtotal.width+"px;padding-left:"+r.tdtotal.left+"px;'>"+number_format(ht,2)+" "+xt+"</td></tr>":K[tt]+"<tr ><td style='"+A+V+"position:relative;width:"+r.tdqty.width+"px;padding-left:"+r.tdqty.left+"px;'>"+lt+"</td><td style='"+O+U+"position:relative;width:"+r.tdbarcode.width+"px;padding-left:"+r.tdbarcode.left+"px;'>"+rt+"</td><td style='"+F+Q+"position:relative;width:"+r.tddescription.width+"px;padding-left:"+r.tddescription.left+"px;'> "+nt+" <span style='padding-left:20px;'>"+gt+"</span> </td><td style='"+C+Y+"position:relative;width:"+r.tdprice.width+"px;padding-left:"+r.tdprice.left+"px;'>"+number_format(dt,2)+ft+"</td><td style='"+j+Z+"position:relative;width:"+r.tdtotal.width+"px;padding-left:"+r.tdtotal.left+"px;'>"+number_format(ht,2)+mt+" "+xt+"</td></tr>",et=parseInt(et)+1}}if(it>0){var St=e.consumable_total;parseFloat(St)>0&&(it-=St);wt=it/1.12,$t=parseFloat(it)-parseFloat(wt);wt=wt.toFixed(2),$t=$t.toFixed(2),it=it.toFixed(2),K[tt]=K[tt]+"</table>";var kt="";St&&(kt="("+St+")"),K[tt]=K[tt]+"<div style='"+w+L+"position:absolute; list-style-type: none; left:"+r.payments.left+"px;top:"+(r.payments.top-12)+"px;font-size:"+r.payments.fontSize+"px;'>"+kt+"</div>",K[tt]=K[tt]+"<div style='"+w+L+"position:absolute; list-style-type: none; left:"+r.payments.left+"px;top:"+r.payments.top+"px;font-size:"+r.payments.fontSize+"px;'>"+wt+"</div>",K[tt]=K[tt]+"<div style='"+S+G+"position:absolute; list-style-type: none; left:"+r.payments2.left+"px;top:"+r.payments2.top+"px;font-size:"+r.payments2.fontSize+"px;'>"+$t+"</div>",K[tt]=K[tt]+"<div style='"+k+M+"position:absolute; list-style-type: none; left:"+r.payments3.left+"px;top:"+r.payments3.top+"px;font-size:"+r.payments3.fontSize+"px;'>"+it+"</div>"}var Nt="",It=localStorage.current_lastname+", "+localStorage.current_firstname;14==at&&(It=localStorage.current_lastname+", "+localStorage.current_firstname+"<br>"+o),I+="width:750px;overflow-wrap: break-word; word-wrap: break-word; -ms-word-break: break-all;  word-break: break-all; word-break: break-word; -ms-hyphens: auto; -moz-hyphens: auto; -webkit-hyphens: auto; hyphens: auto;",Nt=(Nt=(Nt=Nt+"<div style='"+N+B+"position:absolute;left:"+r.cashier.left+"px;top:"+r.cashier.top+"px;font-size:"+r.cashier.fontSize+"px;'>"+It+"</div>")+"<div style='"+I+J+"position:absolute;left:"+r.remarks.left+"px;top:"+r.remarks.top+"px;font-size:"+r.remarks.fontSize+"px;'>"+n+"</div>")+"<div style='"+T+H+"position:absolute;left:"+r.reserved.left+"px;top:"+r.reserved.top+"px;font-size:"+r.reserved.fontSize+"px;'></div>";var Tt=e.client_po,Ot=r.terms.visible?"display:inline-block;":"display:none;",At=r.drnum.visible?"display:inline-block;":"display:none;",Ft=r.ponum.visible?"display:inline-block;":"display:none;",Ct=r.tin.visible?"display:inline-block;":"display:none;",jt=r.drnum.bold?"font-weight:bold;":"font-weight:normal;",Pt=r.terms.bold?"font-weight:bold;":"font-weight:normal;",zt=r.ponum.bold?"font-weight:bold;":"font-weight:normal;",qt=r.tin.bold?"font-weight:bold;":"font-weight:normal;";Nt=(Nt=(Nt=Nt+"<div style='"+Ot+Pt+"position:absolute;left:"+r.terms.left+"px;top:"+r.terms.top+"px;font-size:"+r.terms.fontSize+"px;'></div>")+"<div style='"+Ft+zt+"position:absolute;left:"+r.ponum.left+"px;top:"+r.ponum.top+"px;font-size:"+r.ponum.fontSize+"px;'>"+Tt+"</div>")+"<div style='"+Ct+qt+"position:absolute;left:"+r.tin.left+"px;top:"+r.tin.top+"px;font-size:"+r.tin.fontSize+"px;'></div>";var Rt=e.is_charge,Et="";1==this.charge_label&&(1==Rt?Et="=====Cash On Delivery======":2==Rt?Et="======CHARGE======":3==Rt&&(Et="======PDC======"),r.lbl&&(Nt=Nt+"<div style='"+(r.lbl.visible?"display:inline-block;":"display:none;")+(r.lbl.bold?"font-weight:bold;":"font-weight:normal;")+"position:absolute;left:"+r.lbl.left+"px;top:"+r.lbl.top+"px;font-size:"+r.lbl.fontSize+"px;'>"+Et+"</div>"));Nt+="</div>";var Dt="",Wt=0;for(var u in K){var Lt=$("#custom_invoice").val(),Gt=parseInt(localStorage.invoice)+1,Mt=Lt||Gt;Mt=parseFloat(Mt)+parseFloat(Wt);var Bt=localStorage.pref_inv?localStorage.pref_inv:"",Jt=localStorage.suf_inv?localStorage.suf_inv:"";Mt=Bt+(Mt=this.str_pad("000000",Mt,!0))+Jt,K[u]=K[u]+"<div style='"+At+jt+"position:absolute;left:"+r.drnum.left+"px;top:"+r.drnum.top+"px;font-size:"+r.drnum.fontSize+"px;'>"+Mt+"</div>",Dt=Dt+c+K[u]+Nt,Wt++}this.popUpPrint(Dt)},printElemCebu:function(){if(0==localStorage.print_inv)return!0;var t,e=this.print_data,i=e.member_name,o=e.cashier_name,a=e.member_id,r=JSON.parse(localStorage.invoice_format),n=e.remarks,s=e.station_address,l=e.station_id,d=e.station_name,p=e.date_sold,c="";i||(i=""),s||(s=""),l||(l=""),d||(d=""),t=i.split(","),i=t[0];var h="";if(localStorage.members&&(h=JSON.parse(localStorage.members)),h)for(var u in h){var m=h[u];m.id==a&&(d=m.personal_address+"<br>Contact Person: "+m.firstname+" "+m.lastname+"<br>Contact #: "+m.contact_number)}var f=r.date.visible?"display:block;":"display:none;",v=r.logo.visible?"display:block;":"display:none;",_=r.membername.visible?"display:block;":"display:none;",b=r.memberaddress.visible?"display:block;":"display:none;",y=r.stationname.visible?"display:block;":"display:none;",g=r.stationaddress.visible?"display:block;":"display:none;",x=(r.itemtable.visible,r.payments.visible?"display:block;":"display:none;"),w=r.payments2.visible?"display:block;":"display:none;",S=r.payments3.visible?"display:block;":"display:none;",k=r.cashier.visible?"display:block;":"display:none;",N=r.remarks.visible?"display:block;":"display:none;",I=r.reserved.visible?"display:block;":"display:none;",T=(r.tdbarcode.visible,r.tdqty.visible,r.tddescription.visible,r.tdprice.visible,r.tdtotal.visible,r.date.bold?"font-weight:bold;":"font-weight:normal;"),O=r.logo.bold?"font-weight:bold;":"font-weight:normal;",A=r.membername.bold?"font-weight:bold;":"font-weight:normal;",F=r.memberaddress.bold?"font-weight:bold;":"font-weight:normal;",C=r.stationname.bold?"font-weight:bold;":"font-weight:normal;",j=r.stationaddress.bold?"font-weight:bold;":"font-weight:normal;",P=(r.itemtable.bold,r.payments.bold?"font-weight:bold;":"font-weight:normal;"),z=r.payments2.bold?"font-weight:bold;":"font-weight:normal;",q=r.payments3.bold?"font-weight:bold;":"font-weight:normal;",R=r.cashier.bold?"font-weight:bold;":"font-weight:normal;",E=r.remarks.bold?"font-weight:bold;":"font-weight:normal;",D=r.reserved.bold?"font-weight:bold;":"font-weight:normal;";r.tdbarcode.bold,r.tdqty.bold,r.tddescription.bold,r.tdprice.bold,r.tdtotal.bold;c+="<div id='maindivforprinting' style='page-break-before: always;position:relative;'>",r.logo.visible&&(c=c+"<div style='"+v+"'><img src='http://"+$("#_HOST").val()+"/css/img/logo.jpg' style='"+v+O+"position:absolute;top:"+r.logo.top+"px; left:"+r.logo.left+"px;width:"+r.logo.width+"px;height:"+r.logo.height+"px;' /></div>"),c=(c=(c=(c=(c=(c=c+"<div style='"+f+T+"position:absolute;top:"+r.date.top+"px; left:"+r.date.left+"px;font-size:"+r.date.fontSize+"px;'> <br/><br/>"+p+" </div><div style='clear:both;'></div>")+"<div style='"+_+A+"position:absolute;top:"+r.membername.top+"px; left:"+r.membername.left+"px;font-size:"+r.membername.fontSize+"px;'>"+i+"</div>")+"<div style='"+b+F+"position:absolute;top:"+r.memberaddress.top+"px; left:"+r.memberaddress.left+"px;width:"+r.memberaddress.width+"px;font-size:"+r.memberaddress.fontSize+"px;'>"+d+"</div>")+"<div style='"+y+C+"position:absolute;top:"+r.stationname.top+"px; left:"+r.stationname.left+"px;font-size:"+r.stationname.fontSize+"px;'>"+l+"</div>")+"<div style='"+g+j+"position:absolute;top:"+r.stationaddress.top+"px; left:"+r.stationaddress.left+"px;width:"+r.stationaddress.width+"px;font-size:"+r.stationaddress.fontSize+"px;'>"+s+"</div>")+"<table id='itemscon' style='position:absolute;top:"+r.itemtable.top+"px;left:"+r.itemtable.left+"px;font-size:"+r.itemtable.fontSize+"px;'> ";$("#cart > tbody > tr").length;var W=parseFloat(localStorage.invoice_limit);localStorage.dr_limit;W=parseInt(W)+1;var L=e.item_list,G=localStorage.company_id;1==this.printWithPrice&&("display:none;","display:none;",x="display:none;",w="display:none;",S="display:none;");L=e.item_list,e.same_discount;var M=[];for(var u in L){var B=L[u].item_code,J=L[u].description,H=(L[u].barcode,L[u].unit_name);H=H||"";var U=L[u].qty,V=(L[u].price,L[u].discount),Q=(L[u].total,L[u].discount_type,""),Y="0";if(V)Q=(dt=V/L[u].qty)/L[u].original_price*100,Q=number_format(Q,2,".",""),L[u].discount_type&&(Y=L[u].discount_type.join());if(B&&U){Y=Y||"0";var Z={item_code:B,description:J,qty:U,discount:V,unit_name:H,price:L[u].original_price,total:L[u].original_total,tmp_discount_label:Y};M.push(Z)}}var X="",K="",tt=0,et=0,it=0;for(var u in M){if(""!==X&&X!==M[u].tmp_discount_label){if(K+="<tr>",K+="<td></td>",K+="<td></td>",K+="<td></td>",K+="<td><strong>Gross</strong></td>",K+="<td style='text-align:right;'>"+number_format(tt,2)+"</td>",K+="</tr>",X.indexOf(",")>-1){var ot=X.split(","),at=tt;for(var rt in ot){var nt=ot[rt]/100*at;at-=number_format(nt,2,".",""),K+="<tr>",K+="<td></td>",K+="<td></td>",K+="<td></td>",K+="<td><strong>Disc "+number_format(ot[rt],0)+"%</strong></td>",K+="<td style='text-align:right;'>"+number_format(nt,2)+"</td>",K+="</tr>"}}else K+="<tr>",K+="<td></td>",K+="<td></td>",K+="<td></td>",K+="<td ><strong>Disc "+number_format(X,0)+"%</strong></td>",K+="<td style='text-align:right;'>"+number_format(et,2)+"</td>",K+="</tr>";K+="<tr>",K+="<td></td>",K+="<td></td>",K+="<td></td>",K+="<td ><strong>Net</strong></td>",K+="<td style='text-align:right;'>"+number_format(parseFloat(tt)+parseFloat(et),2)+"</td>",K+="</tr>",tt=0,et=0}var st=M[u].price,lt=M[u].total;if(0==st)parseFloat(M[u].discount)>0&&(st=M[u].discount,lt=parseFloat(st)*parseFloat(M[u].qty),M[u].discount=0);else if(parseFloat(M[u].discount)>0){var dt=M[u].discount/M[u].qty;st=parseFloat(st)+parseFloat(dt),lt=parseFloat(st)*parseFloat(M[u].qty),M[u].discount=0}K+="<tr>",K+="<td style='width:320px;'>"+M[u].description+"</td>",K+="<td style='width:40px;'>"+M[u].unit_name+"</td>",K+="<td style='width:40px;'>"+M[u].qty+"</td>",K+="<td style='text-align:right;width:90px;'>"+number_format(st,2)+"</td>",K+="<td style='text-align:right;width:110px;'>"+number_format(lt,2)+"</td>",K+="</tr>",tt=parseFloat(lt)+parseFloat(tt),et=parseFloat(M[u].discount)+parseFloat(et),X=M[u].tmp_discount_label,it=parseFloat(lt)+parseFloat(M[u].discount)+parseFloat(it)}if(tt){if(K+="<tr>",K+="<td></td>",K+="<td></td>",K+="<td></td>",K+="<td ><strong>Gross</strong></td>",K+="<td style='text-align:right;'>"+number_format(tt,2)+"</td>",K+="</tr>",X.indexOf(",")>-1){ot=X.split(","),at=tt;for(var rt in ot){nt=ot[rt]/100*at;at-=number_format(nt,2,".",""),K+="<tr>",K+="<td></td>",K+="<td></td>",K+="<td></td>",K+="<td ><strong>Disc "+number_format(ot[rt],0)+"%</strong></td>",K+="<td style='text-align:right;'>"+number_format(nt,2)+"</td>",K+="</tr>"}}else K+="<tr>",K+="<td></td>",K+="<td></td>",K+="<td></td>",K+="<td ><strong>Disc "+number_format(X,0)+"%</strong></td>",K+="<td style='text-align:right;'>"+number_format(et,2)+"</td>",K+="</tr>";K+="<tr>",K+="<td></td>",K+="<td></td>",K+="<td></td>",K+="<td><strong>Net</strong></td>",K+="<td style='text-align:right;'>"+number_format(parseFloat(tt)+parseFloat(et),2)+"</td>",K+="</tr>",tt=0,et=0}K+="<tr><td></td><td></td><td></td><td></td><td>&nbsp;</td></tr>",K+="<tr><td></td><td></td><td></td><td>Grand Total</td><td style='text-align:right;'>"+number_format(it,2)+"</td></tr>";var pt,ct="";pt=e.sales_type;var ht=localStorage.current_lastname+", "+localStorage.current_firstname;14==G&&(ht=localStorage.current_lastname+", "+localStorage.current_firstname+"<br>"+o),N+="width:750px;overflow-wrap: break-word; word-wrap: break-word; -ms-word-break: break-all;  word-break: break-all; word-break: break-word; -ms-hyphens: auto; -moz-hyphens: auto; -webkit-hyphens: auto; hyphens: auto;",ct=(ct=(ct=ct+"<div style='"+k+R+"position:absolute;left:"+r.cashier.left+"px;top:"+r.cashier.top+"px;font-size:"+r.cashier.fontSize+"px;'>"+ht+"</div>")+"<div style='"+N+E+"position:absolute;left:"+r.remarks.left+"px;top:"+r.remarks.top+"px;font-size:"+r.remarks.fontSize+"px;'>"+n+"</div>")+"<div style='"+I+D+"position:absolute;left:"+r.reserved.left+"px;top:"+r.reserved.top+"px;font-size:"+r.reserved.fontSize+"px;'>"+pt+"</div>";var ut=it/1.12,mt=it-ut,ft=number_format(it,2)+"<br><br><br>"+number_format(mt,2)+"<br><br><br>"+number_format(ut,2),vt=number_format(it,2)+"<br><br><br>"+number_format(ut,2),_t=number_format(mt,2)+"<br><br><br>"+number_format(it,2);ct=(ct=(ct=ct+"<div style='"+x+P+"position:absolute;left:"+r.payments.left+"px;top:"+r.payments.top+"px;font-size:"+r.payments.fontSize+"px;'>"+ft+"</div>")+"<div style='"+w+z+"position:absolute;left:"+r.payments2.left+"px;top:"+r.payments2.top+"px;font-size:"+r.payments2.fontSize+"px;'>"+vt+"</div>")+"<div style='"+S+q+"position:absolute;left:"+r.payments3.left+"px;top:"+r.payments3.top+"px;font-size:"+r.payments3.fontSize+"px;'>"+_t+"</div>";var bt=e.client_po,yt=r.terms.visible?"display:inline-block;":"display:none;",gt=r.drnum.visible?"display:inline-block;":"display:none;",xt=r.ponum.visible?"display:inline-block;":"display:none;",wt=r.tin.visible?"display:inline-block;":"display:none;",$t=r.drnum.bold?"font-weight:bold;":"font-weight:normal;",St=r.terms.bold?"font-weight:bold;":"font-weight:normal;",kt=r.ponum.bold?"font-weight:bold;":"font-weight:normal;",Nt=r.tin.bold?"font-weight:bold;":"font-weight:normal;";ct=(ct=(ct=ct+"<div style='"+yt+St+"position:absolute;left:"+r.terms.left+"px;top:"+r.terms.top+"px;font-size:"+r.terms.fontSize+"px;'></div>")+"<div style='"+xt+kt+"position:absolute;left:"+r.ponum.left+"px;top:"+r.ponum.top+"px;font-size:"+r.ponum.fontSize+"px;'>"+bt+"</div>")+"<div style='"+wt+Nt+"position:absolute;left:"+r.tin.left+"px;top:"+r.tin.top+"px;font-size:"+r.tin.fontSize+"px;'></div>";var It=e.is_charge,Tt="";1==this.charge_label&&(1==It?Tt="=====Cash On Delivery======":2==It?Tt="======CHARGE======":3==It&&(Tt="======PDC======"),r.lbl&&(ct=ct+"<div style='"+(r.lbl.visible?"display:inline-block;":"display:none;")+(r.lbl.bold?"font-weight:bold;":"font-weight:normal;")+"position:absolute;left:"+r.lbl.left+"px;top:"+r.lbl.top+"px;font-size:"+r.lbl.fontSize+"px;'>"+Tt+"</div>"));ct+="</div>";var Ot,At=$("#custom_invoice").val(),Ft=parseInt(localStorage.invoice)+1,Ct=At||Ft;Ct=parseFloat(Ct)+parseFloat(0);var jt=localStorage.pref_inv?localStorage.pref_inv:"",Pt=localStorage.suf_inv?localStorage.suf_inv:"";Ct=jt+(Ct=this.str_pad("000000",Ct,!0))+Pt,Ot=c+K+(ct=ct+"<div style='"+gt+$t+"position:absolute;left:"+r.drnum.left+"px;top:"+r.drnum.top+"px;font-size:"+r.drnum.fontSize+"px;'>"+Ct+"</div>"),this.popUpPrint(Ot)},printElemPr:function(){var t=(new Date).toLocaleString();if(0==localStorage.print_ir)return!0;var e,i=this.print_data,o=i.member_name,a=i.cashier_name,r=JSON.parse(localStorage.ir_format),n=i.remarks,s=i.station_address,l=i.station_id,d=i.station_name,p=i.member_id,c=i.date_sold,h="";o||(o=""),s||(s=""),l||(l=""),d||(d=""),e=o.split(","),o=e[0];var u="";if(localStorage.members&&(u=JSON.parse(localStorage.members)),u)for(var m in u){var f=u[m];f.id==p&&(d=f.personal_address+"<br>Contact Person: "+f.firstname+" "+f.lastname+"<br>Contact #: "+f.contact_number)}var v=(r=JSON.parse(localStorage.ir_format)).logo.visible?"display:block;":"display:none;",_=r.date.visible?"display:block;":"display:none;",b=r.membername.visible?"display:block;":"display:none;",y=r.memberaddress.visible?"display:block;":"display:none;",g=r.stationname.visible?"display:block;":"display:none;",x=r.stationaddress.visible?"display:block;":"display:none;",w=(r.itemtable.visible,r.payments.visible?"display:block;":"display:none;"),S=r.payments2.visible?"display:block;":"display:none;",k=r.payments3.visible?"display:block;":"display:none;",N=r.cashier.visible?"display:block;":"display:none;",I=r.remarks.visible?"display:block;":"display:none;",T=r.reserved.visible?"display:block;":"display:none;",O=r.tdbarcode.visible?"display:inline-block;":"display:none;",A=r.tdqty.visible?"display:inline-block;":"display:none;",F=r.tddescription.visible?"display:inline-block;":"display:none;",C=r.tdprice.visible?"display:inline-block;":"display:none;",j=r.tdtotal.visible?"display:inline-block;":"display:none;",P=r.date.bold?"font-weight:bold;":"font-weight:normal;",z=r.logo.bold?"font-weight:bold;":"font-weight:normal;",q=r.membername.bold?"font-weight:bold;":"font-weight:normal;",R=r.memberaddress.bold?"font-weight:bold;":"font-weight:normal;",E=r.stationname.bold?"font-weight:bold;":"font-weight:normal;",D=r.stationaddress.bold?"font-weight:bold;":"font-weight:normal;",W=(r.itemtable.bold,r.payments.bold?"font-weight:bold;":"font-weight:normal;"),L=r.payments2.bold?"font-weight:bold;":"font-weight:normal;",G=r.payments3.bold?"font-weight:bold;":"font-weight:normal;",M=r.cashier.bold?"font-weight:bold;":"font-weight:normal;",B=r.remarks.bold?"font-weight:bold;":"font-weight:normal;",J=r.reserved.bold?"font-weight:bold;":"font-weight:normal;",H=r.tdbarcode.bold?"font-weight:bold;":"font-weight:normal;",U=r.tdqty.bold?"font-weight:bold;":"font-weight:normal;",V=r.tddescription.bold?"font-weight:bold;":"font-weight:normal;",Q=r.tdprice.bold?"font-weight:bold;":"font-weight:normal;",Y=r.tdtotal.bold?"font-weight:bold;":"font-weight:normal;",Z="",X=(i.due_date,localStorage.company_id);1==this.printWithPrice&&(j="display:none;",C="display:none;",w="display:none;",S="display:none;",k="display:none;");for(var K=1;K<=1;K++){C=r.tdprice.visible?"display:inline-block;":"display:none;",j=r.tdtotal.visible?"display:inline-block;":"display:none;";h="";h+="<div id='maindivforprinting' style='page-break-before: always;position:relative;font-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;'>&nbsp;",r.logo.visible&&(h=h+"<div style='"+v+"'><img src='http://"+$("#_HOST").val()+"/css/img/logo.jpg' style='"+v+z+"position:absolute;top:"+r.logo.top+"px; left:"+r.logo.left+"px;width:"+r.logo.width+"px;height:"+r.logo.height+"px;' /></div>"),h=(h=(h=(h=(h=(h=h+"<div style='"+_+P+"position:absolute;top:"+r.date.top+"px; left:"+r.date.left+"px;font-size:"+r.date.fontSize+"px;'><br/><br/>"+c+" </div><div style='clear:both;'></div>")+"<div style='"+b+q+"position:absolute;top:"+r.membername.top+"px; left:"+r.membername.left+"px;font-size:"+r.membername.fontSize+"px;'>"+o+"</div>")+"<div style='"+y+R+"position:absolute;top:"+r.memberaddress.top+"px; left:"+r.memberaddress.left+"px;width:"+r.memberaddress.width+"px;font-size:"+r.memberaddress.fontSize+"px;'>"+d+"</div>")+"<div style='"+g+E+"position:absolute;top:"+r.stationname.top+"px; left:"+r.stationname.left+"px;font-size:"+r.stationname.fontSize+"px;'>"+l+"</div>")+"<div style='"+x+D+"position:absolute;top:"+r.stationaddress.top+"px; left:"+r.stationaddress.left+"px;width:"+r.stationaddress.width+"px;font-size:"+r.stationaddress.fontSize+"px;'>"+s+"</div>")+"<table id='itemscon' cellspacing='0' style='border-collapse:separate;border-spacing:0 -5px;position:absolute;top:"+r.itemtable.top+"px;left:"+r.itemtable.left+"px;font-size:"+r.itemtable.fontSize+"px;'> ";$("#cart > tbody > tr").length;var tt=localStorage.ir_limit,et=[],it=1,ot=1,at=0;tt=parseInt(tt)+1;var rt=i.item_list;for(var m in rt){var nt=rt[m].item_code,st=rt[m].description,lt=(rt[m].barcode,rt[m].unit_name);lt=lt||"";var dt=rt[m].qty+"<td style='width:60px;'>"+lt+"</td>",pt=rt[m].price,ct=rt[m].discount,ht=rt[m].total,ut=ht;rt[m].discount_type;if(nt&&pt){if(parseFloat(ct)>0)var mt=parseFloat(ct)/parseFloat(dt),ft="<br/>(Disc. "+number_format(mt,2)+")",vt="<br/>("+number_format(ct,2)+")";else ft="",vt="";if(ft="",vt="",ot%tt==0){var _t=at/1.12,bt=parseFloat(at)-parseFloat(_t);_t=_t.toFixed(2),bt=bt.toFixed(2),at=at.toFixed(2),et[it]=et[it]+"</table>",et[it]=et[it]+"<div style='"+w+W+"position:absolute; list-style-type: none; left:"+r.payments.left+"px;top:"+r.payments.top+"px;font-size:"+r.payments.fontSize+"px;'>"+_t+"</div>",et[it]=et[it]+"<div style='"+S+L+"position:absolute; list-style-type: none; left:"+r.payments2.left+"px;top:"+r.payments2.top+"px;font-size:"+r.payments2.fontSize+"px;'>"+bt+"</div>",et[it]=et[it]+"<div style='"+k+G+"position:absolute; list-style-type: none; left:"+r.payments3.left+"px;top:"+r.payments3.top+"px;font-size:"+r.payments3.fontSize+"px;'>"+at+"</div>",it=parseInt(it)+1,at=0}at=parseFloat(at)+parseFloat(ht),et[it]=14==X?et[it]+"<tr ><td style='"+O+H+"position:relative;width:"+r.tdbarcode.width+"px;padding-left:"+r.tdbarcode.left+"px;'>"+nt+"</td><td style='"+A+U+"position:relative;width:"+r.tdqty.width+"px;padding-left:"+r.tdqty.left+"px;'>"+dt+"</td><td style='"+F+V+"position:relative;width:"+r.tddescription.width+"px;padding-left:"+r.tddescription.left+"px;'> "+st+" <span style='padding-left:20px;'>"+ft+"</span> </td><td style='"+C+Q+"position:relative;width:"+r.tdprice.width+"px;padding-left:"+r.tdprice.left+"px;'>"+number_format(pt,2)+"</td><td style='"+j+Y+"position:relative;width:"+r.tdtotal.width+"px;padding-left:"+r.tdtotal.left+"px;'>"+number_format(ut,2)+" "+vt+"</td></tr>":et[it]+"<tr ><td style='"+A+U+"position:relative;width:"+r.tdqty.width+"px;padding-left:"+r.tdqty.left+"px;'>"+dt+"</td><td style='"+O+H+"position:relative;width:"+r.tdbarcode.width+"px;padding-left:"+r.tdbarcode.left+"px;'>"+nt+"</td><td style='"+F+V+"position:relative;width:"+r.tddescription.width+"px;padding-left:"+r.tddescription.left+"px;'> "+st+" <span style='padding-left:20px;'>"+ft+"</span> </td><td style='"+C+Q+"position:relative;width:"+r.tdprice.width+"px;padding-left:"+r.tdprice.left+"px;'>"+number_format(pt,2)+"</td><td style='"+j+Y+"position:relative;width:"+r.tdtotal.width+"px;padding-left:"+r.tdtotal.left+"px;'>"+number_format(ut,2)+" "+vt+"</td></tr>",ot=parseInt(ot)+1}}if(at>0){var yt=i.consumable_total;parseFloat(yt)>0&&(at-=yt);_t=at/1.12,bt=parseFloat(at)-parseFloat(_t);_t=_t.toFixed(2),bt=bt.toFixed(2),at=at.toFixed(2),et[it]=et[it]+"</table>",et[it]=et[it]+"<div style='"+w+W+"position:absolute; list-style-type: none; left:"+r.payments.left+"px;top:"+(r.payments.top-12)+"px;font-size:"+r.payments.fontSize+"px;'>("+yt+")</div>",et[it]=et[it]+"<div style='"+w+W+"position:absolute; list-style-type: none; left:"+r.payments.left+"px;top:"+r.payments.top+"px;font-size:"+r.payments.fontSize+"px;'>"+_t+"</div>",et[it]=et[it]+"<div style='"+S+L+"position:absolute; list-style-type: none; left:"+r.payments2.left+"px;top:"+r.payments2.top+"px;font-size:"+r.payments2.fontSize+"px;'>"+bt+"</div>",et[it]=et[it]+"<div style='"+k+G+"position:absolute; list-style-type: none; left:"+r.payments3.left+"px;top:"+r.payments3.top+"px;font-size:"+r.payments3.fontSize+"px;'>"+at+"</div>"}var gt,xt="";gt=i.sales_type;var wt=localStorage.current_lastname+", "+localStorage.current_firstname;14==X&&(wt=localStorage.current_lastname+", "+localStorage.current_firstname+"<br>"+a),I+="width:750px;overflow-wrap: break-word; word-wrap: break-word; -ms-word-break: break-all;  word-break: break-all; word-break: break-word; -ms-hyphens: auto; -moz-hyphens: auto; -webkit-hyphens: auto; hyphens: auto;",xt=(xt=(xt=xt+"<div style='"+N+M+"position:absolute;left:"+r.cashier.left+"px;top:"+r.cashier.top+"px;font-size:"+r.cashier.fontSize+"px;'>"+wt+"</div>")+"<div style='"+I+B+"position:absolute;left:"+r.remarks.left+"px;top:"+r.remarks.top+"px;font-size:"+r.remarks.fontSize+"px;'>"+n+"<br>"+t+"</div>")+"<div style='"+T+J+"position:absolute;left:"+r.reserved.left+"px;top:"+r.reserved.top+"px;font-size:"+r.reserved.fontSize+"px;'>"+gt+"</div>";var $t=i.terms+"-"+i.due_date,St=i.client_po,kt=r.terms.visible?"display:inline-block;":"display:none;",Nt=r.drnum.visible?"display:inline-block;":"display:none;",It=r.ponum.visible?"display:inline-block;":"display:none;",Tt=r.tin.visible?"display:inline-block;":"display:none;",Ot=r.drnum.bold?"font-weight:bold;":"font-weight:normal;",At=r.terms.bold?"font-weight:bold;":"font-weight:normal;",Ft=r.ponum.bold?"font-weight:bold;":"font-weight:normal;",Ct=r.tin.bold?"font-weight:bold;":"font-weight:normal;";xt=(xt=(xt=xt+"<div style='"+kt+At+"position:absolute;left:"+r.terms.left+"px;top:"+r.terms.top+"px;font-size:"+r.terms.fontSize+"px;'>"+$t+"</div>")+"<div style='"+It+Ft+"position:absolute;left:"+r.ponum.left+"px;top:"+r.ponum.top+"px;font-size:"+r.ponum.fontSize+"px;'>"+St+"</div>")+"<div style='"+Tt+Ct+"position:absolute;left:"+r.tin.left+"px;top:"+r.tin.top+"px;font-size:"+r.tin.fontSize+"px;'></div>";var jt=i.is_charge,Pt="";if(1==this.charge_label)if(1==jt?Pt="=====Cash On Delivery======":2==jt?Pt="======CHARGE======":3==jt&&(Pt="======PDC======"),r.lbl)xt=xt+"<div style='"+(r.lbl.visible?"display:inline-block;":"display:none;")+(r.lbl.bold?"font-weight:bold;":"font-weight:normal;")+"position:absolute;left:"+r.lbl.left+"px;top:"+r.lbl.top+"px;font-size:"+r.lbl.fontSize+"px;'>"+Pt+"</div>";xt+="</div>";var zt="",qt=0;for(var m in et){var Rt=$("#custom_pr").val(),Et=parseInt(localStorage.ir)+1,Dt=Rt||Et;i.pr&&""!=i.pr&&"0"!=i.pr&&(Dt=i.pr),Dt=parseInt(Dt)+parseInt(qt);var Wt=localStorage.pref_ir?localStorage.pref_ir:"",Lt=localStorage.suf_ir?localStorage.suf_ir:"";Dt=Wt+(Dt=this.str_pad("000000",Dt,!0))+Lt,Dt+="<span style='display:block;'>Order ID: "+i.order_id+"</span>",et[m]+="<div style='"+Nt+Ot+"position:absolute;left:"+r.drnum.left+"px;top:"+r.drnum.top+"px;font-size:"+r.drnum.fontSize+"px;'>"+Dt+"</div>",zt=zt+h+et[m]+xt,qt++}Z+="<div>"+(zt=replaceAll(zt,"undefined",""))+"</div>"}this.popUpPrint(Z)},printElemSv:function(){var t,e=this.print_data,i=e.member_name,o=e.cashier_name,a=JSON.parse(localStorage.sv_format),r=e.remarks,n=e.station_address,s=e.station_id,l=e.station_name,d=e.member_id,p=e.date_sold,c="";i||(i=""),n||(n=""),s||(s=""),l||(l=""),t=i.split(","),i=t[0];var h="";if(localStorage.members&&(h=JSON.parse(localStorage.members)),h)for(var u in h){var m=h[u];m.id==d&&(l=m.personal_address+"<br>Contact Person: "+m.firstname+" "+m.lastname+"<br>Contact #: "+m.contact_number)}var f=(a=JSON.parse(localStorage.sv_format)).logo.visible?"display:block;":"display:none;",v=a.date.visible?"display:block;":"display:none;",_=a.membername.visible?"display:block;":"display:none;",b=a.memberaddress.visible?"display:block;":"display:none;",y=a.stationname.visible?"display:block;":"display:none;",g=a.stationaddress.visible?"display:block;":"display:none;",x=(a.itemtable.visible,a.payments.visible?"display:block;":"display:none;"),w=a.payments2.visible?"display:block;":"display:none;",S=a.payments3.visible?"display:block;":"display:none;",k=a.cashier.visible?"display:block;":"display:none;",N=a.remarks.visible?"display:block;":"display:none;",I=a.reserved.visible?"display:block;":"display:none;",T=a.tdbarcode.visible?"display:inline-block;":"display:none;",O=a.tdqty.visible?"display:inline-block;":"display:none;",A=a.tddescription.visible?"display:inline-block;":"display:none;",F=a.tdprice.visible?"display:inline-block;":"display:none;",C=a.tdtotal.visible?"display:inline-block;":"display:none;",j=a.date.bold?"font-weight:bold;":"font-weight:normal;",P=a.logo.bold?"font-weight:bold;":"font-weight:normal;",z=a.membername.bold?"font-weight:bold;":"font-weight:normal;",q=a.memberaddress.bold?"font-weight:bold;":"font-weight:normal;",R=a.stationname.bold?"font-weight:bold;":"font-weight:normal;",E=a.stationaddress.bold?"font-weight:bold;":"font-weight:normal;",D=(a.itemtable.bold,a.payments.bold?"font-weight:bold;":"font-weight:normal;"),W=a.payments2.bold?"font-weight:bold;":"font-weight:normal;",L=a.payments3.bold?"font-weight:bold;":"font-weight:normal;",G=a.cashier.bold?"font-weight:bold;":"font-weight:normal;",M=a.remarks.bold?"font-weight:bold;":"font-weight:normal;",B=a.reserved.bold?"font-weight:bold;":"font-weight:normal;",J=a.tdbarcode.bold?"font-weight:bold;":"font-weight:normal;",H=a.tdqty.bold?"font-weight:bold;":"font-weight:normal;",U=a.tddescription.bold?"font-weight:bold;":"font-weight:normal;",V=a.tdprice.bold?"font-weight:bold;":"font-weight:normal;",Q=a.tdtotal.bold?"font-weight:bold;":"font-weight:normal;",Y="",Z=localStorage.company_id;1==this.printWithPrice&&(C="display:none;",F="display:none;",x="display:none;",w="display:none;",S="display:none;");for(var X=1;X<=1;X++){1==X?(F="display:none;",C="display:none;"):(F=a.tdprice.visible?"display:inline-block;":"display:none;",C=a.tdtotal.visible?"display:inline-block;":"display:none;");c="";c+="<div id='maindivforprinting' style='page-break-before: always;position:relative;font-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;'>&nbsp;",a.logo.visible&&(c=c+"<div style='"+f+"'><img src='http://"+$("#_HOST").val()+"/css/img/logo.jpg' style='"+f+P+"position:absolute;top:"+a.logo.top+"px; left:"+a.logo.left+"px;width:"+a.logo.width+"px;height:"+a.logo.height+"px;' /></div>"),c=(c=(c=(c=(c=(c=c+"<div style='"+v+j+"position:absolute;top:"+a.date.top+"px; left:"+a.date.left+"px;font-size:"+a.date.fontSize+"px;'><br/><br/>"+p+" </div><div style='clear:both;'></div>")+"<div style='"+_+z+"position:absolute;top:"+a.membername.top+"px; left:"+a.membername.left+"px;font-size:"+a.membername.fontSize+"px;'>"+i+"</div>")+"<div style='"+b+q+"position:absolute;top:"+a.memberaddress.top+"px; left:"+a.memberaddress.left+"px;width:"+a.memberaddress.width+"px;font-size:"+a.memberaddress.fontSize+"px;'>"+l+"</div>")+"<div style='"+y+R+"position:absolute;top:"+a.stationname.top+"px; left:"+a.stationname.left+"px;font-size:"+a.stationname.fontSize+"px;'>"+s+"</div>")+"<div style='"+g+E+"position:absolute;top:"+a.stationaddress.top+"px; left:"+a.stationaddress.left+"px;width:"+a.stationaddress.width+"px;font-size:"+a.stationaddress.fontSize+"px;'>"+n+"</div>")+"<table id='itemscon' cellspacing='0' style='border-collapse:separate;border-spacing:0 -5px;position:absolute;top:"+a.itemtable.top+"px;left:"+a.itemtable.left+"px;font-size:"+a.itemtable.fontSize+"px;'> ";$("#cart > tbody > tr").length;var K=localStorage.sv_limit,tt=[],et=1,it=1,ot=0;K=parseInt(K)+1;var at=e.item_list;for(var u in at){var rt=at[u].item_code,nt=at[u].description,st=(at[u].barcode,at[u].unit_name);st=st||"";var lt=at[u].qty+"<td style='width:60px;'>"+st+"</td>",dt=at[u].price,pt=at[u].discount,ct=at[u].total,ht=ct;if(parseFloat(pt)>0)var ut=parseFloat(pt)/parseFloat(lt),mt="<br/>(Disc. "+number_format(ut,2)+")",ft="<br/>("+number_format(pt,2)+")";else mt="",ft="";if(mt="",ft="",it%K==0){var vt=ot/1.12,_t=parseFloat(ot)-parseFloat(vt);vt=vt.toFixed(2),_t=_t.toFixed(2),ot=ot.toFixed(2),tt[et]=tt[et]+"</table>",tt[et]=tt[et]+"<div style='"+x+D+"position:absolute; list-style-type: none; left:"+a.payments.left+"px;top:"+a.payments.top+"px;font-size:"+a.payments.fontSize+"px;'>"+vt+"</div>",tt[et]=tt[et]+"<div style='"+w+W+"position:absolute; list-style-type: none; left:"+a.payments2.left+"px;top:"+a.payments2.top+"px;font-size:"+a.payments2.fontSize+"px;'>"+_t+"</div>",tt[et]=tt[et]+"<div style='"+S+L+"position:absolute; list-style-type: none; left:"+a.payments3.left+"px;top:"+a.payments3.top+"px;font-size:"+a.payments3.fontSize+"px;'>"+ot+"</div>",et=parseInt(et)+1,ot=0}ot=parseFloat(ot)+parseFloat(ct),tt[et]=14==Z?tt[et]+"<tr ><td style='"+T+J+"position:relative;width:"+a.tdbarcode.width+"px;padding-left:"+a.tdbarcode.left+"px;'>"+rt+"</td><td style='"+O+H+"position:relative;width:"+a.tdqty.width+"px;padding-left:"+a.tdqty.left+"px;'>"+lt+"</td><td style='"+A+U+"position:relative;width:"+a.tddescription.width+"px;padding-left:"+a.tddescription.left+"px;'> "+nt+" <span style='padding-left:20px;'>"+mt+"</span> </td><td style='"+F+V+"position:relative;width:"+a.tdprice.width+"px;padding-left:"+a.tdprice.left+"px;'>"+number_format(dt,2)+"</td><td style='"+C+Q+"position:relative;width:"+a.tdtotal.width+"px;padding-left:"+a.tdtotal.left+"px;'>"+number_format(ht,2)+" "+ft+"</td></tr>":tt[et]+"<tr ><td style='"+O+H+"position:relative;width:"+a.tdqty.width+"px;padding-left:"+a.tdqty.left+"px;'>"+lt+"</td><td style='"+T+J+"position:relative;width:"+a.tdbarcode.width+"px;padding-left:"+a.tdbarcode.left+"px;'>"+rt+"</td><td style='"+A+U+"position:relative;width:"+a.tddescription.width+"px;padding-left:"+a.tddescription.left+"px;'> "+nt+" <span style='padding-left:20px;'>"+mt+"</span> </td><td style='"+F+V+"position:relative;width:"+a.tdprice.width+"px;padding-left:"+a.tdprice.left+"px;'>"+number_format(dt,2)+"</td><td style='"+C+Q+"position:relative;width:"+a.tdtotal.width+"px;padding-left:"+a.tdtotal.left+"px;'>"+number_format(ht,2)+" "+ft+"</td></tr>",it=parseInt(it)+1}if(ot>0){var bt=e.consumable_total;parseFloat(bt)>0&&(ot-=bt);vt=ot/1.12,_t=parseFloat(ot)-parseFloat(vt);vt=vt.toFixed(2),_t=_t.toFixed(2),ot=ot.toFixed(2),tt[et]=tt[et]+"</table>",tt[et]=tt[et]+"<div style='"+x+D+"position:absolute; list-style-type: none; left:"+a.payments.left+"px;top:"+(a.payments.top-12)+"px;font-size:"+a.payments.fontSize+"px;'>("+bt+")</div>",tt[et]=tt[et]+"<div style='"+x+D+"position:absolute; list-style-type: none; left:"+a.payments.left+"px;top:"+a.payments.top+"px;font-size:"+a.payments.fontSize+"px;'>"+vt+"</div>",tt[et]=tt[et]+"<div style='"+w+W+"position:absolute; list-style-type: none; left:"+a.payments2.left+"px;top:"+a.payments2.top+"px;font-size:"+a.payments2.fontSize+"px;'>"+_t+"</div>",tt[et]=tt[et]+"<div style='"+S+L+"position:absolute; list-style-type: none; left:"+a.payments3.left+"px;top:"+a.payments3.top+"px;font-size:"+a.payments3.fontSize+"px;'>"+ot+"</div>"}var yt,gt="";yt=e.sales_type;var xt=localStorage.current_lastname+", "+localStorage.current_firstname;14==Z&&(xt=localStorage.current_lastname+", "+localStorage.current_firstname+"<br>"+o),N+="width:750px;overflow-wrap: break-word; word-wrap: break-word; -ms-word-break: break-all;  word-break: break-all; word-break: break-word; -ms-hyphens: auto; -moz-hyphens: auto; -webkit-hyphens: auto; hyphens: auto;",gt=(gt=(gt=gt+"<div style='"+k+G+"position:absolute;left:"+a.cashier.left+"px;top:"+a.cashier.top+"px;font-size:"+a.cashier.fontSize+"px;'>"+xt+"</div>")+"<div style='"+N+M+"position:absolute;left:"+a.remarks.left+"px;top:"+a.remarks.top+"px;font-size:"+a.remarks.fontSize+"px;'>"+r+"</div>")+"<div style='"+I+B+"position:absolute;left:"+a.reserved.left+"px;top:"+a.reserved.top+"px;font-size:"+a.reserved.fontSize+"px;'>"+yt+"</div>";var wt=e.client_po,$t=a.terms.visible?"display:inline-block;":"display:none;",St=a.drnum.visible?"display:inline-block;":"display:none;",kt=a.ponum.visible?"display:inline-block;":"display:none;",Nt=a.tin.visible?"display:inline-block;":"display:none;",It=a.drnum.bold?"font-weight:bold;":"font-weight:normal;",Tt=a.terms.bold?"font-weight:bold;":"font-weight:normal;",Ot=a.ponum.bold?"font-weight:bold;":"font-weight:normal;",At=a.tin.bold?"font-weight:bold;":"font-weight:normal;";gt=(gt=(gt=gt+"<div style='"+$t+Tt+"position:absolute;left:"+a.terms.left+"px;top:"+a.terms.top+"px;font-size:"+a.terms.fontSize+"px;'></div>")+"<div style='"+kt+Ot+"position:absolute;left:"+a.ponum.left+"px;top:"+a.ponum.top+"px;font-size:"+a.ponum.fontSize+"px;'>"+wt+"</div>")+"<div style='"+Nt+At+"position:absolute;left:"+a.tin.left+"px;top:"+a.tin.top+"px;font-size:"+a.tin.fontSize+"px;'></div>",gt+="</div>";var Ft="",Ct=0;for(var u in tt){var jt=$("#custom_sv").val(),Pt=parseInt(localStorage.sv)+1,zt=jt||Pt;e.sv&&""!=e.sv&&"0"!=e.sv&&(zt=e.sv),zt=parseFloat(zt)+parseFloat(Ct);var qt=localStorage.pref_sv?localStorage.pref_sv:"",Rt=localStorage.suf_sv?localStorage.suf_sv:"";zt=qt+(zt=this.str_pad("000000",zt,!0))+Rt,zt+="<span style='display:block;'>Order ID: "+e.order_id+"</span>",tt[u]=tt[u]+"<div style='"+St+It+"position:absolute;left:"+a.drnum.left+"px;top:"+a.drnum.top+"px;font-size:"+a.drnum.fontSize+"px;'>"+zt+"</div>",Ft=Ft+c+tt[u]+gt,Ct++}Y+="<div>"+(Ft=replaceAll(Ft,"undefined",""))+"</div>"}this.popUpPrint(Y)},printElemSR:function(){var t,e=this.print_data,i=e.member_name,o=(e.cashier_name,JSON.parse(localStorage.sr_format)),a=(e.remarks,e.station_address),r=e.station_id,n=e.station_name,s=(e.member_id,e.date_sold),l="";i||(i=""),a||(a=""),r||(r=""),n||(n=""),t=i.split(","),i=t[0];var d=parseInt(localStorage.sr)+1;e.sr&&""!=e.sr&&"0"!=e.sr&&(d=e.sr);var p=i,c=s,h=d,u="style='position:absolute;top:"+o.itemtable.top+"px;left:"+o.itemtable.left+"px;font-size:"+o.itemtable.fontSize+"px;'",m="style='position:absolute;top:"+o.terms.top+"px;left:"+o.terms.left+"px;font-size:"+o.terms.fontSize+"px;'",f="style='position:absolute;top:"+o.ponum.top+"px;left:"+o.ponum.left+"px;font-size:"+o.ponum.fontSize+"px;'",v="style='position:absolute;top:"+o.tin.top+"px;left:"+o.tin.left+"px;font-size:"+o.tin.fontSize+"px;'",_="style='position:absolute;top:"+o.lbl.top+"px;left:"+o.lbl.left+"px;font-size:"+o.lbl.fontSize+"px;'",b="style='position:absolute;top:"+o.membername.top+"px;left:"+o.membername.left+"px;font-size:"+o.membername.fontSize+"px;'",y="style='position:absolute;top:"+o.payments.top+"px;left:"+o.payments.left+"px;font-size:"+o.payments.fontSize+"px;'",g="style='position:absolute;top:"+o.date.top+"px;left:"+o.date.left+"px;font-size:"+o.date.fontSize+"px;'",x="style='position:absolute;top:"+o.drnum.top+"px;left:"+o.drnum.left+"px;font-size:"+o.drnum.fontSize+"px;'";localStorage.company_id,l="";l=(l=(l=(l=(l=(l=(l=(l+="<div id='maindivforprinting' style='page-break-before: always;position:relative;font-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;'>&nbsp;")+"<div "+m+"> </div><div style='clear:both;'></div>")+"<div "+f+"> </div><div style='clear:both;'></div>")+"<div "+v+"> </div><div style='clear:both;'></div>")+"<div "+_+"> </div><div style='clear:both;'></div>")+"<div "+b+">"+p+" </div><div style='clear:both;'></div>")+"<div "+g+">"+c+" </div><div style='clear:both;'></div>")+"<div "+x+">"+h+" </div><div style='clear:both;'></div>",l+="<table "+u+">";var w=0,$=e.item_list;for(var S in $){$[S].item_code;var k=$[S].description,N=($[S].barcode,$[S].unit_name);N=N||"";var I=$[S].qty+"<td style='width:60px;'>"+N+"</td>",T=$[S].price,O=($[S].discount,$[S].total);w=parseFloat(O)+parseFloat(w),l+="<tr>",l+="<td style='width:"+o.tdqty.width+"px;padding-left:"+o.tdqty.left+"px;'>"+I+"</td>",l+="<td style='width:"+o.tddescription.width+"px;padding-left:"+o.tddescription.left+"px;'>"+k+"</td>",l+="<td style='width:"+o.tdprice.width+"px;padding-left:"+o.tdprice.left+"px;'>"+number_format(T,2)+"</td>",l+="<td style='width:"+o.tdtotal.width+"px;padding-left:"+o.tdtotal.left+"px;'>"+number_format(O,2)+"</td>",l+="</tr>"}l=l+"<div "+y+">"+number_format(w,2)+" </div><div style='clear:both;'></div>",l+="</table>",this.popUpPrint(l)},printElemTS:function(){var t,e=this.print_data,i=e.member_name,o=(e.cashier_name,JSON.parse(localStorage.ts_format)),a=(e.remarks,e.station_address),r=e.station_id,n=e.station_name,s=(e.member_id,e.date_sold),l="";i||(i=""),a||(a=""),r||(r=""),n||(n=""),t=i.split(","),i=t[0];var d=parseInt(localStorage.ts)+1;e.ts&&""!=e.ts&&"0"!=e.ts&&(d=e.ts);var p=i,c=s,h=d,u="style='position:absolute;top:"+o.itemtable.top+"px;left:"+o.itemtable.left+"px;font-size:"+o.itemtable.fontSize+"px;'",m="style='position:absolute;top:"+o.membername.top+"px;left:"+o.membername.left+"px;font-size:"+o.membername.fontSize+"px;'",f="style='position:absolute;top:"+o.payments.top+"px;left:"+o.payments.left+"px;font-size:"+o.payments.fontSize+"px;'",v="style='position:absolute;top:"+o.date.top+"px;left:"+o.date.left+"px;font-size:"+o.date.fontSize+"px;'",_="style='position:absolute;top:"+o.drnum.top+"px;left:"+o.drnum.left+"px;font-size:"+o.drnum.fontSize+"px;'";localStorage.company_id,l="";l=(l=(l=(l+="<div id='maindivforprinting' style='page-break-before: always;position:relative;font-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;'>&nbsp;")+"<div "+m+">"+p+" </div><div style='clear:both;'></div>")+"<div "+v+">"+c+" </div><div style='clear:both;'></div>")+"<div "+_+">"+h+" </div><div style='clear:both;'></div>",l+="<table "+u+">";var b=0,y=e.item_list;for(var g in y){y[g].item_code;var x=y[g].description,w=(y[g].barcode,y[g].unit_name);w=w||"";var $=y[g].qty+"<td style='width:60px;'>"+w+"</td>",S=y[g].price,k=(y[g].discount,y[g].total);b=parseFloat(k)+parseFloat(b),l+="<tr>",l+="<td style='width:"+o.tdqty.width+"px;padding-left:"+o.tdqty.left+"px;'>"+$+"</td>",l+="<td style='width:"+o.tddescription.width+"px;padding-left:"+o.tddescription.left+"px;'>"+x+"</td>",l+="<td style='width:"+o.tdprice.width+"px;padding-left:"+o.tdprice.left+"px;'>"+number_format(S,2)+"</td>",l+="<td style='width:"+o.tdtotal.width+"px;padding-left:"+o.tdtotal.left+"px;'>"+number_format(k,2)+"</td>",l+="</tr>"}l=l+"<div "+f+">"+number_format(b,2)+" </div><div style='clear:both;'></div>",l+="</table>",this.popUpPrint(l)},printElemDr:function(){var t=(new Date).toLocaleString();if(0==localStorage.print_dr)return!0;var e=$("#with_form_style").val(),i="",o="<br/><br/>",a="",r="",n="",s="",l="",d="",p="",c="";1==e&&(i="border:1px solid #ccc;",l="margin: 0 auto;border-collapse:collapse;",o="<span>Date: </span>",a="<span>Client: </span>",r="<span>Address: </span>",d="<span style='display:inline-block;width:70px;'>Vat: </span>",p="<span style='display:inline-block;width:70px;'>Vatable: </span>",c="<span style='display:inline-block;width:70px;'>Total: </span>",s="<h1 style='font-weight:normal;text-align:center;margin-top:0px;'>"+$("#co_name").val(),s+="<span style='font-weight:normal;display:block;font-size:14px;text-align:center;'>"+$("#co_desc").val()+"</span>",s+="<span style='font-weight:normal;display:block;font-size:14px;text-align:center;'>"+$("#co_address").val()+"</span>",s+="</h3>");var h,u=this.print_data,m=u.member_name,f=(u.terms,u.item_list_sum),v=u.cashier_name,_=JSON.parse(localStorage.dr_format),b=u.remarks,y=u.station_address,g=u.station_id,x=u.station_name,w=u.member_id,S=u.date_sold,k="";m||(m=""),y||(y=""),g||(g=""),x||(x=""),h=m.split(","),m=h[0];var N="";if(localStorage.members&&(N=JSON.parse(localStorage.members)),N)for(var I in N){var T=N[I];T.id==w&&(x=T.personal_address+"<br>Contact Person: "+T.firstname+" "+T.lastname+"<br>Contact #: "+T.contact_number)}for(var O=(_=JSON.parse(localStorage.dr_format)).date.visible?"display:block;":"display:none;",A=_.logo.visible?"display:block;":"display:none;",F=_.membername.visible?"display:block;":"display:none;",C=_.memberaddress.visible?"display:block;":"display:none;",j=_.stationname.visible?"display:block;":"display:none;",P=_.stationaddress.visible?"display:block;":"display:none;",z=(_.itemtable.visible,_.payments.visible?"display:block;":"display:none;"),q=_.payments2.visible?"display:block;":"display:none;",R=_.payments3.visible?"display:block;":"display:none;",E=_.cashier.visible?"display:block;":"display:none;",D=_.remarks.visible?"display:block;":"display:none;",W=_.reserved.visible?"display:block;":"display:none;",L=_.tdbarcode.visible?"display:inline-block;":"display:none;",G=_.tdqty.visible?"display:inline-block;":"display:none;",M=_.tddescription.visible?"display:inline-block;":"display:none;",B=_.tdprice.visible?"display:inline-block;":"display:none;",J=_.tdtotal.visible?"display:inline-block;":"display:none;",H=_.date.bold?"font-weight:bold;":"font-weight:normal;",U=_.logo.bold?"font-weight:bold;":"font-weight:normal;",V=_.membername.bold?"font-weight:bold;":"font-weight:normal;",Q=_.memberaddress.bold?"font-weight:bold;":"font-weight:normal;",Y=_.stationname.bold?"font-weight:bold;":"font-weight:normal;",Z=_.stationaddress.bold?"font-weight:bold;":"font-weight:normal;",X=(_.itemtable.bold,_.payments.bold?"font-weight:bold;":"font-weight:normal;"),K=_.payments2.bold?"font-weight:bold;":"font-weight:normal;",tt=_.payments3.bold?"font-weight:bold;":"font-weight:normal;",et=_.cashier.bold?"font-weight:bold;":"font-weight:normal;",it=_.remarks.bold?"font-weight:bold;":"font-weight:normal;",ot=_.reserved.bold?"font-weight:bold;":"font-weight:normal;",at=_.tdbarcode.bold?"font-weight:bold;":"font-weight:normal;",rt=_.tdqty.bold?"font-weight:bold;":"font-weight:normal;",nt=_.tddescription.bold?"font-weight:bold;":"font-weight:normal;",st=_.tdprice.bold?"font-weight:bold;":"font-weight:normal;",lt=_.tdtotal.bold?"font-weight:bold;":"font-weight:normal;",dt="",pt=localStorage.company_id,ct=u.due_date,ht=1;ht<=1;ht++){B=_.tdprice.visible?"display:inline-block;":"display:none;",J=_.tdtotal.visible?"display:inline-block;":"display:none;",1==this.printWithPrice&&(J="display:none;",B="display:none;",z="display:none;",q="display:none;",R="display:none;"),k=(k="")+"<div id='maindivforprinting' style='page-break-before: always;position:relative;font-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;'>&nbsp;"+s,_.logo.visible&&(k=k+"<div style='"+A+"'><img src='http://"+$("#_HOST").val()+"/css/img/logo.jpg' style='"+A+U+"position:absolute;top:"+_.logo.top+"px; left:"+_.logo.left+"px;width:"+_.logo.width+"px;height:"+_.logo.height+"px;' /></div>"),k=(k=(k=(k=(k=(k=k+"<div style='"+O+H+"position:absolute;top:"+_.date.top+"px; left:"+_.date.left+"px;font-size:"+_.date.fontSize+"px;'>"+o+S+" </div><div style='clear:both;'></div>")+"<div style='"+F+V+"position:absolute;top:"+_.membername.top+"px; left:"+_.membername.left+"px;font-size:"+_.membername.fontSize+"px;'>"+a+m+"</div>")+"<div style='"+C+Q+"position:absolute;top:"+_.memberaddress.top+"px; left:"+_.memberaddress.left+"px;width:"+_.memberaddress.width+"px;font-size:"+_.memberaddress.fontSize+"px;'>"+r+x+"</div>")+"<div style='"+j+Y+"position:absolute;top:"+_.stationname.top+"px; left:"+_.stationname.left+"px;font-size:"+_.stationname.fontSize+"px;'>"+g+"</div>")+"<div style='"+P+Z+"position:absolute;top:"+_.stationaddress.top+"px; left:"+_.stationaddress.left+"px;width:"+_.stationaddress.width+"px;font-size:"+_.stationaddress.fontSize+"px;'>"+y+"</div>")+"<table id='itemscon'  style='"+l+"position:absolute;top:"+_.itemtable.top+"px;left:"+_.itemtable.left+"px;font-size:"+_.itemtable.fontSize+"px;'> ",1==e&&(n="<tr ><th style='"+i+G+rt+"position:relative;width:"+_.tdqty.width+"px;padding-left:"+_.tdqty.left+"px;'>Qty</th><th style='"+i+L+at+"position:relative;width:"+_.tdbarcode.width+"px;padding-left:"+_.tdbarcode.left+"px;'>Item</th><th style='"+i+M+nt+"position:relative;width:"+_.tddescription.width+"px;padding-left:"+_.tddescription.left+"px;'> Description </th><th style='"+i+B+st+"position:relative;width:"+_.tdprice.width+"px;padding-left:"+_.tdprice.left+"px;'>Price</th><th style='"+i+J+lt+"position:relative;width:"+_.tdtotal.width+"px;padding-left:"+_.tdtotal.left+"px;'>Total</th></tr>"),k+=n;$("#cart > tbody > tr").length;var ut=localStorage.dr_limit,mt=[],ft=1,vt=1,_t=0;ut=parseInt(ut)+1;var bt=u.item_list;for(var I in bt){var yt,gt=bt[I].item_code,xt=bt[I].description;yt=1==bt[I].is_freebie?"<span style='display:block;font-size:8px;padding:0px;margin:0px;'>(Free)</span>":"";bt[I].barcode;var wt=bt[I].unit_name;wt=wt||"";var $t="";$t=1==e?bt[I].qty+"<span> "+wt+"</span>":bt[I].qty+"<td style='width:45px;"+i+"'>"+wt+"</td>";var St=bt[I].price,kt=bt[I].discount,Nt=bt[I].total,It=Nt;bt[I].discount_type;if(gt&&St){if(parseFloat(kt)>0)var Tt=parseFloat(kt)/parseFloat($t),Ot="<br/>(Disc. "+number_format(Tt,2)+")",At="<br/>("+number_format(kt,2)+")";else Ot="",At="";if(Ot="",At="",vt%ut==0){var Ft=_t/1.12,Ct=parseFloat(_t)-parseFloat(Ft);Ft=Ft.toFixed(2),Ct=Ct.toFixed(2),_t=_t.toFixed(2),mt[ft]=mt[ft]+"</table>",mt[ft]=mt[ft]+"<div style='"+z+X+"position:absolute; list-style-type: none; left:"+_.payments.left+"px;top:"+_.payments.top+"px;font-size:"+_.payments.fontSize+"px;'>"+p+Ft+"</div>",mt[ft]=mt[ft]+"<div style='"+q+K+"position:absolute; list-style-type: none; left:"+_.payments2.left+"px;top:"+_.payments2.top+"px;font-size:"+_.payments2.fontSize+"px;'>"+d+Ct+"</div>",mt[ft]=mt[ft]+"<div style='"+R+tt+"position:absolute; list-style-type: none; left:"+_.payments3.left+"px;top:"+_.payments3.top+"px;font-size:"+_.payments3.fontSize+"px;'>"+c+_t+"</div>",ft=parseInt(ft)+1,_t=0}_t=parseFloat(_t)+parseFloat(Nt),mt[ft]=14==pt?mt[ft]+"<tr ><td style='"+i+L+at+"position:relative;width:"+_.tdbarcode.width+"px;padding-left:"+_.tdbarcode.left+"px;'>"+gt+"</td><td style='"+i+G+rt+"position:relative;width:"+_.tdqty.width+"px;padding-left:"+_.tdqty.left+"px;'>"+$t+"</td><td style='"+i+M+nt+"position:relative;width:"+_.tddescription.width+"px;padding-left:"+_.tddescription.left+"px;'> "+xt+" <span style='padding-left:20px;'>"+Ot+"</span> </td><td style='"+i+B+st+"position:relative;width:"+_.tdprice.width+"px;padding-left:"+_.tdprice.left+"px;'>"+number_format(St,2)+"</td><td style='"+i+J+lt+"position:relative;width:"+_.tdtotal.width+"px;padding-left:"+_.tdtotal.left+"px;'>"+number_format(It,2)+" "+At+yt+"</td></tr>":mt[ft]+"<tr ><td style='"+i+G+rt+"position:relative;width:"+_.tdqty.width+"px;padding-left:"+_.tdqty.left+"px;'>"+$t+"</td><td style='"+i+L+at+"position:relative;width:"+_.tdbarcode.width+"px;padding-left:"+_.tdbarcode.left+"px;'>"+gt+"</td><td style='"+i+M+nt+"position:relative;width:"+_.tddescription.width+"px;padding-left:"+_.tddescription.left+"px;'> "+xt+" <span style='padding-left:20px;'>"+Ot+"</span> </td><td style='"+i+B+st+"position:relative;width:"+_.tdprice.width+"px;padding-left:"+_.tdprice.left+"px;'>"+number_format(St,2)+"</td><td style='"+i+J+lt+"position:relative;width:"+_.tdtotal.width+"px;padding-left:"+_.tdtotal.left+"px;'>"+number_format(It,2)+" "+At+yt+"</td></tr>",vt=parseInt(vt)+1}}if(_t>0){var jt=u.consumable_total;parseFloat(jt)>0&&(_t-=jt);Ft=_t/1.12,Ct=parseFloat(_t)-parseFloat(Ft);if(Ft=Ft.toFixed(2),Ct=Ct.toFixed(2),_t=_t.toFixed(2),1==e)for(var Pt=vt;Pt<=ut;Pt++)mt[ft]=mt[ft]+"<tr ><td style='"+i+G+rt+"position:relative;width:"+_.tdqty.width+"px;padding-left:"+_.tdqty.left+"px;'>&nbsp;</td><td style='"+i+L+at+"position:relative;width:"+_.tdbarcode.width+"px;padding-left:"+_.tdbarcode.left+"px;'>&nbsp;</td><td style='"+i+M+nt+"position:relative;width:"+_.tddescription.width+"px;padding-left:"+_.tddescription.left+"px;'>&nbsp;<span style='padding-left:20px;'></span> </td><td style='"+i+B+st+"position:relative;width:"+_.tdprice.width+"px;padding-left:"+_.tdprice.left+"px;'>&nbsp;</td><td style='"+i+J+lt+"position:relative;width:"+_.tdtotal.width+"px;padding-left:"+_.tdtotal.left+"px;'>&nbsp;</td></tr>";mt[ft]=mt[ft]+"</table>",mt[ft]=mt[ft]+"<div style='"+z+X+"position:absolute; list-style-type: none; left:"+_.payments.left+"px;top:"+(_.payments.top-12)+"px;font-size:"+_.payments.fontSize+"px;'>("+jt+")</div>",mt[ft]=mt[ft]+"<div style='"+z+X+"position:absolute; list-style-type: none; left:"+_.payments.left+"px;top:"+_.payments.top+"px;font-size:"+_.payments.fontSize+"px;'>"+p+Ft+"</div>",mt[ft]=mt[ft]+"<div style='"+q+K+"position:absolute; list-style-type: none; left:"+_.payments2.left+"px;top:"+_.payments2.top+"px;font-size:"+_.payments2.fontSize+"px;'>"+d+Ct+"</div>",mt[ft]=mt[ft]+"<div style='"+R+tt+"position:absolute; list-style-type: none; left:"+_.payments3.left+"px;top:"+_.payments3.top+"px;font-size:"+_.payments3.fontSize+"px;'>"+c+_t+"</div>"}var zt="",qt="";qt=u.sales_type+" "+qt;var Rt=localStorage.current_lastname+", "+localStorage.current_firstname;14==pt&&(Rt=localStorage.current_lastname+", "+localStorage.current_firstname+"<br>"+v),D+="width:750px;overflow-wrap: break-word; word-wrap: break-word; -ms-word-break: break-all;  word-break: break-all; word-break: break-word; -ms-hyphens: auto; -moz-hyphens: auto; -webkit-hyphens: auto; hyphens: auto;",zt=(zt=(zt=zt+"<div style='"+E+et+"position:absolute;left:"+_.cashier.left+"px;top:"+_.cashier.top+"px;font-size:"+_.cashier.fontSize+"px;'>"+Rt+"</div>")+"<div style='"+D+it+"position:absolute;left:"+_.remarks.left+"px;top:"+_.remarks.top+"px;font-size:"+_.remarks.fontSize+"px;'>"+b+"<br> "+t+"</div>")+"<div style='"+W+ot+"position:absolute;left:"+_.reserved.left+"px;top:"+_.reserved.top+"px;font-size:"+_.reserved.fontSize+"px;'>"+qt+"</div>";var Et=u.terms+"-"+ct,Dt=u.client_po,Wt=u.tin_no,Lt=_.terms.visible?"display:inline-block;":"display:none;",Gt=_.drnum.visible?"display:inline-block;":"display:none;",Mt=_.ponum.visible?"display:inline-block;":"display:none;",Bt=_.tin.visible?"display:inline-block;":"display:none;",Jt=_.drnum.bold?"font-weight:bold;":"font-weight:normal;",Ht=_.terms.bold?"font-weight:bold;":"font-weight:normal;",Ut=_.ponum.bold?"font-weight:bold;":"font-weight:normal;";zt=(zt=(zt=zt+"<div style='"+Bt+(_.tin.bold?"font-weight:bold;":"font-weight:normal;")+"position:absolute;left:"+_.tin.left+"px;top:"+_.tin.top+"px;font-size:"+_.tin.fontSize+"px;'>"+Wt+"</div>")+"<div style='"+Lt+Ht+"position:absolute;left:"+_.terms.left+"px;top:"+_.terms.top+"px;font-size:"+_.terms.fontSize+"px;'>"+Et+"</div>")+"<div style='"+Mt+Ut+"position:absolute;left:"+_.ponum.left+"px;top:"+_.ponum.top+"px;font-size:"+_.ponum.fontSize+"px;'>"+Dt+"</div>";var Vt=u.is_charge,Qt="";if(1==this.charge_label)if(1==Vt?Qt="=====Cash On Delivery======":2==Vt?Qt="======CHARGE======":3==Vt&&(Qt="======PDC======"),_.lbl)zt=zt+"<div style='"+(_.lbl.visible?"display:inline-block;":"display:none;")+(_.lbl.bold?"font-weight:bold;":"font-weight:normal;")+"position:absolute;left:"+_.lbl.left+"px;top:"+_.lbl.top+"px;font-size:"+_.lbl.fontSize+"px;'>"+Qt+"</div>";if(_.lbl2)zt=zt+"<div style='"+(_.lbl2.visible?"display:inline-block;":"display:none;")+(_.lbl2.bold?"font-weight:bold;":"font-weight:normal;")+"position:absolute;left:"+_.lbl2.left+"px;top:"+_.lbl2.top+"px;font-size:"+_.lbl2.fontSize+"px;'>"+f+"</div>";zt+="</div>";var Yt="",Zt=0;for(var I in mt){var Xt=$("#custom_dr").val(),Kt=parseInt(localStorage.dr)+1,te=Xt||Kt;u.dr&&""!=u.dr&&"0"!=u.dr&&(te=u.dr),te=parseInt(te)+parseInt(Zt);var ee=localStorage.pref_dr?localStorage.pref_dr:"",ie=localStorage.suf_dr?localStorage.suf_dr:"",oe=""+(te=ee+(te=this.str_pad("000000",te,!0))+ie);te="#"+"000000".substring(0,"000000".length-oe.length)+oe,te=this.dr_label+" "+te,te+="<span style='display:block;'>Order ID: "+u.order_id+"</span>",mt[I]=mt[I]+"<div style='"+Gt+Jt+"position:absolute;left:"+_.drnum.left+"px;top:"+_.drnum.top+"px;font-size:"+_.drnum.fontSize+"px;'>"+te+"</div>",Yt=Yt+k+mt[I]+zt,Zt++}dt+="<div>"+(Yt=replaceAll(Yt,"undefined",""))+"</div>"}this.popUpPrint(dt)},printElemNewsPrint:function(t){var e=(new Date).toLocaleString();if(0==localStorage.print_dr)return!0;var i,o=this.pr_label,a=this.dr_label,r=this.print_data,n=r.member_name,s=r.cashier_name,l=(r.terms,JSON.parse(localStorage.news_format)),d=r.remarks,p=r.station_address,c=r.station_id,h=r.station_name,u=r.member_id,m=r.special_discount_total,f=r.date_sold,v="";n||(n=""),p||(p=""),c||(c=""),h||(h=""),i=n.split(","),n=i[0];var _="";if(localStorage.members&&(_=JSON.parse(localStorage.members)),_)for(var b in _){var y=_[b];y.id==u&&(h=y.personal_address+"<br>Contact Person: "+y.firstname+" "+y.lastname+"<br>Contact #: "+y.contact_number)}var g=(l=JSON.parse(localStorage.news_format)).date.visible?"display:block;":"display:none;",x=l.membername.visible?"display:block;":"display:none;",w=l.memberaddress.visible?"display:block;":"display:none;",S=l.stationname.visible?"display:block;":"display:none;",k=l.stationaddress.visible?"display:block;":"display:none;",N=(l.itemtable.visible,l.payments.visible?"display:block;":"display:none;"),I=l.payments2.visible?"display:block;":"display:none;",T=l.payments3.visible?"display:block;":"display:none;",O=l.cashier.visible?"display:block;":"display:none;",A=l.remarks.visible?"display:block;":"display:none;",F=l.reserved.visible?"display:block;":"display:none;",C=l.tdbarcode.visible?"display:inline-block;":"display:none;",j=l.tdqty.visible?"display:inline-block;":"display:none;",P=l.tddescription.visible?"display:inline-block;":"display:none;",z=l.tdprice.visible?"display:inline-block;":"display:none;",q=l.tdtotal.visible?"display:inline-block;":"display:none;",R=l.date.bold?"font-weight:bold;":"font-weight:normal;",E=l.membername.bold?"font-weight:bold;":"font-weight:normal;",D=l.memberaddress.bold?"font-weight:bold;":"font-weight:normal;",W=l.stationname.bold?"font-weight:bold;":"font-weight:normal;",L=l.stationaddress.bold?"font-weight:bold;":"font-weight:normal;",G=(l.itemtable.bold,l.payments.bold?"font-weight:bold;":"font-weight:normal;"),M=l.payments2.bold?"font-weight:bold;":"font-weight:normal;",B=l.payments3.bold?"font-weight:bold;":"font-weight:normal;",J=l.cashier.bold?"font-weight:bold;":"font-weight:normal;",H=l.remarks.bold?"font-weight:bold;":"font-weight:normal;",U=l.reserved.bold?"font-weight:bold;":"font-weight:normal;",V=l.tdbarcode.bold?"font-weight:bold;":"font-weight:normal;",Q=l.tdqty.bold?"font-weight:bold;":"font-weight:normal;",Y=l.tddescription.bold?"font-weight:bold;":"font-weight:normal;",Z=l.tdprice.bold?"font-weight:bold;":"font-weight:normal;",X=l.tdtotal.bold?"font-weight:bold;":"font-weight:normal;",K="",tt=r.due_date,et=$("#IS_CEBUHIQ").val();1==this.printWithPrice&&(q="display:none;",z="display:none;",N="display:none;",I="display:none;",T="display:none;");for(var it=1;it<=1;it++){v="";v=(v=(v=(v=(v=(v=(v+="<div id='maindivforprinting' style='page-break-before: always;position:relative;font-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;'>&nbsp;")+"<div style='"+g+R+"position:absolute;top:"+l.date.top+"px; left:"+l.date.left+"px;font-size:"+l.date.fontSize+"px;'><br/><br/>"+f+" </div><div style='clear:both;'></div>")+"<div style='"+x+E+"position:absolute;top:"+l.membername.top+"px; left:"+l.membername.left+"px;font-size:"+l.membername.fontSize+"px;'>"+n+"</div>")+"<div style='"+w+D+"position:absolute;top:"+l.memberaddress.top+"px; left:"+l.memberaddress.left+"px;width:"+l.memberaddress.width+"px;font-size:"+l.memberaddress.fontSize+"px;'>"+h+"</div>")+"<div style='"+S+W+"position:absolute;top:"+l.stationname.top+"px; left:"+l.stationname.left+"px;font-size:"+l.stationname.fontSize+"px;'>"+c+"</div>")+"<div style='"+k+L+"position:absolute;top:"+l.stationaddress.top+"px; left:"+l.stationaddress.left+"px;width:"+l.stationaddress.width+"px;font-size:"+l.stationaddress.fontSize+"px;'>"+p+"</div>")+"<table id='itemscon' style='position:absolute;top:"+l.itemtable.top+"px;left:"+l.itemtable.left+"px;font-size:"+l.itemtable.fontSize+"px;'> ";$("#cart > tbody > tr").length;var ot=localStorage.dr_limit,at=[],rt=1,nt=1,st=0,lt=0;ot=parseInt(ot)+1;var dt=r.item_list,pt=r.same_discount;for(var b in dt){var ct=dt[b].item_code,ht=dt[b].description,ut=(dt[b].barcode,dt[b].unit_name);ut=ut||"";var mt=dt[b].qty+"<td style='width:60px;'>"+ut+"</td>",ft=dt[b].price,vt=dt[b].discount,_t=dt[b].total,bt=_t,yt=dt[b].discount_type,gt="",xt="";dt[b].qty=replaceAll(dt[b].qty,",",""),dt[b].original_price&&dt[b].qty&&(lt=parseFloat(lt)+parseFloat(dt[b].original_price)*parseFloat(dt[b].qty));try{if(yt.length&&(bt=(ft=dt[b].original_price)*dt[b].qty,0==pt)){var wt=0;for(var $t in yt){var St=yt[$t];St=St/100*(ft-wt)*dt[b].qty,gt+="<br>"+number_format(St,2),xt+="<br>Less "+number_format(yt[$t],2)+":",wt=parseFloat(wt)+parseFloat(St/dt[b].qty)}xt+="<br>Net: ",gt+="<br>"+(parseFloat(bt)+parseFloat(dt[b].discount)).toFixed(2)}}catch(t){}if(parseFloat(vt)>0)var kt=parseFloat(vt)/parseFloat(mt),Nt="<br/>(Disc. "+number_format(kt,2)+")",It="<br/>("+number_format(vt,2)+")";else Nt="",It="";if(Nt="",It="",nt%ot==0){var Tt=st/1.12,Ot=parseFloat(st)-parseFloat(Tt);if(Tt=Tt.toFixed(2),Ot=Ot.toFixed(2),st=st.toFixed(2),at[rt]=at[rt]+"</table>",at[rt]=at[rt]+"<div style='"+N+G+"position:absolute; list-style-type: none; left:"+l.payments.left+"px;top:"+l.payments.top+"px;font-size:"+l.payments.fontSize+"px;'>"+Tt+"</div>",at[rt]=at[rt]+"<div style='"+I+M+"position:absolute; list-style-type: none; left:"+l.payments2.left+"px;top:"+l.payments2.top+"px;font-size:"+l.payments2.fontSize+"px;'>"+Ot+"</div>",1==et){var At="";At=yt.length?" Grand Total: "+number_format(lt,2)+"<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;Discount: "+number_format(lt-st,2)+"<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; Net Total: "+number_format(st,2):"<br><br>Grand Total: "+number_format(st,2),at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+l.payments3.top+"px;font-size:"+l.payments3.fontSize+"px;'>"+Ct+" &nbsp;&nbsp;"+At+"</div>",at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+(parseInt(l.payments3.top)+parseInt(38))+"px;font-size:"+l.payments3.fontSize+"px;width:255px;border-bottom:1px solid #000;'>&nbsp;</div>",at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+(parseInt(l.payments3.top)+parseInt(41))+"px;font-size:"+l.payments3.fontSize+"px;width:255px;border-bottom:1px solid #000;'>&nbsp;</div>"}else at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+l.payments3.top+"px;font-size:"+l.payments3.fontSize+"px;'>&nbsp;&nbsp; Grand Total: "+number_format(st,2)+"</div>",at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+(parseInt(l.payments3.top)+parseInt(12))+"px;font-size:"+l.payments3.fontSize+"px;width:255px;border-bottom:1px solid #000;'>&nbsp;</div>",at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+(parseInt(l.payments3.top)+parseInt(15))+"px;font-size:"+l.payments3.fontSize+"px;width:255px;border-bottom:1px solid #000;'>&nbsp;</div>";rt=parseInt(rt)+1,st=0,lt=0}ct&&ft&&(st=parseFloat(st)+parseFloat(_t)),at[rt]=at[rt]+"<tr ><td style='"+j+Q+"position:relative;width:"+l.tdqty.width+"px;padding-left:"+l.tdqty.left+"px;'>"+mt+"</td><td style='"+C+V+"position:relative;width:"+l.tdbarcode.width+"px;padding-left:"+l.tdbarcode.left+"px;'>"+ct+"</td><td style='"+P+Y+"position:relative;width:"+l.tddescription.width+"px;padding-left:"+l.tddescription.left+"px;'> "+ht+" <span style='padding-left:20px;'>"+Nt+"</span> </td><td style='"+z+Z+"position:relative;width:"+l.tdprice.width+"px;padding-left:"+l.tdprice.left+"px;text-align:right;'>"+(ft&&ct?number_format(ft,2)+xt:dt[b].price_label)+"</td><td style='"+q+X+"position:relative;width:"+l.tdtotal.width+"px;padding-left:"+l.tdtotal.left+"px;text-align:right;'>"+number_format(bt,2)+gt+" "+It+"</td></tr>",nt=parseInt(nt)+1}if(st>0){var Ft=r.consumable_total;parseFloat(Ft)>0&&(st-=Ft);var Ct="";m&&(st-=m,Ct="<span style='display:block;margin-top:-15px;'> &nbsp;&nbsp; Discount: "+parseFloat(m).toFixed(2)+"</span>",m="");Tt=st/1.12,Ot=parseFloat(st)-parseFloat(Tt);if(Tt=Tt.toFixed(2),Ot=Ot.toFixed(2),st=st.toFixed(2),at[rt]=at[rt]+"</table>",at[rt]=at[rt]+"<div style='"+N+G+"position:absolute; list-style-type: none; left:"+l.payments.left+"px;top:"+(l.payments.top-12)+"px;font-size:"+l.payments.fontSize+"px;'>("+Ft+")</div>",at[rt]=at[rt]+"<div style='"+N+G+"position:absolute; list-style-type: none; left:"+l.payments.left+"px;top:"+l.payments.top+"px;font-size:"+l.payments.fontSize+"px;'>"+Tt+"</div>",at[rt]=at[rt]+"<div style='"+I+M+"position:absolute; list-style-type: none; left:"+l.payments2.left+"px;top:"+l.payments2.top+"px;font-size:"+l.payments2.fontSize+"px;'>"+Ot+"</div>",1==et){At="";At=yt.length?" Grand Total: "+number_format(lt,2)+"<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;Discount: "+number_format(lt-st,2)+"<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; Net Total: "+number_format(st,2):"<br><br>Grand Total: "+number_format(st,2),at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+l.payments3.top+"px;font-size:"+l.payments3.fontSize+"px;'>"+Ct+" &nbsp;&nbsp;"+At+"</div>",at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+(parseInt(l.payments3.top)+parseInt(38))+"px;font-size:"+l.payments3.fontSize+"px;width:255px;border-bottom:1px solid #000;'>&nbsp;</div>",at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+(parseInt(l.payments3.top)+parseInt(41))+"px;font-size:"+l.payments3.fontSize+"px;width:255px;border-bottom:1px solid #000;'>&nbsp;</div>"}else at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+l.payments3.top+"px;font-size:"+l.payments3.fontSize+"px;'>"+Ct+" &nbsp;&nbsp; Grand Total: "+number_format(st,2)+"</div>",at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+(parseInt(l.payments3.top)+parseInt(12))+"px;font-size:"+l.payments3.fontSize+"px;width:255px;border-bottom:1px solid #000;'>&nbsp;</div>",at[rt]=at[rt]+"<div style='"+T+B+"position:absolute; list-style-type: none; left:"+l.payments3.left+"px;top:"+(parseInt(l.payments3.top)+parseInt(15))+"px;font-size:"+l.payments3.fontSize+"px;width:255px;border-bottom:1px solid #000;'>&nbsp;</div>"}var jt="",Pt="";Pt=r.sales_type+" "+Pt;var zt=localStorage.company_id,qt=localStorage.current_lastname+", "+localStorage.current_firstname;14==zt&&(qt=localStorage.current_lastname+", "+localStorage.current_firstname+"<br>"+s),A+="width:750px;width:600px;overflow-wrap: break-word; word-wrap: break-word; -ms-word-break: break-all;  word-break: break-all; word-break: break-word; -ms-hyphens: auto; -moz-hyphens: auto; -webkit-hyphens: auto; hyphens: auto;",jt=(jt=(jt=jt+"<div style='"+O+J+"position:absolute;left:"+l.cashier.left+"px;top:"+l.cashier.top+"px;font-size:"+l.cashier.fontSize+"px;'>"+qt+"</div>")+"<div style='"+A+H+"position:absolute;left:"+l.remarks.left+"px;top:"+l.remarks.top+"px;font-size:"+l.remarks.fontSize+"px;'>"+d+"<br>"+e+"</div>")+"<div style='"+F+U+"position:absolute;left:"+l.reserved.left+"px;top:"+l.reserved.top+"px;font-size:"+l.reserved.fontSize+"px;'>"+Pt+"</div>";var Rt=$("#custom_dr").val(),Et=$("#custom_pr").val(),Dt=$("#custom_sv").val(),Wt=parseInt(localStorage.dr)+1,Lt=parseInt(localStorage.ir)+1,Gt=parseInt(localStorage.sv)+1,Mt="";if(1==t){var Bt=Wt;Bt=Rt||Wt,r.dr&&""!=r.dr&&"0"!=r.dr&&(Bt=r.dr),Mt=a+" "+(Bt=(localStorage.pref_dr?localStorage.pref_dr:"")+(Bt=this.str_pad("000000",Bt,!0)))}else if(2==t){var Jt=Lt;Jt=Et||Lt,r.pr&&""!=r.pr&&"0"!=r.pr&&(Jt=r.pr),Mt=o+" "+(Jt=(localStorage.pref_ir?localStorage.pref_ir:"")+(Jt=this.str_pad("000000",Jt,!0)))}else if(3==t){var Ht=Gt;Ht=Dt||Gt,r.sv&&""!=r.sv&&"0"!=r.sv&&(Ht=r.sv),Mt="OV "+(Ht=(localStorage.pref_sv?localStorage.pref_sv:"")+(Ht=this.str_pad("000000",Ht,!0)))}Mt+="<span style='display:block;'>Order ID: "+r.order_id+"</span>";var Ut=r.terms+"-"+tt,Vt=r.client_po,Qt=r.tin_no,Yt=l.terms.visible?"display:inline-block;":"display:none;",Zt=l.drnum.visible?"display:inline-block;":"display:none;",Xt=l.ponum.visible?"display:inline-block;":"display:none;",Kt=l.tin.visible?"display:inline-block;":"display:none;",te=l.drnum.bold?"font-weight:bold;":"font-weight:normal;",ee=l.terms.bold?"font-weight:bold;":"font-weight:normal;",ie=l.ponum.bold?"font-weight:bold;":"font-weight:normal;",oe=l.tin.bold?"font-weight:bold;":"font-weight:normal;";jt=(jt=(jt=(jt=jt+"<div style='"+Zt+te+"position:absolute;left:"+l.drnum.left+"px;top:"+l.drnum.top+"px;font-size:"+l.drnum.fontSize+"px;'>"+Mt+"</div>")+"<div style='"+Yt+ee+"position:absolute;left:"+l.terms.left+"px;top:"+l.terms.top+"px;font-size:"+l.terms.fontSize+"px;'>"+Ut+"</div>")+"<div style='"+Xt+ie+"position:absolute;left:"+l.ponum.left+"px;top:"+l.ponum.top+"px;font-size:"+l.ponum.fontSize+"px;'>"+Vt+"</div>")+"<div style='"+Kt+oe+"position:absolute;left:"+l.tin.left+"px;top:"+l.tin.top+"px;font-size:"+l.tin.fontSize+"px;'>"+Qt+"</div>";var ae=r.is_charge,re="";if(1==this.charge_label)if(1==ae?re="=====Cash On Delivery======":2==ae?re="======CHARGE======":3==ae&&(re="======PDC======"),l.lbl)jt=jt+"<div style='"+(l.lbl.visible?"display:inline-block;":"display:none;")+(l.lbl.bold?"font-weight:bold;":"font-weight:normal;")+"position:absolute;left:"+l.lbl.left+"px;top:"+l.lbl.top+"px;font-size:"+l.lbl.fontSize+"px;'>"+re+"</div>";jt+="</div>";var ne="";for(var b in at)ne=ne+v+at[b]+jt;K+="<div>"+(ne=replaceAll(ne,"undefined",""))+"</div>"}this.popUpPrint(K)},printElemNewsPrintCebu:function(t){var e=(new Date).toLocaleString();if(0==localStorage.print_dr)return!0;var i,o=this.pr_label,a=this.dr_label,r=this.invoice_label,n=this.print_data,s=n.member_name,l=n.cashier_name,d=(n.terms,JSON.parse(localStorage.news_format)),p=n.remarks,c=n.station_address,h=n.station_id,u=n.station_name,m=n.member_id,f=(n.special_discount_total,n.date_sold),v="";s||(s=""),c||(c=""),h||(h=""),u||(u=""),i=s.split(","),s=i[0];var _="";if(localStorage.members&&(_=JSON.parse(localStorage.members)),_)for(var b in _){var y=_[b];y.id==m&&(u=y.personal_address+"<br>Contact Person: "+y.firstname+" "+y.lastname+"<br>Contact #: "+y.contact_number)}var g=(d=JSON.parse(localStorage.news_format)).date.visible?"display:block;":"display:none;",x=d.membername.visible?"display:block;":"display:none;",w=d.memberaddress.visible?"display:block;":"display:none;",S=d.stationname.visible?"display:block;":"display:none;",k=d.stationaddress.visible?"display:block;":"display:none;",N=(d.itemtable.visible,d.payments.visible,d.payments2.visible,d.payments3.visible,d.cashier.visible?"display:block;":"display:none;"),I=d.remarks.visible?"display:block;":"display:none;",T=d.reserved.visible?"display:block;":"display:none;",O=(d.tdbarcode.visible,d.tdqty.visible,d.tddescription.visible,d.tdprice.visible,d.tdtotal.visible,d.date.bold?"font-weight:bold;":"font-weight:normal;"),A=d.membername.bold?"font-weight:bold;":"font-weight:normal;",F=d.memberaddress.bold?"font-weight:bold;":"font-weight:normal;",C=d.stationname.bold?"font-weight:bold;":"font-weight:normal;",j=d.stationaddress.bold?"font-weight:bold;":"font-weight:normal;",P=(d.itemtable.bold,d.payments.bold,d.payments2.bold,d.payments3.bold,d.cashier.bold?"font-weight:bold;":"font-weight:normal;"),z=d.remarks.bold?"font-weight:bold;":"font-weight:normal;",q=d.reserved.bold?"font-weight:bold;":"font-weight:normal;",R=(d.tdbarcode.bold,d.tdqty.bold,d.tddescription.bold,d.tdprice.bold,d.tdtotal.bold,""),E=n.due_date;$("#IS_CEBUHIQ").val();1==this.printWithPrice&&("display:none;","display:none;","display:none;","display:none;");v="";v=(v=(v=(v=(v=(v=(v+="<div id='maindivforprinting' style='page-break-before: always;position:relative;font-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;'>&nbsp;")+"<div style='"+g+O+"position:absolute;top:"+d.date.top+"px; left:"+d.date.left+"px;font-size:"+d.date.fontSize+"px;'><br/><br/>"+f+" </div><div style='clear:both;'></div>")+"<div style='"+x+A+"position:absolute;top:"+d.membername.top+"px; left:"+d.membername.left+"px;font-size:"+d.membername.fontSize+"px;'>"+s+"</div>")+"<div style='"+w+F+"position:absolute;top:"+d.memberaddress.top+"px; left:"+d.memberaddress.left+"px;width:"+d.memberaddress.width+"px;font-size:"+d.memberaddress.fontSize+"px;'>"+u+"</div>")+"<div style='"+S+C+"position:absolute;top:"+d.stationname.top+"px; left:"+d.stationname.left+"px;font-size:"+d.stationname.fontSize+"px;'>"+h+"</div>")+"<div style='"+k+j+"position:absolute;top:"+d.stationaddress.top+"px; left:"+d.stationaddress.left+"px;width:"+d.stationaddress.width+"px;font-size:"+d.stationaddress.fontSize+"px;'>"+c+"</div>")+"<table id='itemscon'  style='width:90%;position:absolute;top:"+d.itemtable.top+"px;left:"+d.itemtable.left+"px;font-size:"+d.itemtable.fontSize+"px;'> ";$("#cart > tbody > tr").length;var D=localStorage.dr_limit;D=parseInt(D)+1;var W=n.item_list,L=(n.same_discount,[]);for(var b in W){var G=W[b].item_code,M=W[b].description,B=(W[b].barcode,W[b].unit_name);B=B||"";var J=W[b].qty+"<td style='width:60px;'>"+B+"</td>",H=(W[b].price,W[b].discount),U=(W[b].total,W[b].discount_type,""),V="0";if(H)U=(st=H/W[b].qty)/W[b].original_price*100,U=number_format(U,2,".",""),W[b].discount_type&&(V=W[b].discount_type.join());if(G&&J){V=V||"0";var Q={item_code:G,description:M,qty:J,discount:H,price:W[b].original_price,total:W[b].original_total,tmp_discount_label:V};L.push(Q)}}var Y="",Z="",X=0,K=0,tt=0;for(var b in L){if(""!==Y&&Y!==L[b].tmp_discount_label){if(Z+="<tr>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td><strong>Gross</strong></td>",Z+="<td style='text-align:right;'>"+number_format(X,2)+"</td>",Z+="</tr>",Y.indexOf(",")>-1){var et=Y.split(","),it=X;for(var ot in et){var at=et[ot]/100*it;Z+="<tr>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td ><strong>Disc "+number_format(et[ot],0)+"%</strong></td>",Z+="<td style='text-align:right;'>"+number_format(at,2)+"</td>",Z+="</tr>"}}else Z+="<tr>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td ><strong>Disc "+number_format(Y,0)+"%</strong></td>",Z+="<td style='text-align:right;'>"+number_format(K,2)+"</td>",Z+="</tr>";Z+="<tr>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td ><strong>Net</strong></td>",Z+="<td style='text-align:right;'>"+number_format(parseFloat(X)+parseFloat(K),2)+"</td>",Z+="</tr>",X=0,K=0}var rt=L[b].price,nt=L[b].total;if(0==rt)parseFloat(L[b].discount)>0&&(rt=L[b].discount,nt=parseFloat(rt)*parseFloat(L[b].qty),L[b].discount=0);else if(parseFloat(L[b].discount)>0){var st=parseFloat(L[b].discount)/parseFloat(L[b].qty);rt=parseFloat(rt)+parseFloat(st),nt=parseFloat(rt)*parseFloat(L[b].qty),L[b].discount=0}Z+="<tr>",Z+="<td>"+L[b].qty+"</td>",Z+="<td></td>",Z+="<td>"+L[b].description+"</td>",Z+="<td style='text-align:right;'>"+number_format(rt,2)+"</td>",Z+="<td style='text-align:right;'>"+number_format(nt,2)+"</td>",Z+="</tr>",X=parseFloat(nt)+parseFloat(X),K=parseFloat(L[b].discount)+parseFloat(K),Y=L[b].tmp_discount_label,tt=parseFloat(nt)+parseFloat(L[b].discount)+parseFloat(tt)}if(X){if(Z+="<tr>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td ><strong>Gross</strong></td>",Z+="<td style='text-align:right;'>"+number_format(X,2)+"</td>",Z+="</tr>",Y.indexOf(",")>-1){et=Y.split(","),it=X;for(var ot in et){at=et[ot]/100*it;it-=number_format(at,2,".",""),Z+="<tr>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td ><strong>Disc "+number_format(et[ot],0)+"%</strong></td>",Z+="<td style='text-align:right;'>"+number_format(at,2)+"</td>",Z+="</tr>"}}else Z+="<tr>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td ><strong>Disc "+number_format(Y,0)+"%</strong></td>",Z+="<td style='text-align:right;'>"+number_format(K,2)+"</td>",Z+="</tr>";Z+="<tr>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td></td>",Z+="<td><strong>Net</strong></td>",Z+="<td style='text-align:right;'>"+number_format(parseFloat(X)+parseFloat(K),2)+"</td>",Z+="</tr>",X=0,K=0}Z+="<tr><td></td><td></td><td></td><td></td><td></td><td>&nbsp;</td></tr>",Z+="<tr><td></td><td></td><td></td><td></td><td>Grand Total</td><td style='text-align:right;'>"+number_format(tt,2)+"</td></tr>";var lt="",dt="";dt=n.sales_type+" "+dt;var pt=localStorage.company_id,ct=localStorage.current_lastname+", "+localStorage.current_firstname;14==pt&&(ct=localStorage.current_lastname+", "+localStorage.current_firstname+"<br>"+l),I+="width:750px;width:600px;overflow-wrap: break-word; word-wrap: break-word; -ms-word-break: break-all;  word-break: break-all; word-break: break-word; -ms-hyphens: auto; -moz-hyphens: auto; -webkit-hyphens: auto; hyphens: auto;",lt=(lt=(lt=lt+"<div style='"+N+P+"position:absolute;left:"+d.cashier.left+"px;top:"+d.cashier.top+"px;font-size:"+d.cashier.fontSize+"px;'>"+ct+" &nbsp;&nbsp;&nbsp;&nbsp;</div>")+"<div style='"+I+z+"position:absolute;left:"+d.remarks.left+"px;top:"+d.remarks.top+"px;font-size:"+d.remarks.fontSize+"px;'>"+p+"<br>"+e+"</div>")+"<div style='"+T+q+"position:absolute;left:"+d.reserved.left+"px;top:"+d.reserved.top+"px;font-size:"+d.reserved.fontSize+"px;'>"+dt+"</div>",lt+="<div style='position:absolute;left:280px;top:860px;'>Received By:<br>_________________________</div>";var ht=$("#custom_dr").val(),ut=$("#custom_pr").val(),mt=$("#custom_sv").val(),ft=$("#custom_invoice").val(),vt=parseInt(localStorage.dr)+1,_t=parseInt(localStorage.ir)+1,bt=parseInt(localStorage.sv)+1,yt=parseInt(localStorage.invoice)+1,gt="";if(1==t){var xt=vt;xt=ht||vt,n.dr&&""!=n.dr&&"0"!=n.dr&&(xt=n.dr),gt=a+" "+(xt=(localStorage.pref_dr?localStorage.pref_dr:"")+(xt=this.str_pad("000000",xt,!0)))}else if(2==t){var wt=_t;wt=ut||_t,n.pr&&""!=n.pr&&"0"!=n.pr&&(wt=n.pr),gt=o+" "+(wt=(localStorage.pref_ir?localStorage.pref_ir:"")+(wt=this.str_pad("000000",wt,!0)))}else if(3==t){var $t=bt;$t=mt||bt,n.sv&&""!=n.sv&&"0"!=n.sv&&($t=n.sv),gt="OV "+($t=(localStorage.pref_sv?localStorage.pref_sv:"")+($t=this.str_pad("000000",$t,!0)))}else if(4==t){var St=yt;St=ft||yt,n.invoice&&""!=n.invoice&&"0"!=n.invoice&&(St=n.invoice),gt=r+" "+(St=(localStorage.pref_invoice?localStorage.pref_invoice:"")+(St=this.str_pad("000000",St,!0)))}gt+="<span style='display:block;'>Order ID: "+n.order_id+"</span>";var kt=n.terms+"-"+E,Nt=n.client_po,It=n.tin_no,Tt=d.terms.visible?"display:inline-block;":"display:none;",Ot=d.drnum.visible?"display:inline-block;":"display:none;",At=d.ponum.visible?"display:inline-block;":"display:none;",Ft=d.tin.visible?"display:inline-block;":"display:none;",Ct=d.drnum.bold?"font-weight:bold;":"font-weight:normal;",jt=d.terms.bold?"font-weight:bold;":"font-weight:normal;",Pt=d.ponum.bold?"font-weight:bold;":"font-weight:normal;",zt=d.tin.bold?"font-weight:bold;":"font-weight:normal;";lt=(lt=(lt=(lt=lt+"<div style='"+Ot+Ct+"position:absolute;left:"+d.drnum.left+"px;top:"+d.drnum.top+"px;font-size:"+d.drnum.fontSize+"px;'>"+gt+"</div>")+"<div style='"+Tt+jt+"position:absolute;left:"+d.terms.left+"px;top:"+d.terms.top+"px;font-size:"+d.terms.fontSize+"px;'>"+kt+"</div>")+"<div style='"+At+Pt+"position:absolute;left:"+d.ponum.left+"px;top:"+d.ponum.top+"px;font-size:"+d.ponum.fontSize+"px;'>"+Nt+"</div>")+"<div style='"+Ft+zt+"position:absolute;left:"+d.tin.left+"px;top:"+d.tin.top+"px;font-size:"+d.tin.fontSize+"px;'>"+It+"</div>";var qt=n.is_charge,Rt="";1==this.charge_label&&(1==qt?Rt="=====Cash On Delivery======":2==qt?Rt="======CHARGE======":3==qt&&(Rt="======PDC======"),d.lbl&&(lt=lt+"<div style='"+(d.lbl.visible?"display:inline-block;":"display:none;")+(d.lbl.bold?"font-weight:bold;":"font-weight:normal;")+"position:absolute;left:"+d.lbl.left+"px;top:"+d.lbl.top+"px;font-size:"+d.lbl.fontSize+"px;'>"+Rt+"</div>"));var Et="";Et=v+Z+(lt+="</div>"),R+="<div>"+(Et=replaceAll(Et,"undefined",""))+"</div>",this.popUpPrint(R)},printBackload:function(){var t=new Date,e=parseInt(t.getMonth())+parseInt(1)+"/"+t.getDate()+"/"+t.getFullYear(),i=this.current_order_det,o="<div class='perpage' style='page-break-after:always;' >",a="";0!=i.dr?a=i.dr:0!=i.pr&&(a=i.pr);var r=this.backload_data;o+="<h3 class='text-center'>"+localStorage.company_name+"</h3>",o+="<p class='text-center text-muted'>BACKLOAD FORM</p>",o+="<p style='font-size:10px;' class='text-right'>ORDER ID# <span style='width:80px;display:inline-block;margin-left:5px;' class='text-left'>"+i.id+"</span></p>",o+="<div style='font-size:10px;'  class=''>",o+="<div class='pull-right'>",o+="<p>Date: <span style='width:270px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+e+"</span></p>",o+="</div>",o+="<p>Branch: <span style='width:270px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+i.branch_name+"</span></p>",o+="<div class='pull-right'>",o+="<p>DR: <span style='width:270px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+a+"</span></p>",o+="</div>",o+="<p>Client: <span style='width:270px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+i.fullname+"</span></p>",o+="</div>",o+="<hr>",o+="<table  style='font-size:10px;' class='table table-bordered table-condensed'>",o+="<tr><th>Qty</th><th>Item Code</th><th>Description</th><th>Remarks</th><th>Price</th><th>Total</th></tr>";var n=0;for(var s in r){var l=r[s].item_code,d=r[s].description,p=r[s].backload_qty,c=r[s].backload_remarks,h=r[s].price,u=r[s].price_adjustment,m=((parseFloat(h)+parseFloat(u))*r[s].qty+parseFloat(r[s].member_adjustment))/r[s].qty,f=m*r[s].backload_qty;n=parseFloat(n)+parseFloat(f),parseInt(p)&&(o+="<tr><td>"+p+"</td><td>"+l+"</td><td>"+d+"</td><td>"+c+"</td><td>"+number_format(m,2)+"</td><td>"+number_format(f,2)+"</td></tr>",0)}o+="<tr><td></td><td></td><td></td><td></td><td>Total</td><td>"+number_format(n,2)+"</td></tr>",o+="</table>",o+="<p>Returned By:<span style='width:130px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:5px;margin-right:5px;'></span> Received By:<span style='width:130px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:5px;margin-right:5px;'></span> Approved By: <span style='width:130px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:5px;margin-right:5px;'></span></p>",this.popUpPrintWithStyle(o)},printRackLocation:function(){var t=this.current_order_obj,e=this.current_order_det,i=new Date,o=parseInt(i.getMonth())+parseInt(1)+"/"+i.getDate()+"/"+i.getFullYear(),a="";0!=e.dr?a=e.dr:0!=e.pr&&(a=e.pr);var r="<div class='perpage' style='page-break-after:always;' >";r+="<h3 class='text-center'>"+localStorage.company_name+"</h3>",r+="<p class='text-center text-muted'></p>",r+="<p style='font-size:10px;' class='text-right'>ORDER ID# <span style='width:80px;display:inline-block;margin-left:5px;' class='text-left'>"+this.current_order+"</span></p>",r+="<div style='font-size:10px;'  class=''>",r+="<div class='pull-right'>",r+="<p>Date: <span style='width:270px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+o+"</span></p>",r+="</div>",r+="<p>Branch: <span style='width:270px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+e.branch_name+"</span></p>",r+="<div class='pull-right'>",r+="<p>DR: <span style='width:270px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+a+"</span></p>",r+="</div>",r+="<p>Client: <span style='width:270px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+e.fullname+"</span></p>",r+="</div>",r+="<p>Remarks: <span style='width:650px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+e.remarks+"</span></p>",r+="<p>Date Approved: <span style='width:610px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'>"+e.approved_date+"</span></p>",r+="<hr>",r+="<table  style='font-size:10px;' class='table table-bordered'>",r+="<tr><th>Item</th><th>Quantity</th><th>Racking</th></tr>";var n=[],s=1,l="",d=[],p=[];for(var c in t){var h=t[c].has_serial,u=t[c].item_code,m=t[c].description,f=(t[c].qty,JSON.parse(t[c].racking));if(1==t[c].is_bundle)try{var v=JSON.parse(t[c].bundles);for(var _ in v){v[_].description,parseFloat(v[_].child_qty),parseFloat(t[c].qty),parseFloat(v[_].child_qty),parseFloat(t[c].qty),v[_].rackhtml;try{var b=JSON.parse(v[_].rackjson);for(var y in b)p.push({stock_man:b[y].stock_man,rack:b[y].rack,qty:b[y].qty,item_code:v[_].item_code,description:v[_].description+"<br><small style='color:#000000;'>For: "+u+"</small>",serial_count:h})}catch(t){console.log("Error")}}}catch(t){}else for(var g in f)f[g].stock_man&&-1!=$.inArray(f[g].stock_man,d)&&d.push(f[g].stock_man),p.push({stock_man:f[g].stock_man,rack:f[g].rack,qty:f[g].qty,item_code:u,description:m,serial_count:h});s%12==0&&(l=""),s+=1}0==this.different_unit&&p.sort(this.sortByStockman);var x=1;for(var _ in p){if(l+="<tr><td style='width:250px;'>"+p[_].item_code+"<br><small class='text-danger'>"+p[_].description+"</small></td><td>"+p[_].qty+"</td><td style='width:400px;'>",l+="<div>"+p[_].stock_man+" : "+p[_].rack+"</div>",l+="</td></tr>",1==parseInt(p[_].serial_count)&&0!=e.member_id){var w=parseInt(p[_].qty);x+=1;for(var S=1;S<=w;S++)l+="<tr><td colspan='3'>Serial "+S+": </td></tr>",x%12==0&&(n.push(l),l=""),x+=1}else x%12==0&&(n.push(l),l=""),x+=1}var k=Math.ceil(s/12*12);if(s<12){for(;s!=k+1;)l+="<tr style='height:25px;'><td></td><td></td><td></td></tr>",s+=1;n.push(l),l=""}else{for(;s!=k+1;)l+="<tr style='height:25px;'><td></td><td></td><td></td></tr>",s+=1;n.push(l),l=""}var N=n.length,I=1,T="";for(var _ in n)T+=r,T+=n[_],T+="</table>",T+="<br><br><div><div class='pull-right'><p  style='font-size:10px;'>Checked By: <span style='width:200px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:13px;'></span></p></div><p  style='font-size:10px;'>Released By: <span style='width:200px;display:inline-block;border-bottom: 1px solid #ccc;margin-left:5px;'></span></p></div>",T+="<p class='text-center' style='color:#ccc;font-size:0.8em;'>Page "+I+" of "+N+"</p>",I+=1,T+="</div>";this.popUpPrintWithStyle(T)},sortByStockman:function(t,e){var i=t.stock_man.toLowerCase(),o=e.stock_man.toLowerCase();return i<o?-1:i>o?1:0},appendItem:function(){if(this.request.item_id&&this.request.qty){var t=$("#item_id"),e=t.select2("data").is_bundle,i=t.val(),o=t.select2("data").text.split(":"),a=o[3],r=this.request,n=this.items,s=this,l=this.request.member_id,d=this.request.for_pickup;1==this.different_unit&&(r.orig_qty=r.qty,r.preferred_unit=$("#dif_qty option:selected").text(),r.qty=this.dif_qty*this.request.qty);var p=this.request.qty;if(this.isAlreadyAdded(i))return alertify.alert("Already in cart"),r.item_id="",r.qty="",void t.select2("val",null);$("#btnAdd").attr("disabled",!0),$("#btnAdd").html("Loading..."),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getAdjustmentPrice",branch_id:r.branch_id,branch_id_to:r.branch_id_to,shipping_company_id:r.shipping_company_id,item_id:i,member_id:l,qty:p,price_group_id:r.price_group_id,for_pickup:d},success:function(l){$("#btnAdd").html("Add Item");var d=JSON.parse(l),p=(l=d.data).split("||");if(s.request.member_id&&parseInt(s.order_limit)<parseInt(p[3])+parseInt(s.cart_item_ctr))return showToast("error","<p>You already reached the order limit. You can only order 15 items in a single request.</p>","<h3>WARNING!</h3>","toast-bottom-right"),t.select2("val",null),s.disableMemberAndBranch(),r.item_id="",void(r.qty="");if(0==p[2])p[5]?alertify.alert("<div style='height:250px;overflow-y:auto;'>"+p[5]+"</div>"):showToast("error","<p>Invalid quantity. <br>Remaining stocks: <h4>"+p[4]+"</h4></p>","<h3>WARNING!</h3>","toast-bottom-right"),t.select2("val",null),s.disableMemberAndBranch(),r.item_id="",r.qty="";else{s.cart_item_ctr=parseInt(p[3])+parseInt(s.cart_item_ctr),a=parseFloat(a)+parseFloat(p[0]);var c=p[1];o="<p>"+o[2]+"<small style='display:block' class='text-danger'>"+o[1]+"</small></p>";var h=r.addtl_disc?r.addtl_disc:0;r.addtl_disc=r.addtl_disc?r.addtl_disc:"",r.addtl_disc.indexOf("%")>0&&(h=replaceAll(h,"%",""),h/=100,h*=a,h*=r.qty),isNaN(h)&&(h=0);var u=parseFloat(a)*parseFloat(r.qty);if(c=parseFloat(c)-h,u=parseFloat(u)+parseFloat(c),u=number_format(u,2),d.freebies.length>0)for(var m in d.freebies){var f=parseFloat(d.freebies[m].price),v=parseFloat(d.freebies[m].total);n.unshift({item_id:d.freebies[m].item_id,qty:d.freebies[m].qty,spec_station_id:0,spec_sales_type:0,item_code:d.freebies[m].item_code+" --  (FREE)",price:f.toFixed(2),total:v.toFixed(2),adjustmentmem:-1*v.toFixed(2),is_bundle:0,item_count:0,remaining:d.freebies[m].inv_qty,orig_qty:d.freebies[m].qty,preferred_unit:"",freebies:1})}var _=[];if(d.group_adjustment.length>0)for(var b in d.group_adjustment)_.push({name:d.group_adjustment[b].name,adjustment:d.group_adjustment[b].adjustment});n.unshift({item_id:i,qty:r.qty,spec_station_id:r.spec_station_id,spec_sales_type:r.spec_sales_type,item_code:o,price:a.toFixed(2),total:u,orig_total:number_format(u,2,".",""),adjustmentmem:c,is_bundle:e,item_count:p[3],remaining:p[4],orig_qty:r.orig_qty,preferred_unit:r.preferred_unit,freebies:0,is_surplus:r.is_surplus,group_adjustment:_,group_adjustment_selected:0,adjustment_remarks:d.adjustment_remarks}),r.spec_station_id=0,r.spec_sales_type=0,r.item_id="",r.qty="",r.addtl_disc="",r.orig_qty="",r.is_surplus="0",r.prepared_qty="",t.select2("val",null),s.disableMemberAndBranch(),s.success=!0,setTimeout(function(){s.success=!1},3e3);localStorage.wh_backup_items=JSON.stringify(n),localStorage.wh_backup_request=JSON.stringify(r)}},error:function(){alert("It seems like you have a very slow internet connection."),$("#btnAdd").html("Add Item"),s.disableMemberAndBranch()}})}},fetchedOrderPickup:function(){var t=this,e=t.log_from_pickup,i=t.log_to_pickup,o=t.log_search_pickup,a=t.pickup_filter_type;t.showLoading=!0,$.ajax({url:"../ajax/ajax_query2.php",type:"POST",dataType:"json",data:{functionName:"getWhOrderPickup",search:o,from:e,to:i,pickup_filter_type:a},success:function(e){t.$set("orders_pickup",e),t.showLoading=!1},error:function(){console.log("Fetched Item"),t.showLoading=!1}})},fetchedOrderService:function(){var t=this;t.showLoading=!0,$.ajax({url:"../ajax/ajax_query2.php",type:"POST",dataType:"json",data:{functionName:"getWhOrderService"},success:function(e){t.$set("orders_service",e),t.showLoading=!1},error:function(){console.log("Fetched Item"),t.showLoading=!1}})},removeItem:function(t){this.cart_item_ctr=parseInt(this.cart_item_ctr)-parseInt(t.item_count),this.items.$remove(t),this.disableMemberAndBranch()},showRequestForm:function(){this.hideAllView(),this.nav={request:!0,approve:!1,warehouse:!1,shipping:!1,del:!1,pickup:!1,service:!1},this.container.requestView=!0},showApproval:function(){this.current_page=1,this.fetchedOrder(1),this.hideAllView(),this.nav={request:!1,approve:!0,warehouse:!1,shipping:!1,del:!1,pickup:!1,service:!1},this.container.approvalView=!0},showApproved:function(){this.current_page=1,this.fetchedOrder(3),this.hideAllView(),this.nav={request:!1,approve:!1,warehouse:!0,shipping:!1,del:!1,pickup:!1,service:!1},this.container.showApproved=!0},showShipping:function(){this.current_page=1,this.fetchedOrder(2),this.hideAllView(),this.nav={request:!1,approve:!1,warehouse:!1,shipping:!0,del:!1,pickup:!1,service:!1},this.container.showShipping=!0},showLog:function(){this.hideAllView(),this.container.showLog=!0,this.nav={request:!1,approve:!1,warehouse:!1,shipping:!1,del:!0,pickup:!1,service:!1},this.fetchedOrderLog()},showPickup:function(){this.hideAllView(),this.container.showPickup=!0,this.nav={request:!1,approve:!1,warehouse:!1,shipping:!1,del:!1,pickup:!0,service:!1},this.fetchedOrderPickup()},showService:function(){this.hideAllView(),this.container.showService=!0,this.nav={request:!1,approve:!1,warehouse:!1,shipping:!1,del:!1,pickup:!1,service:!0},this.fetchedOrderService()},hideAllView:function(){this.container.requestView=!1,this.container.approvalView=!1,this.container.showApproved=!1,this.container.showShipping=!1,this.container.showPickup=!1,this.container.showLog=!1,this.container.showService=!1},disableMemberAndBranch:function(){this.items.length>0?($("#member_id").select2("disable",!0),$("#branch_id").attr("disabled",!0)):(1!=this.is_member&&$("#member_id").select2("enable",!0),$("#branch_id").attr("disabled",!1))},submitItem:function(){var t=this.items,e=this.request,i=$("#order_has_attachment").val(),o=this;alertify.confirm("Are you sure you want to submit this request?",function(a){if(a){var r=$("#chkFromService").is(":checked"),n=$("#chkFromNotif").is(":checked"),s=0;r&&(s=1);var l=0;n&&(l=1),$(".loading").show();var d=new FormData;if(1==i){var p=$("input[name=requestAttachment]")[0].files[0];if(!d)return void alertify.alert("Add Attachment First");d.append("file",p)}d.append("functionName","submitWhOrder"),d.append("items",JSON.stringify(t)),d.append("request",JSON.stringify(e)),d.append("is_service",s),d.append("is_service_notification",l),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",contentType:!1,processData:!1,data:d,dataType:"json",success:function(t){if(t.success){if(o.orderCount(),l){tempToast("info","<p>FOR SERVICE PROCESSING<br>Click Pending at Service on the upper right corner of this page to monitor your request!</p>","<h4>Information!</h4>",{closeButton:!0,timeOut:15e3})}tempToast("info","<p>Order was successfully requested</p>","<h4>Information!</h4>"),1!=o.is_member&&$("#member_id").select2("val",null),$("#branch_id").select2("val",null),1!=o.is_member?o.request={spec_station_id:0,spec_sales_type:0,member_id:"",branch_id:"",branch_id_to:"",shipping_company_id:"",remarks:"",item_id:"",qty:"",client_po:"",for_pickup:0,is_reserve:0,gen_sales_type:0}:o.request={spec_station_id:0,spec_sales_type:0,member_id:e.member_id,branch_id:"",branch_id_to:"",shipping_company_id:"",remarks:"",item_id:"",qty:"",client_po:"",is_reserve:0,gen_sales_type:0},$("#chkFromService").prop("checked",!1),$("#chkFromNotif").prop("checked",!1),o.cart_item_ctr=0,o.items=[],o.current_credit_list=[],o.disableMemberAndBranch()}else tempToast("error","<p>Request failed. Please try again.</p>","<h4>Error!</h4>"),t.message&&tempToast("error",t.message,"<h4>Error!</h4>");localStorage.removeItem("wh_backup_items"),localStorage.removeItem("wh_backup_request"),$(".loading").hide()},error:function(){console.log("Submit item")}})}})},removeAll:function(){var t=this;alertify.confirm("Are you sure you want to remove all item(s)?",function(e){e&&(t.items=[],t.cart_item_ctr=0)})},isAlreadyAdded:function(t){for(var e in this.items)if(this.items[e].item_id==t)return!0;return!1},fetchedOrder:function(t,e){var i=this;e&&(i.current_page=1);var o=i.current_page?i.current_page:0;i.current_status_order=t;var a=i.warehouse_dt1,r=i.warehouse_dt2,n=i.warehouse_showall?1:0;if(3==t){var s=$("#btnWarehouseSearchRecord");button_action.start_loading(s),i.pending_counts.warehouse<500&&(n=1)}1!=i.showLoading&&(i.showLoading=!0,$.ajax({url:"../ajax/ajax_query2.php",type:"POST",dataType:"json",data:{functionName:"getWhOrders",stat:t,dt1:a,dt2:r,show_all:n,page:o,search:i.search_text,branch_id:i.branch_id_filter,salestype:i.salestype_filter,for_pickup:i.for_pickup_filter,assemble:i.assemble_filter},success:function(e){i.$set("orders",e.items),$(".nav_order").html(e.nav),3==t&&button_action.end_loading(s),i.showLoading=!1},error:function(){console.log("Fetched Item"),i.showLoading=!1}}))},fetchedOrderCur:function(){var t=this.orders;this.$set("orders",t)},fetchedOrderLog:function(){var t=this,e=t.log_from,i=t.log_to,o=t.log_search,a=t.log_truck_id,r=t.del_filter_type;t.showLoading=!0,$.ajax({url:"../ajax/ajax_query2.php",type:"POST",dataType:"json",data:{functionName:"getWhOrderLog",search:o,from:e,to:i,order_type:r,truck_id:a},success:function(e){t.$set("orders_log",e),t.showLoading=!1},error:function(){console.log("Fetched Item"),t.showLoading=!1}})},getStocks:function(){var t=this,e=t.current_order,i=$("#btnGetStock"),o=i.html();i.attr("disabled",!0),i.html("Loading..."),t.ajaxRequest||(t.ajaxRequest=!0,$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"getStockWarehouse",order_id:e},success:function(e){tempToast("info","<p>"+e+"</p>","<h4>Information!</h4>"),$("#myModal").modal("hide"),i.attr("disabled",!1),i.html(o),t.ajaxRequest=!1,t.fetchedOrder(3)},error:function(){t.ajaxRequest=!1,tempToast("error","<p>Error occur. Please try again.</p>","<h4>Error!</h4>")}}))},assembleItem:function(){var t=this.current_order,e=$("#btnAssembleItem");e.html();e.attr("disabled",!0),e.html("Loading..."),localStorage.get_order_id_assemble=t,location.href="assemble-composite-item.php"},processToShipping:function(){var t=this,e=t.current_order,i=$("#btnProcessToShipping"),o=i.html();i.attr("disabled",!0),i.html("Loading..."),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"processToShipping",order_id:e},success:function(e){tempToast("info","<p>"+e+"</p>","<h4>Information!</h4>"),$("#myModal").modal("hide"),i.attr("disabled",!1),i.html(o),t.fetchedOrder(3),t.orderCount()},error:function(){tempToast("error","<p>Error occur. Please try again.</p>","<h4>Error!</h4>")}})},returnStocks:function(){var t=this,e=t.current_order,i=(t.current_order_det,$("#btnReturnStocks")),o=i.html();i.attr("disabled",!0),i.html("Loading..."),alertify.confirm("Are you sure you want to return this stocks?",function(a){a?$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"returnStocks",order_id:e},success:function(e){tempToast("info","<p>"+e+"</p>","<h4>Information!</h4>"),$("#myModal").modal("hide"),i.attr("disabled",!1),i.html(o),t.fetchedOrder(3)},error:function(){tempToast("error","<p>Error occur. Please try again.</p>","<h4>Error!</h4>")}}):(i.attr("disabled",!1),i.html(o))})},getOrderDetails:function(t){this.current_order_det=t,this.order_updating=0,this.schedule_date="",this.current_order=t.id,this.current_status=t.status,this.current_isScheduled=t.is_scheduled,this.current_stock_out=t.stock_out,this.details_ready=!1,this.rackings=[],$("#myModal").modal("show"),this.getDetailscomp(t.id,t.status)},getDetailscomp:function(t,e){var i=this;$.ajax({url:"../ajax/ajax_query2.php",type:"POST",dataType:"json",data:{functionName:"getWhOrdersDetails",order_id:t,order_status:e},success:function(t){var e=JSON.parse(t.order);i.current_order_obj=e,i.$set("orderDetails",e),i.insufficient=t.ins;try{for(var o in e)"[]"==e[o].bundles&&(i.rackings[e[o].item_id]=JSON.parse(e[o].racking))}catch(t){}try{for(var o in e)i.bundles[e[o].item_id]=JSON.parse(e[o].bundles)}catch(t){}i.details_ready=!0},error:function(){}})},showSerialForm:function(t){var e=this,i=e.current_order_det,o=parseInt(t.qty);$.ajax({url:"../ajax/ajax_product.php",type:"POST",data:{functionName:"selectSerials",payment_id:i.payment_id,qty:o,item_id:t.item_id},dataType:"json",success:function(i){e.serials=i;var a=0;for(var r in i)"0"==i[r].id&&(a+=1);e.bc_scan.serial.item_id=t.item_id,e.bc_scan.serial.cnt=a,e.bc_scan.serial.qty=o},error:function(){}}),$("#myModalSerial").modal("show")},saveSerials:function(){var t=this,e=t.current_order_det;$.ajax({url:"../ajax/ajax_product.php",type:"POST",data:{functionName:"saveSerials",payment_id:e.payment_id,details:JSON.stringify(t.serials)},success:function(i){alertify.alert(i),t.serials=[],$("#myModalSerial").modal("hide"),t.getDetailscomp(e.id,e.status)},error:function(){}})},getOrderDates:function(t){var e=this;e.current_order=t.id,e.current_status=t.status,e.current_isScheduled=t.is_scheduled,e.current_stock_out=t.stock_out,e.current_canBeResched=t.canBeResched,e.current_truck_id=t.truck_id,e.re_truck_id=t.truck_id,e.re_driver_id=t.driverval,e.re_for_pick_up=t.pickup_status,e.re_helper_id=t.helperval,e.dates_ready=!1,e.rackings=[],e.re_schedule_date="",$("#myModalDates").modal("show"),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",dataType:"json",data:{functionName:"getWhOrderDates",order_id:t.id,order_status:t.status},success:function(t){e.$set("scheduleDates",t),e.dates_ready=!0},error:function(){}})},approveOrder:function(){var t=this,e=t.current_order;$(".loading").show(),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"approveWhOrder",order_id:e},dataType:"json",success:function(e){e.success?(tempToast("info","<p>Request approved successfully.</p>","<h4>Information!</h4>"),t.fetchedOrder(1),t.orderCount(),$("#myModal").modal("hide")):tempToast("error","<p>"+e.message+"</p>","<h4>Information!</h4>"),$(".loading").hide()},error:function(){console.log("approveOrder")}})},shipOrder:function(){var t=this,e=t.current_order;$(".loading").show(),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"shipOrder",order_id:e},dataType:"json",success:function(e){e.success?(tempToast("info","<p>Request shipped successfully.</p>","<h4>Information!</h4>"),t.fetchedOrder(2),t.orderCount(),$("#myModal").modal("hide")):tempToast("error","<p>"+e.message+"</p>","<h4>Information!</h4>"),$(".loading").hide()},error:function(){console.log("shipOrder")}})},declineOrder:function(){var t=this,e=t.current_order;$(".loading").show(),$("#myModal").modal("hide"),alertify.prompt("Reason for cancelling (Optional): ",function(i,o){i?$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"declineWhOrder",order_id:e,remarks:o},dataType:"json",success:function(e){e.success?(tempToast("info","<p>Request declined successfully.</p>","<h4>Information!</h4>"),t.fetchedOrder(1),t.orderCount(),$("#myModal").modal("hide")):tempToast("error","<p>Error updating the request. Please refresh and try again.</p>","<h4>Information!</h4>"),$(".loading").hide()},error:function(){console.log("approveOrder")}}):$(".loading").hide()},"")},approveReserveOrder:function(){var t=this,e=t.current_order;$(".loading").show(),$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"approveReserveOrder",order_id:e},dataType:"json",success:function(e){e.success?(tempToast("info","<p>Processed successfully.</p>","<h4>Information!</h4>"),t.fetchedOrder(1),$("#myModal").modal("hide")):tempToast("error","<p>Error updating the request. Please refresh and try again.</p>","<h4>Information!</h4>"),$(".loading").hide()},error:function(){console.log("approveOrder")}})},approveWalkInOrder:function(){var t=this,e=t.current_order;$(".loading").show(),$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"approveWalkInOrder",order_id:e},dataType:"json",success:function(e){e.success?(tempToast("info","<p>Processed successfully.</p>","<h4>Information!</h4>"),t.fetchedOrder(1),$("#myModal").modal("hide")):tempToast("error","<p>Error updating the request. Please refresh and try again.</p>","<h4>Information!</h4>"),$(".loading").hide()},error:function(){console.log("approveOrder")}})},toggleReserve:function(){var t=this,e=t.current_order;$(".loading").show(),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"toggleReserveWhOrder",order_id:e},dataType:"json",success:function(e){e.success?(tempToast("info","<p>Request sent successfully.</p>","<h4>Information!</h4>"),t.fetchedOrder(1),$("#myModal").modal("hide")):tempToast("error","<p>Error updating the request. Please refresh and try again.</p>","<h4>Information!</h4>"),$(".loading").hide()},error:function(){console.log("approveOrder")}})},togglePriorityOrder:function(){var t=this,e=t.current_order;$(".loading").show(),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"togglePriorityOrder",order_id:e},dataType:"json",success:function(e){e.success?(tempToast("info","<p>Request updated successfully.</p>","<h4>Information!</h4>"),t.fetchedOrder(1),$("#myModal").modal("hide")):tempToast("error","<p>Error updating the request. Please refresh and try again.</p>","<h4>Information!</h4>"),$(".loading").hide()},error:function(){console.log("approveOrder")}})}}}),n={vm:r}.vm;n.$watch("request.for_pickup",function(t){1==$("#IS_CEBUHIQ").val()&&1==t&&8!=n.request.price_group_id&&(n.request.price_group_id="0",tempToast("error",'Chosen price group is Invalid for order type "For Pick up".',"Price Group was RESET"))}),$("#branch_id").on("change",function(){n.request.branch_id=$(this).val(),n.checkPendingOrder()}),n.$watch("request.branch_id",function(t){$("#branch_id").select2({placeholder:"From",allowClear:!0})}),$("#branch_id_to").on("change",function(){var t=$(this).val();n.request.branch_id_to=t,$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",dataType:"json",data:{functionName:"branchHasMember",branch_id:t},success:function(t){if(t.member.id&&(n.request.member_id=t.member.id,$("#member_id").select2("data",{id:t.member.id,text:t.member.name})),t.branches.length>0){n.request.branch_id=0,$("#branch_id").select2("val","null");var e="<option value=''></option>";for(var i in t.branches)e+="<option value='"+t.branches[i].branch_id+"'>"+t.branches[i].branch_name+"</option>";$("#branch_id").html(e)}},error:function(){}})}),n.$watch("request.branch_id_to",function(t){$("#branch_id_to").select2({placeholder:"To",allowClear:!0})}),$("#shipping_company_id").on("change",function(){n.request.shipping_company_id=$(this).val()}),n.$watch("request.shipping_company_id",function(t){$("#shipping_company_id").select2({placeholder:"Shipping Company",allowClear:!0})}),$("#update_shipping_company").on("change",function(){n.order_info.shipping_company_id=$(this).val()}),n.$watch("order_info.shipping_company_id",function(t){$("#update_shipping_company").select2({placeholder:"Shipping Company",allowClear:!0})}),n.$watch("helper_id",function(t){$("#helper_id").select2({placeholder:"Select Helper",allowClear:!0})}),$("#helper_id").on("change",function(){n.helper_id=$(this).val()}),$("#member_id").on("change",function(){var t=$(this).val();n.request.member_id=t,$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",dataType:"json",data:{functionName:"getOwnedBranch",member_id:t},success:function(t){var e=t.branches,i=t.stations,o=t.credits;if(n.current_credit_list=o,n.request.price_group_id=t.price_group_id,n.is_hold=t.is_hold,n.member_info.contact_number=t.contact_number,n.member_info.personal_address=t.personal_address,n.member_info.region=t.region,n.member_info.terms=t.terms,n.member_info.credit_limit=t.credit_limit,e.length>0){var a="<option value=''></option>";for(var r in e)a+="<option value='"+e[r].id+"'>"+e[r].name+"</option>";$("#branch_id_to").html(a)}if(i.length>0){a="<option value='0'>Choose Station</option>";for(var r in i)a+="<option value='"+i[r].id+"'>"+i[r].name+"</option>";$("#station_id").html(a),$("#spec_station_id").html(a)}else $("#station_id").html("<option value='0'>No Station</option>"),$("#spec_station_id").html("<option value='0'>No Station</option>")},error:function(){}})}),n.$watch("request.member_id",function(t){}),n.$watch("schedule_date",function(t){$("#schedule_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#schedule_date").datepicker("hide")})}),$("#schedule_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#schedule_date").datepicker("hide"),n.schedule_date=$("#schedule_date").val()}),$("#custom_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#custom_date").datepicker("hide")}),n.$watch("log_from",function(t){$("#log_from").datepicker({autoclose:!0}).on("changeDate",function(t){$("#log_from").datepicker("hide")})}),$("#log_from").datepicker({autoclose:!0}).on("changeDate",function(t){$("#log_from").datepicker("hide"),n.log_from=$("#log_from").val()}),n.$watch("log_to",function(t){$("#log_to").datepicker({autoclose:!0}).on("changeDate",function(t){$("#log_to").datepicker("hide")})}),$("#log_to").datepicker({autoclose:!0}).on("changeDate",function(t){$("#log_to").datepicker("hide"),n.log_to=$("#log_to").val()}),n.$watch("re_schedule_date",function(t){$("#re_schedule_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#re_schedule_date").datepicker("hide")})}),$("#re_schedule_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#re_schedule_date").datepicker("hide"),n.re_schedule_date=$("#re_schedule_date").val()}),n.$watch("warehouse_dt1",function(t){$("#warehouse_dt1").datepicker({autoclose:!0}).on("changeDate",function(t){$("#warehouse_dt1").datepicker("hide")})}),$("#warehouse_dt1").datepicker({autoclose:!0}).on("changeDate",function(t){$("#warehouse_dt1").datepicker("hide"),n.warehouse_dt1=$("#warehouse_dt1").val()}),n.$watch("warehouse_dt2",function(t){$("#warehouse_dt2").datepicker({autoclose:!0}).on("changeDate",function(t){$("#warehouse_dt2").datepicker("hide")})}),$("#warehouse_dt2").datepicker({autoclose:!0}).on("changeDate",function(t){$("#warehouse_dt2").datepicker("hide"),n.warehouse_dt2=$("#warehouse_dt2").val()}),function(t){var e=!1;function i(){var i=$(".cashreceiveok"),o=i.html();i.attr("disabled",!0),i.html("Loading...");var a=$("#hidcashpayment").val();a||(a=0);var r=$("#hidcreditpayment").val();r||(r=0);var n=$("#hidbanktransferpayment").val();n||(n=0);var s=$("#hidchequepayment").val();s||(s=0);var l=$("#hidconsumablepayment").val();l||(l=0);var d=$("#hidconsumablepaymentfreebies").val();d||(d=0);var p=$("#hidmembercredit").val(),c=$("#hidmemberdeduction").val();c||(c=0),p||(p=0);var h=$("#member_credit_cod").is(":checked");h=h?1:0;var m=parseFloat(a)+parseFloat(r)+parseFloat(n)+parseFloat(s)+parseFloat(l)+parseFloat(d)+parseFloat(p)+parseFloat(c),_=parseFloat($("#hidamountdue").val());if(m=number_format(m,2,".",""),_=number_format(_,2,".",""),parseFloat(m)<0||parseFloat(m)<parseFloat(_))return function(t,e){$("#cashreceiveholder").empty(),$("#changeholder").empty(),$("#cashreceiveholder").append(number_format(t,2)),$("#changeholder").append(number_format(e,2))}(0,0),showToast("error","<p>Invalid payment s</p>","<h3>WARNING!</h3>","toast-bottom-right"),i.attr("disabled",!1),void i.html(o);if(!(function(){if($("#ch_table tr").children().length){var t=new Array,e=$("#ch_firstname").val(),i=$("#ch_middlename").val(),o=$("#ch_lastname").val(),a=$("#ch_phone").val();return e&&!u(e)?(showToast("error","<p>First name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):i&&!u(i)?(showToast("error","<p>Middle name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):o&&!u(o)?(showToast("error","<p>Last name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):a&&!u(a)?(showToast("error","<p>Phone should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):($("#ch_table tr").each(function(r){var n=$(this);t[r]={date:n.children().eq(0).text(),cheque_number:n.children().eq(1).text(),amount:n.children().eq(2).text(),bank_name:n.children().eq(3).text(),firstname:e,lastname:o,middlename:i,phone:a}}),localStorage.payment_cheque=JSON.stringify(t),!0)}return!0}()&&function(){if($("#credit_table tr").children().length){var t=new Array,e=$("#billing_firstname").val(),i=$("#billing_middlename").val(),o=$("#billing_lastname").val(),a=$("#billing_company").val(),r=$("#billing_address").val(),n=$("#billing_postal").val(),s=$("#billing_phone").val(),l=$("#billing_email").val(),d=$("#billing_remarks").val();return o&&!u(o)?(showToast("error","<p>Last name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):e&&!u(e)?(showToast("error","<p>First name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):i&&!u(i)?(showToast("error","<p>Middle name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):a&&!u(a)?(showToast("error","<p>Company should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):r&&!u(r)?(showToast("error","<p>Address should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):n&&!f(n)?(showToast("error","<p>Postal should be numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):s&&!u(s)?(showToast("error","<p>Phone should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):l&&!v(l)?(showToast("error","<p>Email should be valid email address</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):d&&!u(d)?(showToast("error","<p>Remarks should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):($("#credit_table tr").each(function(p){var c=$(this);t[p]={credit_number:c.children().eq(0).text(),amount:c.children().eq(1).text(),bank_name:c.children().eq(2).text(),firstname:e,lastname:o,middlename:i,phone:s,comp:a,add:r,postal:n,email:l,remarks:d,card_type:c.attr("data-card_type"),trace_number:c.attr("data-trace_number"),approval_code:c.attr("data-approval_code"),date:c.attr("data-date")}}),localStorage.payment_credit=JSON.stringify(t),!0)}return!0}()&&function(){if($("#bt_table tr").children().length){var t=new Array,e=$("#bt_bankto_name").val(),i=$("#bt_bankto_account_number").val(),o=$("#bt_firstname").val(),a=$("#bt_middlename").val(),r=$("#bt_lastname").val(),n=$("#bt_company").val(),s=$("#bt_address").val(),l=$("#bt_postal").val(),d=$("#bt_phone").val(),p=$("#bt_date").val();return p?e&&!u(e)?(showToast("error","<p>Bank name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):i&&!u(i)?(showToast("error","<p>Bank account number should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):o&&!u(o)?(showToast("error","<p>First name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):a&!u(a)?(showToast("error","<p>Middle name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):r&&!u(r)?(showToast("error","<p>Last name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):n&&!u(n)?(showToast("error","<p>Company should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):s&&!u(s)?(showToast("error","<p>Address should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):l&&!f(l)?(showToast("error","<p>Phone should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):d&&!u(d)?(showToast("error","<p>Phone should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):($("#bt_table tr").each(function(c){var h=$(this);t[c]={credit_number:h.children().eq(0).text(),amount:h.children().eq(1).text(),bank_name:h.children().eq(2).text(),bt_bankto_name:e,bt_bankto_account_number:i,firstname:o,lastname:r,middlename:a,phone:d,comp:n,add:s,postal:l,date:p}}),localStorage.payment_bt=JSON.stringify(t),!0):(showToast("error","<p>Please Complete Bank Transfer  billing form. </p>","<h3>WARNING!</h3>","toast-bottom-right"),!1)}return!0}()&&function(){if($("#member_deduction_table > tbody > tr").children().length){var t=new Array,e=$("#member_deduction").val();return $("#member_deduction_table > tbody > tr").each(function(i){var o=$(this),a=o.attr("data-amount"),r=o.children().eq(2).text();t[i]={member_id:e,amount:a,remarks:r}}),localStorage.payment_member_deduction=JSON.stringify(t),!0}return!0}()))return i.attr("disabled",!1),void i.html(o);var b=parseFloat(m)-parseFloat(_);a=parseFloat(a)-parseFloat(b),localStorage.payment_cash=a,localStorage.payment_con=l,localStorage.payment_con_freebies=d,localStorage.payment_member_credit=p,alertify.confirm("Are you sure you want to submit this payment?",function(a){if(a){var r,n,s,l,d,p,c,u,f=$("#payment_order_id").val();if(localStorage.payment_cash&&(l=localStorage.payment_cash),localStorage.payment_con&&(p=localStorage.payment_con),localStorage.payment_con_freebies&&(d=localStorage.payment_con_freebies),localStorage.payment_member_credit&&(c=localStorage.payment_member_credit),localStorage.payment_credit&&(r=localStorage.payment_credit),localStorage.payment_bt&&(n=localStorage.payment_bt),localStorage.payment_cheque&&(s=localStorage.payment_cheque),localStorage.payment_member_deduction&&(u=localStorage.payment_member_deduction),e)return;e=!0;var v=[];$("input:checkbox.chk_overpayment").each(function(){var t=$(this);if(t.is(":checked")){var e=t.prev().val();v.push({id:t.val(),amount:e})}}),$.ajax({url:"../ajax/ajax_query2.php",type:"POST",data:{functionName:"sendPaymentWh",payment_credit:r,payment_bt:n,payment_cheque:s,payment_cash:l,payment_con:p,payment_con_freebies:d,payment_member_credit:c,member_credit_cod:h,payment_member_deduction:u,order_id:f,override_payment_date:t.override_payment_date,arr_op_ids:JSON.stringify(v),totalpayment:m,terminal_id:localStorage.terminal_id},success:function(a){e=!1,tempToast("info","<p>"+a+"</p>","<h4>Information!</h4>"),i.attr("disabled",!1),i.html(o),t.printGroup(f),t.fetchedOrder(1),localStorage.removeItem("payment_cheque"),localStorage.removeItem("payment_credit"),localStorage.removeItem("payment_bt"),localStorage.removeItem("payment_cash"),localStorage.removeItem("payment_con"),localStorage.removeItem("payment_con_freebies"),localStorage.removeItem("payment_member_credit"),localStorage.removeItem("payment_member_deduction"),$("#hidmembercredit").val(0),$("#hidmemberdeduction").val(0),$("#hidcashpayment").val(0),$("#hidcreditpayment").val(0),$("#hidbanktransferpayment").val(0),$("#hidchequepayment").val(0),$("#hidconsumablepayment").val(0),$("#hidconsumablepaymentfreebies").val(0),t.override_payment_date="",$("#chkInvoice").prop("checked",!1),$("#chkDr").prop("checked",!1),$("#chkPr").prop("checked",!1),$("#chkSv").prop("checked",!1)},error:function(){e=!1,tempToast("error","<p>Error Occur. Please try again.</p>","<h4>Error!</h4>"),i.attr("disabled",!1),i.html(o),t.fetchedOrder(1),localStorage.removeItem("payment_cheque"),localStorage.removeItem("payment_credit"),localStorage.removeItem("payment_bt"),localStorage.removeItem("payment_cash"),localStorage.removeItem("payment_con"),localStorage.removeItem("payment_con_freebies"),localStorage.removeItem("payment_member_credit"),localStorage.removeItem("payment_member_deduction"),$("#hidmembercredit").val(0),$("#hidmemberdeduction").val(0),$("#hidcashpayment").val(0),$("#hidcreditpayment").val(0),$("#hidbanktransferpayment").val(0),$("#hidchequepayment").val(0),$("#hidconsumablepayment").val(0),$("#hidconsumablepaymentfreebies").val(0)}}),$("#credit_table").find("tr").remove(),$("#bt_table").find("tr").remove(),$("#ch_table").find("tr").remove(),$("#tab_d :input[type='text']").val(""),$("#tab_c :input[type='text']").val(""),$("#tab_b :input[type='text']").val(""),$("#tab_a :input[type='text']").val(""),$("#getpricemodal").modal("hide")}else i.attr("disabled",!1),i.html(o)})}function o(){var t=$("#cashreceivetext").val();t||(t=0);var e=$("#con_amount").val();e||(e=0);var i=$("#con_amount_freebies").val();i||(i=0);var o=$("#member_credit_amount").val();o||(o=0);var a=$("#hidmemberdeduction").val();a||(a=0);var r=$("#hidcreditpayment").val();r||(r=0);var n=$("#hidbanktransferpayment").val();n||(n=0);var s=$("#hidchequepayment").val();s||(s=0);var l=parseFloat(t)+parseFloat(e)+parseFloat(i)+parseFloat(o)+parseFloat(r)+parseFloat(n)+parseFloat(s)+parseFloat(a);$("#totalOfAllPayment").html("<strong><span style='font-size:1.2em;' class='text-info' >Total Payment: "+l.toFixed(2)+"</span></strong>")}function a(){var t=$("#cashreceivetext").val();t||(t=0),$("#totalcashpayment").html(t),o()}function r(){var t=$("#con_amount").val();t||(t=0),$("#totalconsumablepayment").html(t),o()}function n(){var t=$("#member_credit_amount").val();t||(t=0),$("#totalmembercredit").html(t),o()}function s(){var t=0;$("#member_deduction_table > tbody > tr").each(function(e){var i=$(this).attr("data-amount");i=parseFloat(i),t=parseFloat(t)+parseFloat(i)}),$("#totalmemberdeduction").html(t),$("#hidmemberdeduction").val(t),o()}function l(){var t=$("#con_amount_freebies").val();t||(t=0),$("#totalconsumablepaymentfreebies").html(t),o()}function d(){var t=0;$("#credit_table tr").children().length&&$("#credit_table tr").each(function(e){var i=$(this).children().eq(1).text();t=parseFloat(t)+parseFloat(i)}),$("#totalcreditpayment").html(t),$("#hidcreditpayment").val(t),o()}function p(){var t=0;$("#bt_table tr").children().length&&$("#bt_table tr").each(function(e){var i=$(this).children().eq(1).text();t=parseFloat(t)+parseFloat(i)}),$("#totalbanktransferpayment").html(t),$("#hidbanktransferpayment").val(t),o()}function c(){var t=0;$("#ch_table tr").children().length&&$("#ch_table tr").each(function(e){var i=$(this).children().eq(2).text();t=parseFloat(t)+parseFloat(i)}),$("#totalchequepayment").html(t),$("#hidchequepayment").val(t),o()}function h(t,e){var i=$("#hidcashpayment").val();i||(i=0);var o=$("#hidcreditpayment").val();o||(o=0);var a=$("#hidbanktransferpayment").val();a||(a=0);var r=$("#hidchequepayment").val();r||(r=0);var n=$("#hidconsumablepayment").val();n||(n=0);var s=$("#hidconsumablepaymentfreebies").val();s||(s=0);var l=$("#hidmembercredit").val();l||(l=0);var d=$("#hidmemberdeduction").val();d||(d=0);var p=parseFloat($("#hidamountdue").val()),c=parseFloat(o)+parseFloat(a)+parseFloat(r)+parseFloat(n)+parseFloat(s)+parseFloat(l)+parseFloat(d);return e&&(c=parseFloat(c)+parseFloat(t)),parseFloat(c).toFixed(2)>parseFloat(p)}function u(t){return!!/^[\w\-\s\.,??]+$/.test(t)}function m(t){return/^(0[1-9]|1[0-2])\/(0[1-9]|1\d|2\d|3[01])\/(19|20)\d{2}$/.test(t)}function f(t){return!!/^[0-9]+$/.test(t)}function v(t){return!!/^[\w\.-_\+]+@[\w-]+(\.\w{2,3})+$/.test(t)}function _(){var t=$("#op_cashreceivetext").val();t||(t=0);var e=$("#op_hidcreditpayment").val();e||(e=0);var i=$("#op_hidbanktransferpayment").val();i||(i=0);var o=$("#op_hidchequepayment").val();o||(o=0);var a=parseFloat(t)+parseFloat(e)+parseFloat(i)+parseFloat(o);$("#op_totalOfAllPayment").html("<strong><span style='font-size:1.2em;' class='text-info' >Total Over Payment: "+a.toFixed(2)+"</span></strong>")}function b(){var t=$("#op_cashreceivetext").val();t||(t=0),$("#op_totalcashpayment").html(t),_()}function y(){var t=0;$("#op_credit_table tr").children().length&&$("#op_credit_table tr").each(function(e){var i=$(this).children().eq(1).text();t=parseFloat(t)+parseFloat(i)}),$("#op_totalcreditpayment").html(t),$("#op_hidcreditpayment").val(t),_()}function g(){var t=0;$("#op_bt_table tr").children().length&&$("#op_bt_table tr").each(function(e){var i=$(this).children().eq(1).text();t=parseFloat(t)+parseFloat(i)}),$("#op_totalbanktransferpayment").html(t),$("#op_hidbanktransferpayment").val(t),_()}function x(){var t=0;$("#op_ch_table tr").children().length&&$("#op_ch_table tr").each(function(e){var i=$(this).children().eq(2).text();t=parseFloat(t)+parseFloat(i)}),$("#op_totalchequepayment").html(t),$("#op_hidchequepayment").val(t),_()}$("body").on("click",".opennewtabimage",function(){var t=$(this).attr("src");$.swipebox([{href:t,title:""}])}),$("#con_member").select2({placeholder:"Choose member name...",allowClear:!0}).on("select2-open",function(){}).on("select2-close",function(t){setTimeout(function(){$(".select2-container-active").removeClass("select2-container-active"),$(":focus").blur()},100)}),$("#con_member_freebies").select2({placeholder:"Choose member name...",allowClear:!0}).on("select2-open",function(){}).on("select2-close",function(t){setTimeout(function(){$(".select2-container-active").removeClass("select2-container-active"),$(":focus").blur()},100)}),$("#member_credit").select2({placeholder:"Choose member name...",allowClear:!0}),$("#member_deduction").select2({placeholder:"Choose member name...",allowClear:!0}),$(".cashreceivecancel").click(function(){$("#getpricemodal").modal("hide"),$("#credit_table").find("tr").remove(),$("#bt_table").find("tr").remove(),$("#ch_table").find("tr").remove(),$("#tab_d :input[type='text']").val(""),$("#tab_c :input[type='text']").val(""),$("#tab_b :input[type='text']").val(""),$("#tab_a :input[type='text']").val(""),localStorage.removeItem("payment_cheque"),localStorage.removeItem("payment_credit"),localStorage.removeItem("payment_bt"),localStorage.removeItem("payment_cash"),localStorage.removeItem("payment_con"),localStorage.removeItem("payment_con_freebies"),localStorage.removeItem("payment_member_credit"),localStorage.removeItem("payment_member_deduction")}),$("body").on("click",".cashreceiveok",function(){i()}),$("#ch_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#ch_date").datepicker("hide")}),$("#billing_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#billing_date").datepicker("hide")}),$("#bt_date").datepicker({autoclose:!0}).on("changeDate",function(t){$("#bt_date").datepicker("hide")}),$("#billing_firstname, #billing_middlename, #billing_lastname, #billing_company, #billing_address, #billing_postal,#billing_phone,#billing_email,#billing_remarks").keyup(function(){var t;t=$(this),$("#credit_table tr").children().length||(showToast("error","<p>Please Add Credit Card First. </p>","<h3>WARNING!</h3>","toast-bottom-right"),t.val(""))}),$("#bt_bankto_name, #bt_bankto_account_number, #bt_firstname, #bt_middlename, #bt_lastname, #bt_company,#bt_address,#bt_postal,#bt_phone").keyup(function(){var t;t=$(this),$("#bt_table tr").children().length||(showToast("error","<p>Please Add Bank Transfer Data First. </p>","<h3>WARNING!</h3>","toast-bottom-right"),t.val(""))}),$("#ch_firstname, #ch_middlename, #ch_lastname, #ch_phone").keyup(function(){var t;t=$(this),$("#ch_table tr").children().length||(showToast("error","<p>Please Add Cheque Data First. </p>","<h3>WARNING!</h3>","toast-bottom-right"),t.val(""))}),$("#cashreceivetext").keypress(function(t){13==t.which&&(i(),$("#cashreceivetext").val(""),$("#getpricemodal").modal("hide"))}),$("#cashreceivetext").keyup(function(t){isNaN($(this).val())&&(showToast("error","<p>Please Enter Valid Amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val(""),$(this).focus()),$("#hidcashpayment").val($(this).val()),a()}),$("#addcreditcard").click(function(){var t=$("#billing_cardnumber").val(),e=$("#billing_bankname").val(),i=$("#billing_amount").val(),o=$("#billing_card_type").val(),a=$("#billing_trace_number").val(),r=$("#billing_approval_code").val(),n=$("#billing_date").val(),s="<p>Card Type: "+o+"</p>";s+="<p>Trace Number: "+a+"</p>",s+="<p>Approval Code: "+r+"</p>",s+="<p>Date: "+n+"</p>",t||(t="N/A"),i?isNaN(i)?showToast("error","<p>Please indicate a valid amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):e?h(i,!0)?showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"):($("#credit_table").append("<tr data-date='"+n+"' data-card_type='"+o+"' data-trace_number='"+a+"' data-approval_code='"+r+"'><td>"+t+"</td><td>"+i+"</td><td>"+e+"</td><td>"+s+"</td><td><span  class='glyphicon glyphicon-remove-sign removeItem'></span></td></tr>"),$("#billing_cardnumber").val(""),$("#billing_bankname").val(""),$("#billing_amount").val(""),$("#billing_card_type").val(""),$("#billing_trace_number").val(""),$("#billing_approval_code").val(""),$("#billing_date").val(""),d()):showToast("error","<p>Please indicate bank name</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate amount</p>","<h3>WARNING!</h3>","toast-bottom-right")}),$("body").on("click",".removeItem",function(){$(this).parents("tr").remove();d(),a(),r(),p(),c()}),$("#addbanktransfer").click(function(){var t=$("#bankfrom_account_number").val(),e=$("#bankfrom_name").val(),i=$("#bt_amount").val();t?i?isNaN(i)?showToast("error","<p>Please indicate a valid amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):parseFloat(i)<1?showToast("error","<p>Amount should be greater than Zero</p>","<h3>WARNING!</h3>","toast-bottom-right"):e?h(i,!0)?showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"):($("#bt_table").append("<tr><td>"+t+"</td><td>"+i+"</td><td>"+e+"</td><td><span  class='glyphicon glyphicon-remove-sign removeItem'></span></td></tr>"),$("#bankfrom_account_number").val(""),$("#bankfrom_name").val(""),$("#bt_amount").val(""),p()):showToast("error","<p>Please indicate bank name</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate card number</p>","<h3>WARNING!</h3>","toast-bottom-right")}),$("#addcheque").click(function(){var t=$("#ch_date").val(),e=$("#ch_number").val(),i=$("#ch_amount").val(),o=$("#ch_bankname").val();t?e?i?m(t)?isNaN(i)?showToast("error","<p>Please indicate a valid amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):parseFloat(i)<1?showToast("error","<p>Amount should be greater than Zero</p>","<h3>WARNING!</h3>","toast-bottom-right"):o?h(i,!0)?showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"):($("#ch_table").append("<tr><td>"+t+"</td><td>"+e+"</td><td>"+i+"</td><td>"+o+"</td><td><span  class='glyphicon glyphicon-remove-sign removeItem'></span></td></tr>"),$("#ch_date").val(""),$("#ch_number").val(""),$("#ch_amount").val(""),$("#ch_bankname").val(""),c()):showToast("error","<p>Please indicate bank name</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Invalid Date Format. It should be mm/dd/yyyy (Ex. 01/01/2014) </p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate card number</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate date</p>","<h3>WARNING!</h3>","toast-bottom-right")}),$("#con_amount_freebies").keyup(function(t){if($("#con_member_freebies").val()){var e=$("#con_member_freebies option:selected").attr("data-con_freebies");parseFloat(localStorage.totalforfreebies);1e7,parseFloat($(this).val())>1e7&&(showToast("error","<p>Invalid freebies amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).focus(),$(this).val("")),parseFloat(e)<parseFloat($(this).val())&&(showToast("error","<p>Invalid freebies amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).focus(),$(this).val("")),isNaN($(this).val())&&(showToast("error","<p>Please Enter Valid Amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val(""),$(this).focus()),$("#hidconsumablepaymentfreebies").val($(this).val()),h($(this).val(),!1)&&(showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val("")),$("#hidconsumablepaymentfreebies").val($(this).val()),l()}else showToast("error","<p>Please Choose member first</p>","<h3>WARNING!</h3>","toast-bottom-right")}),$("#member_credit_amount").keyup(function(t){if(!$("#member_credit").val())return showToast("error","<p>Please Choose member first</p>","<h3>WARNING!</h3>","toast-bottom-right"),void $(this).val("");isNaN($(this).val())&&(showToast("error","<p>Please Enter Valid Amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val(""),$(this).focus()),$("#hidmembercredit").val($(this).val()),h($(this).val(),!1)&&(showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val("")),$("#hidmembercredit").val($(this).val()),n()}),$("#member_deduction_amount").keyup(function(t){if(!$("#member_deduction").val())return showToast("error","<p>Please Choose member first</p>","<h3>WARNING!</h3>","toast-bottom-right"),void $(this).val("");isNaN($(this).val())&&(showToast("error","<p>Please Enter Valid Amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val(""),$(this).focus()),s()}),$("#con_amount").keyup(function(t){if($("#con_member").val()){if(1==localStorage.hasType2){var e=$("#con_member option:selected").text(),i=$("#con_member").val();removeMemberDetails(),$("#membersIdHelper").append("Member Id: "),$("#memberId").append(i),$("#membersnameHelper").append("Name: "),$("#membersname").append(e),localStorage.removeItem("temp_item_holder")}var o=$("#con_member option:selected").attr("data-con");parseFloat(o)<parseFloat($(this).val())&&(showToast("error","<p>Invalid consumable amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).focus(),$(this).val("")),isNaN($(this).val())&&(showToast("error","<p>Please Enter Valid Amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val(""),$(this).focus()),$("#hidconsumablepayment").val($(this).val()),h($(this).val(),!1)&&(showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val("")),$("#hidconsumablepayment").val($(this).val()),r()}else showToast("error","<p>Please Choose member first</p>","<h3>WARNING!</h3>","toast-bottom-right")}),$("body").on("click",".btnPayment",function(t){t.preventDefault();var e,i,o=$(this).parents("tr"),h=o.attr("data-total"),u=o.attr("data-id"),m=$(this).attr("data-member_id"),f=$(this).attr("data-for_pick_up");!function(t,e){$("#activaTab").empty(),$("#con_member").append("<option></option>"),$("#con_member_freebies").empty(),$("#con_member_freebies").append("<option></option>"),$("#member_credit").empty(),$("#member_credit").append("<option></option>"),$("#member_deduction").empty(),$("#member_deduction").append("<option></option>"),$.ajax({url:"../ajax/ajax_get_members.php",type:"POST",data:{company_id:t,member_id:e,type:1},success:function(t){if(0!=t){var i=JSON.parse(t);for(var o in i){var a=0,r=0;if(i[o].amt){var n=0;a=i[o].amt,i[o].camt&&(n=i[o].camt),a-=n,$("#con_member").append("<option data-con='"+a+"' value='"+i[o].id+"'>"+i[o].lastname+", "+i[o].firstname+" "+i[o].middlename+" ("+a+")</option>")}i[o].freebiesamount&&(r=i[o].freebiesamount),$("#con_member_freebies").append("<option data-con_freebies='"+r+"' value='"+i[o].id+"'>"+i[o].lastname+", "+i[o].firstname+" "+i[o].middlename+" ("+r+")</option>"),$("#member_credit").append("<option value='"+i[o].id+"'>"+i[o].lastname+", "+i[o].firstname+" "+i[o].middlename+"</option>"),$("#member_deduction").append("<option value='"+i[o].id+"'>"+i[o].lastname+", "+i[o].firstname+" "+i[o].middlename+"</option>"),$("#consumable_remarks_holder").html(i[o].consumable_remarks)}$("#con_member_freebies").select2("val",e),$("#member_credit").select2("val",e),$("#con_member").select2("val",e),$("#member_deduction").select2("val",e),$("#con_member_freebies").attr("disabled",!0),$("#member_credit").attr("disabled",!0),$("#con_member").attr("disabled",!0),$("#member_deduction").attr("disabled",!0)}}}),$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"getOverPayment",member_id:e},success:function(t){$("#over_payment_holder").html(t),JSON.parse($("#op_member_list").val()).length>0&&$("#use_user_overpayment").show()},error:function(){}})}(localStorage.company_id,m),$("#payment_order_id").val(u),1==$("#AUTO_MEMBER_CREDIT").val()&&$('.nav-tabs a[href="#'+"tab_g"+'"]').tab("show"),1==$("#IS_CEBUHIQ").val()&&(0==f?($(".tab_nav_a ").hide(1),$(".tab_nav_b ").hide(2),$(".tab_nav_c ").hide(3),$(".tab_nav_e ").hide(4),$(".tab_nav_f ").hide(5)):1==f&&($(".tab_nav_b ").hide(1),$(".tab_nav_c ").hide(2),$(".tab_nav_e ").hide(3),$(".tab_nav_f ").hide(4))),e="0",i=h.toString(),localStorage.totalforfreebies=e||0,localStorage.removeItem("payment_cheque"),localStorage.removeItem("payment_credit"),localStorage.removeItem("payment_bt"),localStorage.removeItem("payment_cash"),localStorage.removeItem("payment_con"),localStorage.removeItem("payment_con_freebies"),localStorage.removeItem("payment_member_credit"),localStorage.removeItem("payment_member_deduction"),$("#credit_table tbody").html(""),$("#member_deduction_table tbody").html(""),$("#credit_table tbody").html(""),$("#bt_table tbody").html(""),$("#ch_table tbody").html(""),$("#cashreceiveholder").text(0),$("#changeholder").text(0),$("#con_amount_freebies").val(""),$("#con_amount").val(""),$("#member_credit_amount").val(""),$("#hidcashpayment").val(0),$("#hidcreditpayment").val(0),$("#hidbanktransferpayment").val(0),$("#hidchequepayment").val(0),$("#hidconsumablepayment").val(0),$("#hidconsumablepaymentfreebies").val(0),$("#hidmembercredit").val(0),$("#hidmemberdeduction").val(0),$("#hidTotalOfAllPayment").val(0),$("#cashreceivetext").val(""),d(),a(),p(),c(),r(),l(),n(),s(),$("#amountdue").html("<span style='font-size:1.2em;' class='text-info'><strong> Amount Due: "+i+"</strong></span>"),$("#hidamountdue").val(replaceAll(i,",","")),$("#getpricemodal").modal("show"),setTimeout(function(){$("#cashreceivetext").focus()},500)}),$("body").on("click","#btnOverPayment",function(){localStorage.removeItem("op_payment_cheque"),localStorage.removeItem("op_payment_credit"),localStorage.removeItem("op_payment_bt"),localStorage.removeItem("op_payment_cash"),y(),b(),g(),x(),$("#op_label_holder").hide(),$("#modalOverPayment").modal("show")}),$("#op_cashreceivetext").keyup(function(t){isNaN($(this).val())&&(showToast("error","<p>Please Enter Valid Amount</p>","<h3>WARNING!</h3>","toast-bottom-right"),$(this).val(""),$(this).focus()),$("#op_hidcashpayment").val($(this).val()),b()}),$("#op_addcreditcard").click(function(){var t=$("#op_billing_cardnumber").val(),e=$("#op_billing_bankname").val(),i=$("#op_billing_amount").val();t||(t="N/A"),i?isNaN(i)?showToast("error","<p>Please indicate a valid amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):e?h(i,!0)?showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"):($("#op_credit_table").append("<tr><td>"+t+"</td><td>"+i+"</td><td>"+e+"</td><td><span  class='glyphicon glyphicon-remove-sign removeItem'></span></td></tr>"),$("#op_billing_cardnumber").val(""),$("#op_billing_bankname").val(""),$("#op_billing_amount").val(""),y()):showToast("error","<p>Please indicate bank name</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate amount</p>","<h3>WARNING!</h3>","toast-bottom-right")}),$("#op_addbanktransfer").click(function(){var t=$("#op_bankfrom_account_number").val(),e=$("#op_bankfrom_name").val(),i=$("#op_bt_amount").val();t?i?isNaN(i)?showToast("error","<p>Please indicate a valid amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):parseFloat(i)<1?showToast("error","<p>Amount should be greater than Zero</p>","<h3>WARNING!</h3>","toast-bottom-right"):e?h(i,!0)?showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"):($("#op_bt_table").append("<tr><td>"+t+"</td><td>"+i+"</td><td>"+e+"</td><td><span  class='glyphicon glyphicon-remove-sign removeItem'></span></td></tr>"),$("#op_bankfrom_account_number").val(""),$("#op_bankfrom_name").val(""),$("#op_bt_amount").val(""),g()):showToast("error","<p>Please indicate bank name</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate card number</p>","<h3>WARNING!</h3>","toast-bottom-right")}),$("#op_addcheque").click(function(){var t=$("#op_ch_date").val(),e=$("#op_ch_number").val(),i=$("#op_ch_amount").val(),o=$("#op_ch_bankname").val();t?e?i?m(t)?isNaN(i)?showToast("error","<p>Please indicate a valid amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):parseFloat(i)<1?showToast("error","<p>Amount should be greater than Zero</p>","<h3>WARNING!</h3>","toast-bottom-right"):o?h(i,!0)?showToast("error","<p>Your payment exceeds to amount due.</p>","<h3>WARNING!</h3>","toast-bottom-right"):($("#op_ch_table").append("<tr><td>"+t+"</td><td>"+e+"</td><td>"+i+"</td><td>"+o+"</td><td><span  class='glyphicon glyphicon-remove-sign removeItem'></span></td></tr>"),$("#op_ch_date").val(""),$("#op_ch_number").val(""),$("#op_ch_amount").val(""),$("#op_ch_bankname").val(""),x()):showToast("error","<p>Please indicate bank name</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Invalid Date Format. It should be mm/dd/yyyy (Ex. 01/01/2014) </p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate amount</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate card number</p>","<h3>WARNING!</h3>","toast-bottom-right"):showToast("error","<p>Please indicate date</p>","<h3>WARNING!</h3>","toast-bottom-right")}),$(".op_cashreceivecancel").click(function(){$("#modalOverPayment").modal("hide"),$("#op_credit_table").find("tr").remove(),$("#op_bt_table").find("tr").remove(),$("#op_ch_table").find("tr").remove(),$("#over_payment_a :input[type='text']").val(""),$("#over_payment_b :input[type='text']").val(""),$("#over_payment_c :input[type='text']").val(""),$("#over_payment_d :input[type='text']").val(""),localStorage.removeItem("payment_cheque"),localStorage.removeItem("payment_credit"),localStorage.removeItem("payment_bt"),localStorage.removeItem("payment_cash"),localStorage.removeItem("payment_con"),localStorage.removeItem("payment_con_freebies"),localStorage.removeItem("payment_member_credit"),localStorage.removeItem("payment_member_deduction"),localStorage.removeItem("op_payment_cheque"),localStorage.removeItem("op_payment_credit"),localStorage.removeItem("op_payment_bt"),localStorage.removeItem("op_payment_cash")}),$("body").on("click",".op_cashreceiveok",function(){var e=$("#op_member_id").val();$("#op_remarks").val();e?function(){var e=$("#op_hidcashpayment").val();e||(e=0);var i=$("#op_hidcreditpayment").val();i||(i=0);var o=$("#op_hidbanktransferpayment").val();o||(o=0);var a=$("#op_hidchequepayment").val();a||(a=0);var r=parseFloat(e)+parseFloat(i)+parseFloat(o)+parseFloat(a);if(r){if(!function(){if($("#op_ch_table tr").children().length){var t=new Array,e=$("#op_ch_firstname").val(),i=$("#op_ch_middlename").val(),o=$("#op_ch_lastname").val(),a=$("#op_ch_phone").val();return e&&!u(e)?(showToast("error","<p>First name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):i&&!u(i)?(showToast("error","<p>Middle name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):o&&!u(o)?(showToast("error","<p>Last name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):a&&!u(a)?(showToast("error","<p>Phone should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):($("#op_ch_table tr").each(function(r){var n=$(this);t[r]={date:n.children().eq(0).text(),cheque_number:n.children().eq(1).text(),amount:n.children().eq(2).text(),bank_name:n.children().eq(3).text(),firstname:e,lastname:o,middlename:i,phone:a}}),localStorage.op_payment_cheque=JSON.stringify(t),!0)}return!0}()||!function(){if($("#op_credit_table tr").children().length){var t=new Array,e=$("#op_billing_firstname").val(),i=$("#op_billing_middlename").val(),o=$("#op_billing_lastname").val(),a=$("#op_billing_company").val(),r=$("#op_billing_address").val(),n=$("#op_billing_postal").val(),s=$("#op_billing_phone").val(),l=$("#op_billing_email").val(),d=$("#op_billing_remarks").val(),p=$("#op_billing_card_type").val(),c=$("#op_billing_trace_number").val(),h=$("#op_billing_approval_code").val(),m=$("#op_billing_date").val();return p&&c&&h&&m?o&&!u(o)?(showToast("error","<p>Last name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):e&&!u(e)?(showToast("error","<p>First name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):i&&!u(i)?(showToast("error","<p>Middle name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):a&&!u(a)?(showToast("error","<p>Company should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):r&&!u(r)?(showToast("error","<p>Address should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):n&&!f(n)?(showToast("error","<p>Postal should be numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):s&&!u(s)?(showToast("error","<p>Phone should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):l&&!v(l)?(showToast("error","<p>Email should be valid email address</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):d&&!u(d)?(showToast("error","<p>Remarks should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):($("#op_credit_table tr").each(function(u){var f=$(this);t[u]={credit_number:f.children().eq(0).text(),amount:f.children().eq(1).text(),bank_name:f.children().eq(2).text(),firstname:e,lastname:o,middlename:i,phone:s,comp:a,add:r,postal:n,email:l,remarks:d,card_type:p,trace_number:c,approval_code:h,date:m}}),localStorage.op_payment_credit=JSON.stringify(t),!0):(showToast("error","<p>Please Complete Credit Card billing form. </p>","<h3>WARNING!</h3>","toast-bottom-right"),!1)}return!0}()||!function(){if($("#op_bt_table tr").children().length){var t=new Array,e=$("#op_bt_bankto_name").val(),i=$("#op_bt_bankto_account_number").val(),o=$("#op_bt_firstname").val(),a=$("#op_bt_middlename").val(),r=$("#op_bt_lastname").val(),n=$("#op_bt_company").val(),s=$("#op_bt_address").val(),l=$("#op_bt_postal").val(),d=$("#op_bt_phone").val(),p=$("#op_bt_date").val();return p?e&&!u(e)?(showToast("error","<p>Bank name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):i&&!u(i)?(showToast("error","<p>Bank account number should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):o&&!u(o)?(showToast("error","<p>First name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):a&!u(a)?(showToast("error","<p>Middle name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):r&&!u(r)?(showToast("error","<p>Last name should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):n&&!u(n)?(showToast("error","<p>Company should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):s&&!u(s)?(showToast("error","<p>Address should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):l&&!f(l)?(showToast("error","<p>Phone should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):d&&!u(d)?(showToast("error","<p>Phone should have letters and numbers only</p>","<h3>WARNING!</h3>","toast-bottom-right"),!1):($("#op_bt_table tr").each(function(c){var h=$(this);t[c]={credit_number:h.children().eq(0).text(),amount:h.children().eq(1).text(),bank_name:h.children().eq(2).text(),bt_bankto_name:e,bt_bankto_account_number:i,firstname:o,lastname:r,middlename:a,phone:d,comp:n,add:s,postal:l,date:p}}),localStorage.op_payment_bt=JSON.stringify(t),!0):(showToast("error","<p>Please Bank Transfer  billing form. </p>","<h3>WARNING!</h3>","toast-bottom-right"),!1)}return!0}())return;var n,s,l,d;e=parseFloat(e)-parseFloat(0),localStorage.op_payment_cash=e,localStorage.op_payment_cash&&(d=localStorage.op_payment_cash),localStorage.op_payment_credit&&(n=localStorage.op_payment_credit),localStorage.op_payment_bt&&(s=localStorage.op_payment_bt),localStorage.op_payment_cheque&&(l=localStorage.op_payment_cheque),d||n||s||l?($("#op_credit_table").find("tr").remove(),$("#op_bt_table").find("tr").remove(),$("#op_ch_table").find("tr").remove(),$("#over_payment_b :input[type='text']").val(""),$("#over_payment_c :input[type='text']").val(""),$("#over_payment_d :input[type='text']").val(""),$("#over_payment_a :input[type='text']").val(""),$("#op_label_holder").show(),$("#op_grandtotalholder").html(number_format(r,2)),$("#modalOverPayment").modal("hide"),$.ajax({url:"../ajax/ajax_wh_order.php",type:"POST",data:{functionName:"saveOverPaymentOrder",op_payment_credit:n,op_payment_bt:s,op_payment_cheque:l,op_payment_cash:d,credit:i,banktransfer:o,cheque:a,terminal_id:localStorage.terminal_id,member_id:$("#op_member_id").val(),remarks:$("#op_remarks").val()},success:function(e){alertify.alert("Payment received",function(){!function(e,i,o){var a=JSON.parse(e),r=a.company_name,n=a.company_address,s=a.member_name,l=a.id,d=i,p=function(t){if((t=t.replace(/[\, ]/g,""))!=parseFloat(t))return"not a number";var e=t.indexOf(".");-1==e&&(e=t.length);if(e>15)return"too big";for(var i=t.split(""),o="",a=0,r=0;r<e;r++)(e-r)%3==2?"1"==i[r]?(o+=k[Number(i[r+1])]+" ",r++,a=1):0!=i[r]&&(o+=N[i[r]-2]+" ",a=1):0!=i[r]&&(o+=S[i[r]]+" ",(e-r)%3==0&&(o+="hundred "),a=1),(e-r)%3==1&&(a&&(o+=w[(e-r-1)/3]+" "),a=0);if(e!=t.length){var n=t.length;o+="point ";for(var r=e+1;r<n;r++)o+=S[i[r]]+" "}return o.replace(/\s+/g," ")}(number_format(d,0,".","")),c=o,h="<div style='border:1px solid #ccc;padding-left:20px;padding-right:20px;'>",u=a.company_contact_number+" "+a.company_email;h+="<h1 style='text-align: center;'> "+r+"</h1>",h+="<p style='position:relative;top:-20px;text-align: center;'>"+n+"</p>",h+="<p style='position:relative;top:-30px;text-align: center;'>"+u+"</p>",h+="<h4 style='position:relative;top:-10px;text-align: center;'><strong>ACKNOWLEDGEMENT RECEIPT</strong></h4>",h+="<p style='position:relative;top:-10px;text-align: center;'>ID #"+l+"</p>",h+="<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is to acknowledge the receipt of payment from <strong>"+s+"</strong> the amount of <strong>"+p+" Pesos Only</strong> (Php. "+d+") as payment of the following: </p>",h+="<p style='height:10px;width:200px;border-bottom: 1px solid #000;'>&nbsp;</p>",h+="<p style='height:10px;width:200px;border-bottom: 1px solid #000;'><span style='position:relative;top:-10px;'>"+c+"</span></p>",h+="<p style='height:10px;width:200px;border-bottom: 1px solid #000;'>&nbsp;</p>",h+="<p style='height:10px;text-align: right;'>Receive By: <span style='display:inline-block;width:200px;border-bottom: 1px solid #000;'></span></p>",h+="<p style='height:10px;text-align: right;'>Date: <span style='display:inline-block;width:200px;border-bottom: 1px solid #000;'></span></p>",h+="</div>",t.popUpPrint(h)}(e,r,$("#op_remarks").val()),location.href="wh-order.php"})},error:function(){}})):tempToast("error","<p>No payment receive.</p>","<h4>Error!</h4>")}}():tempToast("error","<p>Please enter a client</p>","<h4>Information!</h4>")});var w=["","thousand","million","billion","trillion"],S=["zero","one","two","three","four","five","six","seven","eight","nine"],k=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],N=["twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];$("body").on("click","#use_user_overpayment",function(){var t=JSON.parse($("#op_member_list").val());t.length>0&&$("#use_user_overpayment").show();var e="";for(var i in t){var o=t[i].remarks?t[i].remarks:"None";if(1==t[i].status){var a=t[i].json_data,r=t[i].used_total;e+="<div class='panel panel-default'>",e+="<div class='panel-body'>",e+="<p>Remarks: "+o+"</p>",e+="<p>Type: Cash</p>",e+="<p>Used: "+r+"</p>",e+="<p>Total: "+(a-r)+"</p>",e+="<p><input type='text' class='form-control' value='"+(a-r)+"'><input data-status='1' data-id='"+t[i].id+"' value='"+t[i].id+"' data-total='"+t[i].json_data+"' type='checkbox' class='chk_overpayment' > Use Payment</p>",e+="</div>",e+="</div>"}else if(2==t[i].status){e+="<div class='panel panel-default'>",e+="<div class='panel-body'>",e+="<p>Remarks: "+o+"</p>",e+="<p>Type: Credit Card</p>";var n=JSON.parse(t[i].json_data),s=t[i].used_total,l=0;for(var d in n)e+="<p>Card: "+n[d].card_type+"</p>",e+="<p>Trance Number: "+n[d].trace_number+"</p>",e+="<p>Date: "+n[d].date+"</p>",e+="<p>Amount: "+n[d].amount+"</p>",e+="<hr>",l+=parseFloat(l)+parseFloat(n[d].amount);e+="<p>Used: "+s+"</p>",e+="<p>Total: "+(l-s)+"</p>",e+="<p><input class='form-control' type='text' value='"+(l-s)+"'> <input data-json='"+JSON.stringify(t[i])+"' value='"+t[i].id+"' data-status='2' data-id='"+t[i].id+"' data-total='"+l+"' type='checkbox' class='chk_overpayment' > Use Payment</p>",e+="</div>",e+="</div>"}else if(3==t[i].status){e+="<div class='panel panel-default'>",e+="<div class='panel-body'>",e+="<p>Remarks: "+o+"</p>",e+="<p>Type: Check</p>";var p=JSON.parse(t[i].json_data),c=t[i].used_total,h=0;for(var d in p)e+="<p>Ctrl#: "+p[d].cheque_number+"</p>",e+="<p>Date: "+p[d].date+"</p>",e+="<p>Amount: "+p[d].amount+"</p>",e+="<hr>",h=parseFloat(h)+parseFloat(p[d].amount);e+="<p>Used: "+c+"</p>",e+="<p>Total: "+h+"</p>",e+="<p><input class='form-control' type='text' value='"+(h-c)+"'> <input data-json='"+JSON.stringify(t[i])+"' value='"+t[i].id+"'  data-status='3' data-id='"+t[i].id+"' data-total='"+h+"' type='checkbox' class='chk_overpayment' > Use Payment</p>",e+="</div>",e+="</div>"}else if(4==t[i].status){e+="<div class='panel panel-default' >",e+="<div class='panel-body'>",e+="<p>Remarks: "+o+"</p>",e+="<p>Type: Bank Transfer</p>";var u=JSON.parse(t[i].json_data),m=t[i].used_total,f=0;for(var d in u)e+="<p>Date: "+u[d].date+"</p>",e+="<p>Amount: "+u[d].amount+"</p>",f=parseFloat(f)+parseFloat(u[d].amount);e+="<p>Used: "+m+"</p>",e+="<p>Total: "+(f-m)+"</p>",e+="<p> <input class='form-control' type='text' value='"+(f-m)+"'> <input data-json='"+JSON.stringify(t[i])+"'  data-status='4' data-id='"+t[i].id+"' value='"+t[i].id+"' data-total='"+f+"' type='checkbox' class='chk_overpayment' > Use Payment</p>",e+="</div>",e+="</div>"}}$("#right-pane-container").html(e),$(".right-panel-pane").fadeIn(100)}),$("body").on("click",".chk_overpayment",function(){var t=$(this),e=t.attr("data-status"),i=(t.attr("data-total"),t.is(":checked"));if(1==e){var o=$("#cashreceivetext"),r=o.val();r=r||0;var n=t.prev().val();t.attr("data-id");i?(o.val(parseFloat(r)+parseFloat(n)),$("#hidcashpayment").val(parseFloat(r)+parseFloat(n))):(o.val(parseFloat(r)-parseFloat(n)),$("#hidcashpayment").val(parseFloat(r)-parseFloat(n))),a()}else if(2==e){var s=JSON.parse(t.attr("data-json")),l=JSON.parse(s.json_data),h=($("#billing_card_type"),$("#billing_trace_number"),$("#billing_approval_code"),$("#billing_date"),t.attr("data-id")),u=(n=t.prev().val(),.035*parseFloat(n)),m=n-(u=number_format(u,2,".",""));for(var f in m=number_format(m,2,".",""),$("#member_deduction_amount").val(u),l)if(i){var v="<p>Card Type: "+l[f].card_type+"</p>";v+="<p>Trace Number: "+l[f].trace_number+"</p>",v+="<p>Approval Code: "+l[f].approval_code+"</p>",v+="<p>Date: "+l[f].date+"</p>",$("#credit_table").append("<tr id='from_user_credit_credit"+h+"' data-date='"+l[f].date+"' data-card_type='"+l[f].card_type+"' data-trace_number='"+l[f].trace_number+"' data-approval_code='"+l[f].trace_number+"'><td>"+l[f].credit_number+"</td><td>"+m+"</td><td>"+l[f].bank_name+"</td><td>"+v+"</td><td><span  class='glyphicon glyphicon-remove-sign removeItem'></span></td></tr>")}else $("#from_user_credit_credit"+h).remove();d()}else if(3==e){s=JSON.parse(t.attr("data-json"));var _=JSON.parse(s.json_data),b=$("#ch_firstname"),y=$("#ch_middlename"),g=$("#ch_lastname"),x=$("#ch_phone");n=t.prev().val(),h=t.attr("data-id");for(var f in _)i?($("#ch_table").append("<tr id='from_user_credit_check"+h+"' ><td>"+_[f].date+"</td><td>"+_[f].cheque_number+"</td><td>"+n+"</td><td>"+_[f].bank_name+"</td><td></td></tr>"),b.val(_[f].firstname),y.val(_[f].middlename),g.val(_[f].lastname),x.val(_[f].phone)):$("#from_user_credit_check"+h).remove();c()}else if(4==e){s=JSON.parse(t.attr("data-json"));var w=t.attr("data-id"),S=(_=JSON.parse(s.json_data),b=$("#bt_firstname"),y=$("#bt_middlename"),g=$("#bt_lastname"),$("#bt_date"));n=t.prev().val();for(var f in _)i?(b.val(_[f].firstname),y.val(_[f].middlename),g.val(_[f].lastname),S.val(_[f].date),$("#bt_table").append("<tr id='from_user_credit_check"+w+"' ><td>"+_[f].credit_number+"</td><td>"+n+"</td><td>"+_[f].bank_name+"</td><td></td></tr>")):$("#from_user_credit_check"+w).remove();p()}}),$("body").on("click","#btnAddMoreMemberDeduction",function(){var t=$("#member_deduction"),e=(t.val(),t.select2("data").text),i=$("#member_deduction_amount").val(),o=$("#member_deduction_remarks").val();$("#member_deduction_amount").val(""),$("#member_deduction_remarks").val("");var a="<tr data-amount='"+i+"' ><td>"+e+"</td><td>"+i+"</td><td>"+o+"</td><td><span class='glyphicon glyphicon-remove removeItem'></span></td></tr>";h(i,!0)?showToast("error","<p>Invalid payment</p>","<h3>WARNING!</h3>","toast-bottom-right"):($("#member_deduction_table > tbody").append(a),s())})}(n)}]);